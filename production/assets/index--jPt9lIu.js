function pm(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Lu={},bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Lu<"u"?Lu:typeof self<"u"?self:{};function ha(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mm(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Nd={exports:{}},Wi={},Td={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=Symbol.for("react.element"),gm=Symbol.for("react.portal"),vm=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),Sm=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),Em=Symbol.for("react.memo"),km=Symbol.for("react.lazy"),Au=Symbol.iterator;function Nm(t){return t===null||typeof t!="object"?null:(t=Au&&t[Au]||t["@@iterator"],typeof t=="function"?t:null)}var Od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rd=Object.assign,Ld={};function kr(t,e,n){this.props=t,this.context=e,this.refs=Ld,this.updater=n||Od}kr.prototype.isReactComponent={};kr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ad(){}Ad.prototype=kr.prototype;function pa(t,e,n){this.props=t,this.context=e,this.refs=Ld,this.updater=n||Od}var ma=pa.prototype=new Ad;ma.constructor=pa;Rd(ma,kr.prototype);ma.isPureReactComponent=!0;var Pu=Array.isArray,Pd=Object.prototype.hasOwnProperty,ga={current:null},jd={key:!0,ref:!0,__self:!0,__source:!0};function Md(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Pd.call(e,r)&&!jd.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ss,type:t,key:i,ref:o,props:s,_owner:ga.current}}function Tm(t,e){return{$$typeof:Ss,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function va(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ss}function Om(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ju=/\/+/g;function _o(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Om(""+t.key):e.toString(36)}function Js(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ss:case gm:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+_o(o,0):r,Pu(s)?(n="",t!=null&&(n=t.replace(ju,"$&/")+"/"),Js(s,e,n,"",function(u){return u})):s!=null&&(va(s)&&(s=Tm(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ju,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Pu(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+_o(i,l);o+=Js(i,e,n,a,s)}else if(a=Nm(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+_o(i,l++),o+=Js(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Os(t,e,n){if(t==null)return t;var r=[],s=0;return Js(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Rm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},Zs={transition:null},Lm={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:Zs,ReactCurrentOwner:ga};function Id(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Os,forEach:function(t,e,n){Os(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Os(t,function(){e++}),e},toArray:function(t){return Os(t,function(e){return e})||[]},only:function(t){if(!va(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=kr;G.Fragment=vm;G.Profiler=_m;G.PureComponent=pa;G.StrictMode=ym;G.Suspense=Cm;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lm;G.act=Id;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rd({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ga.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Pd.call(e,a)&&!jd.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ss,type:t.type,key:s,ref:i,props:r,_owner:o}};G.createContext=function(t){return t={$$typeof:Sm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wm,_context:t},t.Consumer=t};G.createElement=Md;G.createFactory=function(t){var e=Md.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:xm,render:t}};G.isValidElement=va;G.lazy=function(t){return{$$typeof:km,_payload:{_status:-1,_result:t},_init:Rm}};G.memo=function(t,e){return{$$typeof:Em,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Zs.transition;Zs.transition={};try{t()}finally{Zs.transition=e}};G.unstable_act=Id;G.useCallback=function(t,e){return Me.current.useCallback(t,e)};G.useContext=function(t){return Me.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};G.useEffect=function(t,e){return Me.current.useEffect(t,e)};G.useId=function(){return Me.current.useId()};G.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Me.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};G.useRef=function(t){return Me.current.useRef(t)};G.useState=function(t){return Me.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Me.current.useTransition()};G.version="18.3.1";Td.exports=G;var x=Td.exports;const rn=ha(x),Am=pm({__proto__:null,default:rn},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=x,jm=Symbol.for("react.element"),Mm=Symbol.for("react.fragment"),Im=Object.prototype.hasOwnProperty,$m=Pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dm={key:!0,ref:!0,__self:!0,__source:!0};function $d(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Im.call(e,r)&&!Dm.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:jm,type:t,key:i,ref:o,props:s,_owner:$m.current}}Wi.Fragment=Mm;Wi.jsx=$d;Wi.jsxs=$d;Nd.exports=Wi;var v=Nd.exports,il={},Dd={exports:{}},Xe={},Fd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,N){var O=S.length;S.push(N);e:for(;0<O;){var q=O-1>>>1,Q=S[q];if(0<s(Q,N))S[q]=N,S[O]=Q,O=q;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var N=S[0],O=S.pop();if(O!==N){S[0]=O;e:for(var q=0,Q=S.length,E=Q>>>1;q<E;){var R=2*(q+1)-1,j=S[R],$=R+1,M=S[$];if(0>s(j,O))$<Q&&0>s(M,j)?(S[q]=M,S[$]=O,q=$):(S[q]=j,S[R]=O,q=R);else if($<Q&&0>s(M,O))S[q]=M,S[$]=O,q=$;else break e}}return N}function s(S,N){var O=S.sortIndex-N.sortIndex;return O!==0?O:S.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,p=3,y=!1,m=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(S){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=S)r(u),N.sortIndex=N.expirationTime,e(a,N);else break;N=n(u)}}function C(S){if(w=!1,g(S),!m)if(n(a)!==null)m=!0,L(T);else{var N=n(u);N!==null&&z(C,N.startTime-S)}}function T(S,N){m=!1,w&&(w=!1,f(b),b=-1),y=!0;var O=p;try{for(g(N),d=n(a);d!==null&&(!(d.expirationTime>N)||S&&!W());){var q=d.callback;if(typeof q=="function"){d.callback=null,p=d.priorityLevel;var Q=q(d.expirationTime<=N);N=t.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(a)&&r(a),g(N)}else r(a);d=n(a)}if(d!==null)var E=!0;else{var R=n(u);R!==null&&z(C,R.startTime-N),E=!1}return E}finally{d=null,p=O,y=!1}}var A=!1,D=null,b=-1,ee=5,B=-1;function W(){return!(t.unstable_now()-B<ee)}function Be(){if(D!==null){var S=t.unstable_now();B=S;var N=!0;try{N=D(!0,S)}finally{N?mt():(A=!1,D=null)}}else A=!1}var mt;if(typeof h=="function")mt=function(){h(Be)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,P=U.port2;U.port1.onmessage=Be,mt=function(){P.postMessage(null)}}else mt=function(){_(Be,0)};function L(S){D=S,A||(A=!0,mt())}function z(S,N){b=_(function(){S(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){m||y||(m=!0,L(T))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(S){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var O=p;p=N;try{return S()}finally{p=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,N){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var O=p;p=S;try{return N()}finally{p=O}},t.unstable_scheduleCallback=function(S,N,O){var q=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?q+O:q):O=q,S){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=O+Q,S={id:c++,callback:N,priorityLevel:S,startTime:O,expirationTime:Q,sortIndex:-1},O>q?(S.sortIndex=O,e(u,S),n(a)===null&&S===n(u)&&(w?(f(b),b=-1):w=!0,z(C,O-q))):(S.sortIndex=Q,e(a,S),m||y||(m=!0,L(T))),S},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(S){var N=p;return function(){var O=p;p=N;try{return S.apply(this,arguments)}finally{p=O}}}})(bd);Fd.exports=bd;var Fm=Fd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=x,Qe=Fm;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zd=new Set,Zr={};function zn(t,e){gr(t,e),gr(t+"Capture",e)}function gr(t,e){for(Zr[t]=e,t=0;t<e.length;t++)zd.add(e[t])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ol=Object.prototype.hasOwnProperty,zm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mu={},Iu={};function Hm(t){return ol.call(Iu,t)?!0:ol.call(Mu,t)?!1:zm.test(t)?Iu[t]=!0:(Mu[t]=!0,!1)}function Bm(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Um(t,e,n,r){if(e===null||typeof e>"u"||Bm(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Te[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Te[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Te[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Te[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Te[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Te[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Te[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Te[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Te[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function _a(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ya,_a);Te[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ya,_a);Te[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ya,_a);Te[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Te[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Te[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function wa(t,e,n,r){var s=Te.hasOwnProperty(e)?Te[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Um(e,n,s,r)&&(n=null),r||s===null?Hm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zt=bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Yn=Symbol.for("react.fragment"),Sa=Symbol.for("react.strict_mode"),ll=Symbol.for("react.profiler"),Hd=Symbol.for("react.provider"),Bd=Symbol.for("react.context"),xa=Symbol.for("react.forward_ref"),al=Symbol.for("react.suspense"),ul=Symbol.for("react.suspense_list"),Ca=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Ud=Symbol.for("react.offscreen"),$u=Symbol.iterator;function Rr(t){return t===null||typeof t!="object"?null:(t=$u&&t[$u]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,wo;function Dr(t){if(wo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wo=e&&e[1]||""}return`
`+wo+t}var So=!1;function xo(t,e){if(!t||So)return"";So=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{So=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Dr(t):""}function qm(t){switch(t.tag){case 5:return Dr(t.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 2:case 15:return t=xo(t.type,!1),t;case 11:return t=xo(t.type.render,!1),t;case 1:return t=xo(t.type,!0),t;default:return""}}function cl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yn:return"Fragment";case Gn:return"Portal";case ll:return"Profiler";case Sa:return"StrictMode";case al:return"Suspense";case ul:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bd:return(t.displayName||"Context")+".Consumer";case Hd:return(t._context.displayName||"Context")+".Provider";case xa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ca:return e=t.displayName||null,e!==null?e:cl(t.type)||"Memo";case Kt:e=t._payload,t=t._init;try{return cl(t(e))}catch{}}return null}function Vm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cl(e);case 8:return e===Sa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wm(t){var e=qd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ls(t){t._valueTracker||(t._valueTracker=Wm(t))}function Vd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dl(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Du(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wd(t,e){e=e.checked,e!=null&&wa(t,"checked",e,!1)}function fl(t,e){Wd(t,e);var n=pn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hl(t,e.type,n):e.hasOwnProperty("defaultValue")&&hl(t,e.type,pn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hl(t,e,n){(e!=="number"||mi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fr=Array.isArray;function ur(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Fr(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pn(n)}}function Qd(t,e){var n=pn(e.value),r=pn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ml(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var As,Kd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=As.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qm=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(t){Qm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Br[e]=Br[t]})});function Gd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Br.hasOwnProperty(t)&&Br[t]?(""+e).trim():e+"px"}function Yd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Xm=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(t,e){if(e){if(Xm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function vl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=null;function Ea(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _l=null,cr=null,dr=null;function Hu(t){if(t=Es(t)){if(typeof _l!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Yi(e),_l(t.stateNode,t.type,e))}}function Jd(t){cr?dr?dr.push(t):dr=[t]:cr=t}function Zd(){if(cr){var t=cr,e=dr;if(dr=cr=null,Hu(t),e)for(t=0;t<e.length;t++)Hu(e[t])}}function ef(t,e){return t(e)}function tf(){}var Co=!1;function nf(t,e,n){if(Co)return t(e,n);Co=!0;try{return ef(t,e,n)}finally{Co=!1,(cr!==null||dr!==null)&&(tf(),Zd())}}function ts(t,e){var n=t.stateNode;if(n===null)return null;var r=Yi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var wl=!1;if($t)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){wl=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{wl=!1}function Km(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ur=!1,gi=null,vi=!1,Sl=null,Gm={onError:function(t){Ur=!0,gi=t}};function Ym(t,e,n,r,s,i,o,l,a){Ur=!1,gi=null,Km.apply(Gm,arguments)}function Jm(t,e,n,r,s,i,o,l,a){if(Ym.apply(this,arguments),Ur){if(Ur){var u=gi;Ur=!1,gi=null}else throw Error(k(198));vi||(vi=!0,Sl=u)}}function Hn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bu(t){if(Hn(t)!==t)throw Error(k(188))}function Zm(t){var e=t.alternate;if(!e){if(e=Hn(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bu(s),t;if(i===r)return Bu(s),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function sf(t){return t=Zm(t),t!==null?of(t):null}function of(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=of(t);if(e!==null)return e;t=t.sibling}return null}var lf=Qe.unstable_scheduleCallback,Uu=Qe.unstable_cancelCallback,eg=Qe.unstable_shouldYield,tg=Qe.unstable_requestPaint,he=Qe.unstable_now,ng=Qe.unstable_getCurrentPriorityLevel,ka=Qe.unstable_ImmediatePriority,af=Qe.unstable_UserBlockingPriority,yi=Qe.unstable_NormalPriority,rg=Qe.unstable_LowPriority,uf=Qe.unstable_IdlePriority,Qi=null,Ct=null;function sg(t){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Qi,t,void 0,(t.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:lg,ig=Math.log,og=Math.LN2;function lg(t){return t>>>=0,t===0?32:31-(ig(t)/og|0)|0}var Ps=64,js=4194304;function br(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _i(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=br(l):(i&=o,i!==0&&(r=br(i)))}else o=n&~s,o!==0?r=br(o):i!==0&&(r=br(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ct(e),s=1<<n,r|=t[n],e&=~s;return r}function ag(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ug(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ct(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=ag(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function xl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cf(){var t=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),t}function Eo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ct(e),t[e]=n}function cg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ct(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Na(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ct(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Z=0;function df(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ff,Ta,hf,pf,mf,Cl=!1,Ms=[],sn=null,on=null,ln=null,ns=new Map,rs=new Map,Yt=[],dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qu(t,e){switch(t){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(e.pointerId)}}function Ar(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Es(e),e!==null&&Ta(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function fg(t,e,n,r,s){switch(e){case"focusin":return sn=Ar(sn,t,e,n,r,s),!0;case"dragenter":return on=Ar(on,t,e,n,r,s),!0;case"mouseover":return ln=Ar(ln,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ns.set(i,Ar(ns.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,rs.set(i,Ar(rs.get(i)||null,t,e,n,r,s)),!0}return!1}function gf(t){var e=On(t.target);if(e!==null){var n=Hn(e);if(n!==null){if(e=n.tag,e===13){if(e=rf(n),e!==null){t.blockedOn=e,mf(t.priority,function(){hf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ei(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=El(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yl=r,n.target.dispatchEvent(r),yl=null}else return e=Es(n),e!==null&&Ta(e),t.blockedOn=n,!1;e.shift()}return!0}function Vu(t,e,n){ei(t)&&n.delete(e)}function hg(){Cl=!1,sn!==null&&ei(sn)&&(sn=null),on!==null&&ei(on)&&(on=null),ln!==null&&ei(ln)&&(ln=null),ns.forEach(Vu),rs.forEach(Vu)}function Pr(t,e){t.blockedOn===e&&(t.blockedOn=null,Cl||(Cl=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,hg)))}function ss(t){function e(s){return Pr(s,t)}if(0<Ms.length){Pr(Ms[0],t);for(var n=1;n<Ms.length;n++){var r=Ms[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sn!==null&&Pr(sn,t),on!==null&&Pr(on,t),ln!==null&&Pr(ln,t),ns.forEach(e),rs.forEach(e),n=0;n<Yt.length;n++)r=Yt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)gf(n),n.blockedOn===null&&Yt.shift()}var fr=zt.ReactCurrentBatchConfig,wi=!0;function pg(t,e,n,r){var s=Z,i=fr.transition;fr.transition=null;try{Z=1,Oa(t,e,n,r)}finally{Z=s,fr.transition=i}}function mg(t,e,n,r){var s=Z,i=fr.transition;fr.transition=null;try{Z=4,Oa(t,e,n,r)}finally{Z=s,fr.transition=i}}function Oa(t,e,n,r){if(wi){var s=El(t,e,n,r);if(s===null)Mo(t,e,r,Si,n),qu(t,r);else if(fg(s,t,e,n,r))r.stopPropagation();else if(qu(t,r),e&4&&-1<dg.indexOf(t)){for(;s!==null;){var i=Es(s);if(i!==null&&ff(i),i=El(t,e,n,r),i===null&&Mo(t,e,r,Si,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mo(t,e,r,null,n)}}var Si=null;function El(t,e,n,r){if(Si=null,t=Ea(r),t=On(t),t!==null)if(e=Hn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Si=t,null}function vf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ng()){case ka:return 1;case af:return 4;case yi:case rg:return 16;case uf:return 536870912;default:return 16}default:return 16}}var en=null,Ra=null,ti=null;function yf(){if(ti)return ti;var t,e=Ra,n=e.length,r,s="value"in en?en.value:en.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ti=s.slice(t,1<r?1-r:void 0)}function ni(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Is(){return!0}function Wu(){return!1}function Ke(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Is:Wu,this.isPropagationStopped=Wu,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),e}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Ke(Nr),Cs=de({},Nr,{view:0,detail:0}),gg=Ke(Cs),ko,No,jr,Xi=de({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jr&&(jr&&t.type==="mousemove"?(ko=t.screenX-jr.screenX,No=t.screenY-jr.screenY):No=ko=0,jr=t),ko)},movementY:function(t){return"movementY"in t?t.movementY:No}}),Qu=Ke(Xi),vg=de({},Xi,{dataTransfer:0}),yg=Ke(vg),_g=de({},Cs,{relatedTarget:0}),To=Ke(_g),wg=de({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=Ke(wg),xg=de({},Nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cg=Ke(xg),Eg=de({},Nr,{data:0}),Xu=Ke(Eg),kg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Og(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tg[t])?!!e[t]:!1}function Aa(){return Og}var Rg=de({},Cs,{key:function(t){if(t.key){var e=kg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ng[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(t){return t.type==="keypress"?ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lg=Ke(Rg),Ag=de({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=Ke(Ag),Pg=de({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),jg=Ke(Pg),Mg=de({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ig=Ke(Mg),$g=de({},Xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dg=Ke($g),Fg=[9,13,27,32],Pa=$t&&"CompositionEvent"in window,qr=null;$t&&"documentMode"in document&&(qr=document.documentMode);var bg=$t&&"TextEvent"in window&&!qr,_f=$t&&(!Pa||qr&&8<qr&&11>=qr),Gu=" ",Yu=!1;function wf(t,e){switch(t){case"keyup":return Fg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jn=!1;function zg(t,e){switch(t){case"compositionend":return Sf(e);case"keypress":return e.which!==32?null:(Yu=!0,Gu);case"textInput":return t=e.data,t===Gu&&Yu?null:t;default:return null}}function Hg(t,e){if(Jn)return t==="compositionend"||!Pa&&wf(t,e)?(t=yf(),ti=Ra=en=null,Jn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _f&&e.locale!=="ko"?null:e.data;default:return null}}var Bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bg[t.type]:e==="textarea"}function xf(t,e,n,r){Jd(r),e=xi(e,"onChange"),0<e.length&&(n=new La("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vr=null,is=null;function Ug(t){jf(t,0)}function Ki(t){var e=tr(t);if(Vd(e))return t}function qg(t,e){if(t==="change")return e}var Cf=!1;if($t){var Oo;if($t){var Ro="oninput"in document;if(!Ro){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),Ro=typeof Zu.oninput=="function"}Oo=Ro}else Oo=!1;Cf=Oo&&(!document.documentMode||9<document.documentMode)}function ec(){Vr&&(Vr.detachEvent("onpropertychange",Ef),is=Vr=null)}function Ef(t){if(t.propertyName==="value"&&Ki(is)){var e=[];xf(e,is,t,Ea(t)),nf(Ug,e)}}function Vg(t,e,n){t==="focusin"?(ec(),Vr=e,is=n,Vr.attachEvent("onpropertychange",Ef)):t==="focusout"&&ec()}function Wg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ki(is)}function Qg(t,e){if(t==="click")return Ki(e)}function Xg(t,e){if(t==="input"||t==="change")return Ki(e)}function Kg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ft=typeof Object.is=="function"?Object.is:Kg;function os(t,e){if(ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ol.call(e,s)||!ft(t[s],e[s]))return!1}return!0}function tc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nc(t,e){var n=tc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tc(n)}}function kf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nf(){for(var t=window,e=mi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mi(t.document)}return e}function ja(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Gg(t){var e=Nf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kf(n.ownerDocument.documentElement,n)){if(r!==null&&ja(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=nc(n,i);var o=nc(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yg=$t&&"documentMode"in document&&11>=document.documentMode,Zn=null,kl=null,Wr=null,Nl=!1;function rc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nl||Zn==null||Zn!==mi(r)||(r=Zn,"selectionStart"in r&&ja(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wr&&os(Wr,r)||(Wr=r,r=xi(kl,"onSelect"),0<r.length&&(e=new La("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zn)))}function $s(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var er={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},Lo={},Tf={};$t&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function Gi(t){if(Lo[t])return Lo[t];if(!er[t])return t;var e=er[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tf)return Lo[t]=e[n];return t}var Of=Gi("animationend"),Rf=Gi("animationiteration"),Lf=Gi("animationstart"),Af=Gi("transitionend"),Pf=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(t,e){Pf.set(t,e),zn(e,[t])}for(var Ao=0;Ao<sc.length;Ao++){var Po=sc[Ao],Jg=Po.toLowerCase(),Zg=Po[0].toUpperCase()+Po.slice(1);wn(Jg,"on"+Zg)}wn(Of,"onAnimationEnd");wn(Rf,"onAnimationIteration");wn(Lf,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(Af,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e0=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function ic(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Jm(r,e,void 0,t),t.currentTarget=null}function jf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;ic(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;ic(s,l,u),i=a}}}if(vi)throw t=Sl,vi=!1,Sl=null,t}function se(t,e){var n=e[Al];n===void 0&&(n=e[Al]=new Set);var r=t+"__bubble";n.has(r)||(Mf(e,t,2,!1),n.add(r))}function jo(t,e,n){var r=0;e&&(r|=4),Mf(n,t,r,e)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function ls(t){if(!t[Ds]){t[Ds]=!0,zd.forEach(function(n){n!=="selectionchange"&&(e0.has(n)||jo(n,!1,t),jo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ds]||(e[Ds]=!0,jo("selectionchange",!1,e))}}function Mf(t,e,n,r){switch(vf(e)){case 1:var s=pg;break;case 4:s=mg;break;default:s=Oa}n=s.bind(null,e,n,t),s=void 0,!wl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mo(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=On(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}nf(function(){var u=i,c=Ea(n),d=[];e:{var p=Pf.get(t);if(p!==void 0){var y=La,m=t;switch(t){case"keypress":if(ni(n)===0)break e;case"keydown":case"keyup":y=Lg;break;case"focusin":m="focus",y=To;break;case"focusout":m="blur",y=To;break;case"beforeblur":case"afterblur":y=To;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jg;break;case Of:case Rf:case Lf:y=Sg;break;case Af:y=Ig;break;case"scroll":y=gg;break;case"wheel":y=Dg;break;case"copy":case"cut":case"paste":y=Cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ku}var w=(e&4)!==0,_=!w&&t==="scroll",f=w?p!==null?p+"Capture":null:p;w=[];for(var h=u,g;h!==null;){g=h;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,f!==null&&(C=ts(h,f),C!=null&&w.push(as(h,C,g)))),_)break;h=h.return}0<w.length&&(p=new y(p,m,null,n,c),d.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==yl&&(m=n.relatedTarget||n.fromElement)&&(On(m)||m[Dt]))break e;if((y||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,y?(m=n.relatedTarget||n.toElement,y=u,m=m?On(m):null,m!==null&&(_=Hn(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=u),y!==m)){if(w=Qu,C="onMouseLeave",f="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=Ku,C="onPointerLeave",f="onPointerEnter",h="pointer"),_=y==null?p:tr(y),g=m==null?p:tr(m),p=new w(C,h+"leave",y,n,c),p.target=_,p.relatedTarget=g,C=null,On(c)===u&&(w=new w(f,h+"enter",m,n,c),w.target=g,w.relatedTarget=_,C=w),_=C,y&&m)t:{for(w=y,f=m,h=0,g=w;g;g=Vn(g))h++;for(g=0,C=f;C;C=Vn(C))g++;for(;0<h-g;)w=Vn(w),h--;for(;0<g-h;)f=Vn(f),g--;for(;h--;){if(w===f||f!==null&&w===f.alternate)break t;w=Vn(w),f=Vn(f)}w=null}else w=null;y!==null&&oc(d,p,y,w,!1),m!==null&&_!==null&&oc(d,_,m,w,!0)}}e:{if(p=u?tr(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var T=qg;else if(Ju(p))if(Cf)T=Xg;else{T=Wg;var A=Vg}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=Qg);if(T&&(T=T(t,u))){xf(d,T,n,c);break e}A&&A(t,p,u),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&hl(p,"number",p.value)}switch(A=u?tr(u):window,t){case"focusin":(Ju(A)||A.contentEditable==="true")&&(Zn=A,kl=u,Wr=null);break;case"focusout":Wr=kl=Zn=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,rc(d,n,c);break;case"selectionchange":if(Yg)break;case"keydown":case"keyup":rc(d,n,c)}var D;if(Pa)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Jn?wf(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(_f&&n.locale!=="ko"&&(Jn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Jn&&(D=yf()):(en=c,Ra="value"in en?en.value:en.textContent,Jn=!0)),A=xi(u,b),0<A.length&&(b=new Xu(b,t,null,n,c),d.push({event:b,listeners:A}),D?b.data=D:(D=Sf(n),D!==null&&(b.data=D)))),(D=bg?zg(t,n):Hg(t,n))&&(u=xi(u,"onBeforeInput"),0<u.length&&(c=new Xu("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=D))}jf(d,e)})}function as(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ts(t,n),i!=null&&r.unshift(as(t,i,s)),i=ts(t,e),i!=null&&r.push(as(t,i,s))),t=t.return}return r}function Vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oc(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=ts(n,i),a!=null&&o.unshift(as(n,a,l))):s||(a=ts(n,i),a!=null&&o.push(as(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var t0=/\r\n?/g,n0=/\u0000|\uFFFD/g;function lc(t){return(typeof t=="string"?t:""+t).replace(t0,`
`).replace(n0,"")}function Fs(t,e,n){if(e=lc(e),lc(t)!==e&&n)throw Error(k(425))}function Ci(){}var Tl=null,Ol=null;function Rl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ll=typeof setTimeout=="function"?setTimeout:void 0,r0=typeof clearTimeout=="function"?clearTimeout:void 0,ac=typeof Promise=="function"?Promise:void 0,s0=typeof queueMicrotask=="function"?queueMicrotask:typeof ac<"u"?function(t){return ac.resolve(null).then(t).catch(i0)}:Ll;function i0(t){setTimeout(function(){throw t})}function Io(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ss(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ss(e)}function an(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),xt="__reactFiber$"+Tr,us="__reactProps$"+Tr,Dt="__reactContainer$"+Tr,Al="__reactEvents$"+Tr,o0="__reactListeners$"+Tr,l0="__reactHandles$"+Tr;function On(t){var e=t[xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dt]||n[xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uc(t);t!==null;){if(n=t[xt])return n;t=uc(t)}return e}t=n,n=t.parentNode}return null}function Es(t){return t=t[xt]||t[Dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Yi(t){return t[us]||null}var Pl=[],nr=-1;function Sn(t){return{current:t}}function ie(t){0>nr||(t.current=Pl[nr],Pl[nr]=null,nr--)}function re(t,e){nr++,Pl[nr]=t.current,t.current=e}var mn={},Ae=Sn(mn),be=Sn(!1),jn=mn;function vr(t,e){var n=t.type.contextTypes;if(!n)return mn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ze(t){return t=t.childContextTypes,t!=null}function Ei(){ie(be),ie(Ae)}function cc(t,e,n){if(Ae.current!==mn)throw Error(k(168));re(Ae,e),re(be,n)}function If(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(k(108,Vm(t)||"Unknown",s));return de({},n,r)}function ki(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mn,jn=Ae.current,re(Ae,t),re(be,be.current),!0}function dc(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=If(t,e,jn),r.__reactInternalMemoizedMergedChildContext=t,ie(be),ie(Ae),re(Ae,t)):ie(be),re(be,n)}var At=null,Ji=!1,$o=!1;function $f(t){At===null?At=[t]:At.push(t)}function a0(t){Ji=!0,$f(t)}function xn(){if(!$o&&At!==null){$o=!0;var t=0,e=Z;try{var n=At;for(Z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}At=null,Ji=!1}catch(s){throw At!==null&&(At=At.slice(t+1)),lf(ka,xn),s}finally{Z=e,$o=!1}}return null}var rr=[],sr=0,Ni=null,Ti=0,Ye=[],Je=0,Mn=null,Pt=1,jt="";function Nn(t,e){rr[sr++]=Ti,rr[sr++]=Ni,Ni=t,Ti=e}function Df(t,e,n){Ye[Je++]=Pt,Ye[Je++]=jt,Ye[Je++]=Mn,Mn=t;var r=Pt;t=jt;var s=32-ct(r)-1;r&=~(1<<s),n+=1;var i=32-ct(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Pt=1<<32-ct(e)+s|n<<s|r,jt=i+t}else Pt=1<<i|n<<s|r,jt=t}function Ma(t){t.return!==null&&(Nn(t,1),Df(t,1,0))}function Ia(t){for(;t===Ni;)Ni=rr[--sr],rr[sr]=null,Ti=rr[--sr],rr[sr]=null;for(;t===Mn;)Mn=Ye[--Je],Ye[Je]=null,jt=Ye[--Je],Ye[Je]=null,Pt=Ye[--Je],Ye[Je]=null}var We=null,Ve=null,oe=!1,ut=null;function Ff(t,e){var n=et(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,We=t,Ve=an(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,We=t,Ve=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mn!==null?{id:Pt,overflow:jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=et(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,We=t,Ve=null,!0):!1;default:return!1}}function jl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ml(t){if(oe){var e=Ve;if(e){var n=e;if(!fc(t,e)){if(jl(t))throw Error(k(418));e=an(n.nextSibling);var r=We;e&&fc(t,e)?Ff(r,n):(t.flags=t.flags&-4097|2,oe=!1,We=t)}}else{if(jl(t))throw Error(k(418));t.flags=t.flags&-4097|2,oe=!1,We=t}}}function hc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;We=t}function bs(t){if(t!==We)return!1;if(!oe)return hc(t),oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rl(t.type,t.memoizedProps)),e&&(e=Ve)){if(jl(t))throw bf(),Error(k(418));for(;e;)Ff(t,e),e=an(e.nextSibling)}if(hc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ve=an(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ve=null}}else Ve=We?an(t.stateNode.nextSibling):null;return!0}function bf(){for(var t=Ve;t;)t=an(t.nextSibling)}function yr(){Ve=We=null,oe=!1}function $a(t){ut===null?ut=[t]:ut.push(t)}var u0=zt.ReactCurrentBatchConfig;function Mr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function zs(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pc(t){var e=t._init;return e(t._payload)}function zf(t){function e(f,h){if(t){var g=f.deletions;g===null?(f.deletions=[h],f.flags|=16):g.push(h)}}function n(f,h){if(!t)return null;for(;h!==null;)e(f,h),h=h.sibling;return null}function r(f,h){for(f=new Map;h!==null;)h.key!==null?f.set(h.key,h):f.set(h.index,h),h=h.sibling;return f}function s(f,h){return f=fn(f,h),f.index=0,f.sibling=null,f}function i(f,h,g){return f.index=g,t?(g=f.alternate,g!==null?(g=g.index,g<h?(f.flags|=2,h):g):(f.flags|=2,h)):(f.flags|=1048576,h)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function l(f,h,g,C){return h===null||h.tag!==6?(h=Uo(g,f.mode,C),h.return=f,h):(h=s(h,g),h.return=f,h)}function a(f,h,g,C){var T=g.type;return T===Yn?c(f,h,g.props.children,C,g.key):h!==null&&(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Kt&&pc(T)===h.type)?(C=s(h,g.props),C.ref=Mr(f,h,g),C.return=f,C):(C=ui(g.type,g.key,g.props,null,f.mode,C),C.ref=Mr(f,h,g),C.return=f,C)}function u(f,h,g,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=qo(g,f.mode,C),h.return=f,h):(h=s(h,g.children||[]),h.return=f,h)}function c(f,h,g,C,T){return h===null||h.tag!==7?(h=Pn(g,f.mode,C,T),h.return=f,h):(h=s(h,g),h.return=f,h)}function d(f,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Uo(""+h,f.mode,g),h.return=f,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Rs:return g=ui(h.type,h.key,h.props,null,f.mode,g),g.ref=Mr(f,null,h),g.return=f,g;case Gn:return h=qo(h,f.mode,g),h.return=f,h;case Kt:var C=h._init;return d(f,C(h._payload),g)}if(Fr(h)||Rr(h))return h=Pn(h,f.mode,g,null),h.return=f,h;zs(f,h)}return null}function p(f,h,g,C){var T=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:l(f,h,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Rs:return g.key===T?a(f,h,g,C):null;case Gn:return g.key===T?u(f,h,g,C):null;case Kt:return T=g._init,p(f,h,T(g._payload),C)}if(Fr(g)||Rr(g))return T!==null?null:c(f,h,g,C,null);zs(f,g)}return null}function y(f,h,g,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return f=f.get(g)||null,l(h,f,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Rs:return f=f.get(C.key===null?g:C.key)||null,a(h,f,C,T);case Gn:return f=f.get(C.key===null?g:C.key)||null,u(h,f,C,T);case Kt:var A=C._init;return y(f,h,g,A(C._payload),T)}if(Fr(C)||Rr(C))return f=f.get(g)||null,c(h,f,C,T,null);zs(h,C)}return null}function m(f,h,g,C){for(var T=null,A=null,D=h,b=h=0,ee=null;D!==null&&b<g.length;b++){D.index>b?(ee=D,D=null):ee=D.sibling;var B=p(f,D,g[b],C);if(B===null){D===null&&(D=ee);break}t&&D&&B.alternate===null&&e(f,D),h=i(B,h,b),A===null?T=B:A.sibling=B,A=B,D=ee}if(b===g.length)return n(f,D),oe&&Nn(f,b),T;if(D===null){for(;b<g.length;b++)D=d(f,g[b],C),D!==null&&(h=i(D,h,b),A===null?T=D:A.sibling=D,A=D);return oe&&Nn(f,b),T}for(D=r(f,D);b<g.length;b++)ee=y(D,f,b,g[b],C),ee!==null&&(t&&ee.alternate!==null&&D.delete(ee.key===null?b:ee.key),h=i(ee,h,b),A===null?T=ee:A.sibling=ee,A=ee);return t&&D.forEach(function(W){return e(f,W)}),oe&&Nn(f,b),T}function w(f,h,g,C){var T=Rr(g);if(typeof T!="function")throw Error(k(150));if(g=T.call(g),g==null)throw Error(k(151));for(var A=T=null,D=h,b=h=0,ee=null,B=g.next();D!==null&&!B.done;b++,B=g.next()){D.index>b?(ee=D,D=null):ee=D.sibling;var W=p(f,D,B.value,C);if(W===null){D===null&&(D=ee);break}t&&D&&W.alternate===null&&e(f,D),h=i(W,h,b),A===null?T=W:A.sibling=W,A=W,D=ee}if(B.done)return n(f,D),oe&&Nn(f,b),T;if(D===null){for(;!B.done;b++,B=g.next())B=d(f,B.value,C),B!==null&&(h=i(B,h,b),A===null?T=B:A.sibling=B,A=B);return oe&&Nn(f,b),T}for(D=r(f,D);!B.done;b++,B=g.next())B=y(D,f,b,B.value,C),B!==null&&(t&&B.alternate!==null&&D.delete(B.key===null?b:B.key),h=i(B,h,b),A===null?T=B:A.sibling=B,A=B);return t&&D.forEach(function(Be){return e(f,Be)}),oe&&Nn(f,b),T}function _(f,h,g,C){if(typeof g=="object"&&g!==null&&g.type===Yn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Rs:e:{for(var T=g.key,A=h;A!==null;){if(A.key===T){if(T=g.type,T===Yn){if(A.tag===7){n(f,A.sibling),h=s(A,g.props.children),h.return=f,f=h;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Kt&&pc(T)===A.type){n(f,A.sibling),h=s(A,g.props),h.ref=Mr(f,A,g),h.return=f,f=h;break e}n(f,A);break}else e(f,A);A=A.sibling}g.type===Yn?(h=Pn(g.props.children,f.mode,C,g.key),h.return=f,f=h):(C=ui(g.type,g.key,g.props,null,f.mode,C),C.ref=Mr(f,h,g),C.return=f,f=C)}return o(f);case Gn:e:{for(A=g.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(f,h.sibling),h=s(h,g.children||[]),h.return=f,f=h;break e}else{n(f,h);break}else e(f,h);h=h.sibling}h=qo(g,f.mode,C),h.return=f,f=h}return o(f);case Kt:return A=g._init,_(f,h,A(g._payload),C)}if(Fr(g))return m(f,h,g,C);if(Rr(g))return w(f,h,g,C);zs(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(f,h.sibling),h=s(h,g),h.return=f,f=h):(n(f,h),h=Uo(g,f.mode,C),h.return=f,f=h),o(f)):n(f,h)}return _}var _r=zf(!0),Hf=zf(!1),Oi=Sn(null),Ri=null,ir=null,Da=null;function Fa(){Da=ir=Ri=null}function ba(t){var e=Oi.current;ie(Oi),t._currentValue=e}function Il(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hr(t,e){Ri=t,Da=ir=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fe=!0),t.firstContext=null)}function rt(t){var e=t._currentValue;if(Da!==t)if(t={context:t,memoizedValue:e,next:null},ir===null){if(Ri===null)throw Error(k(308));ir=t,Ri.dependencies={lanes:0,firstContext:t}}else ir=ir.next=t;return e}var Rn=null;function za(t){Rn===null?Rn=[t]:Rn.push(t)}function Bf(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,za(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ft(t,r)}function Ft(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gt=!1;function Ha(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function It(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function un(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ft(t,n)}return s=r.interleaved,s===null?(e.next=e,za(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ft(t,n)}function ri(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Na(t,n)}}function mc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Li(t,e,n,r){var s=t.updateQueue;Gt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,c=u=a=null,l=i;do{var p=l.lane,y=l.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,w=l;switch(p=e,y=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){d=m.call(y,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,p=typeof m=="function"?m.call(y,d,p):m,p==null)break e;d=de({},d,p);break e;case 2:Gt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=d):c=c.next=y,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(c===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);$n|=o,t.lanes=o,t.memoizedState=d}}function gc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var ks={},Et=Sn(ks),cs=Sn(ks),ds=Sn(ks);function Ln(t){if(t===ks)throw Error(k(174));return t}function Ba(t,e){switch(re(ds,e),re(cs,t),re(Et,ks),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ml(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ml(e,t)}ie(Et),re(Et,e)}function wr(){ie(Et),ie(cs),ie(ds)}function qf(t){Ln(ds.current);var e=Ln(Et.current),n=ml(e,t.type);e!==n&&(re(cs,t),re(Et,n))}function Ua(t){cs.current===t&&(ie(Et),ie(cs))}var ue=Sn(0);function Ai(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Do=[];function qa(){for(var t=0;t<Do.length;t++)Do[t]._workInProgressVersionPrimary=null;Do.length=0}var si=zt.ReactCurrentDispatcher,Fo=zt.ReactCurrentBatchConfig,In=0,ce=null,_e=null,xe=null,Pi=!1,Qr=!1,fs=0,c0=0;function Oe(){throw Error(k(321))}function Va(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ft(t[n],e[n]))return!1;return!0}function Wa(t,e,n,r,s,i){if(In=i,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,si.current=t===null||t.memoizedState===null?p0:m0,t=n(r,s),Qr){i=0;do{if(Qr=!1,fs=0,25<=i)throw Error(k(301));i+=1,xe=_e=null,e.updateQueue=null,si.current=g0,t=n(r,s)}while(Qr)}if(si.current=ji,e=_e!==null&&_e.next!==null,In=0,xe=_e=ce=null,Pi=!1,e)throw Error(k(300));return t}function Qa(){var t=fs!==0;return fs=0,t}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ce.memoizedState=xe=t:xe=xe.next=t,xe}function st(){if(_e===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var e=xe===null?ce.memoizedState:xe.next;if(e!==null)xe=e,_e=t;else{if(t===null)throw Error(k(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},xe===null?ce.memoizedState=xe=t:xe=xe.next=t}return xe}function hs(t,e){return typeof e=="function"?e(t):e}function bo(t){var e=st(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=_e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((In&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ce.lanes|=c,$n|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,ft(r,e.memoizedState)||(Fe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ce.lanes|=i,$n|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zo(t){var e=st(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ft(i,e.memoizedState)||(Fe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Vf(){}function Wf(t,e){var n=ce,r=st(),s=e(),i=!ft(r.memoizedState,s);if(i&&(r.memoizedState=s,Fe=!0),r=r.queue,Xa(Kf.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,ps(9,Xf.bind(null,n,r,s,e),void 0,null),Ce===null)throw Error(k(349));In&30||Qf(n,e,s)}return s}function Qf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xf(t,e,n,r){e.value=n,e.getSnapshot=r,Gf(e)&&Yf(t)}function Kf(t,e,n){return n(function(){Gf(e)&&Yf(t)})}function Gf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ft(t,n)}catch{return!0}}function Yf(t){var e=Ft(t,1);e!==null&&dt(e,t,1,-1)}function vc(t){var e=_t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:t},e.queue=t,t=t.dispatch=h0.bind(null,ce,t),[e.memoizedState,t]}function ps(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jf(){return st().memoizedState}function ii(t,e,n,r){var s=_t();ce.flags|=t,s.memoizedState=ps(1|e,n,void 0,r===void 0?null:r)}function Zi(t,e,n,r){var s=st();r=r===void 0?null:r;var i=void 0;if(_e!==null){var o=_e.memoizedState;if(i=o.destroy,r!==null&&Va(r,o.deps)){s.memoizedState=ps(e,n,i,r);return}}ce.flags|=t,s.memoizedState=ps(1|e,n,i,r)}function yc(t,e){return ii(8390656,8,t,e)}function Xa(t,e){return Zi(2048,8,t,e)}function Zf(t,e){return Zi(4,2,t,e)}function eh(t,e){return Zi(4,4,t,e)}function th(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nh(t,e,n){return n=n!=null?n.concat([t]):null,Zi(4,4,th.bind(null,e,t),n)}function Ka(){}function rh(t,e){var n=st();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Va(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sh(t,e){var n=st();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Va(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ih(t,e,n){return In&21?(ft(n,e)||(n=cf(),ce.lanes|=n,$n|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fe=!0),t.memoizedState=n)}function d0(t,e){var n=Z;Z=n!==0&&4>n?n:4,t(!0);var r=Fo.transition;Fo.transition={};try{t(!1),e()}finally{Z=n,Fo.transition=r}}function oh(){return st().memoizedState}function f0(t,e,n){var r=dn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lh(t))ah(e,n);else if(n=Bf(t,e,n,r),n!==null){var s=je();dt(n,t,r,s),uh(n,e,r)}}function h0(t,e,n){var r=dn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lh(t))ah(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ft(l,o)){var a=e.interleaved;a===null?(s.next=s,za(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Bf(t,e,s,r),n!==null&&(s=je(),dt(n,t,r,s),uh(n,e,r))}}function lh(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function ah(t,e){Qr=Pi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Na(t,n)}}var ji={readContext:rt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},p0={readContext:rt,useCallback:function(t,e){return _t().memoizedState=[t,e===void 0?null:e],t},useContext:rt,useEffect:yc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ii(4194308,4,th.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ii(4194308,4,t,e)},useInsertionEffect:function(t,e){return ii(4,2,t,e)},useMemo:function(t,e){var n=_t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_t();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=f0.bind(null,ce,t),[r.memoizedState,t]},useRef:function(t){var e=_t();return t={current:t},e.memoizedState=t},useState:vc,useDebugValue:Ka,useDeferredValue:function(t){return _t().memoizedState=t},useTransition:function(){var t=vc(!1),e=t[0];return t=d0.bind(null,t[1]),_t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ce,s=_t();if(oe){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),Ce===null)throw Error(k(349));In&30||Qf(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,yc(Kf.bind(null,r,i,t),[t]),r.flags|=2048,ps(9,Xf.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=_t(),e=Ce.identifierPrefix;if(oe){var n=jt,r=Pt;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=c0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},m0={readContext:rt,useCallback:rh,useContext:rt,useEffect:Xa,useImperativeHandle:nh,useInsertionEffect:Zf,useLayoutEffect:eh,useMemo:sh,useReducer:bo,useRef:Jf,useState:function(){return bo(hs)},useDebugValue:Ka,useDeferredValue:function(t){var e=st();return ih(e,_e.memoizedState,t)},useTransition:function(){var t=bo(hs)[0],e=st().memoizedState;return[t,e]},useMutableSource:Vf,useSyncExternalStore:Wf,useId:oh,unstable_isNewReconciler:!1},g0={readContext:rt,useCallback:rh,useContext:rt,useEffect:Xa,useImperativeHandle:nh,useInsertionEffect:Zf,useLayoutEffect:eh,useMemo:sh,useReducer:zo,useRef:Jf,useState:function(){return zo(hs)},useDebugValue:Ka,useDeferredValue:function(t){var e=st();return _e===null?e.memoizedState=t:ih(e,_e.memoizedState,t)},useTransition:function(){var t=zo(hs)[0],e=st().memoizedState;return[t,e]},useMutableSource:Vf,useSyncExternalStore:Wf,useId:oh,unstable_isNewReconciler:!1};function lt(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $l(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eo={isMounted:function(t){return(t=t._reactInternals)?Hn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=je(),s=dn(t),i=It(r,s);i.payload=e,n!=null&&(i.callback=n),e=un(t,i,s),e!==null&&(dt(e,t,s,r),ri(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=je(),s=dn(t),i=It(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=un(t,i,s),e!==null&&(dt(e,t,s,r),ri(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=je(),r=dn(t),s=It(n,r);s.tag=2,e!=null&&(s.callback=e),e=un(t,s,r),e!==null&&(dt(e,t,r,n),ri(e,t,r))}};function _c(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!os(n,r)||!os(s,i):!0}function ch(t,e,n){var r=!1,s=mn,i=e.contextType;return typeof i=="object"&&i!==null?i=rt(i):(s=ze(e)?jn:Ae.current,r=e.contextTypes,i=(r=r!=null)?vr(t,s):mn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function wc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eo.enqueueReplaceState(e,e.state,null)}function Dl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ha(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=rt(i):(i=ze(e)?jn:Ae.current,s.context=vr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&($l(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&eo.enqueueReplaceState(s,s.state,null),Li(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Sr(t,e){try{var n="",r=e;do n+=qm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ho(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var v0=typeof WeakMap=="function"?WeakMap:Map;function dh(t,e,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ii||(Ii=!0,Xl=r),Fl(t,e)},n}function fh(t,e,n){n=It(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Fl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fl(t,e),typeof r!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Sc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new v0;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=A0.bind(null,t,e,n),e.then(t,t))}function xc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cc(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=It(-1,1),e.tag=2,un(n,e,1))),n.lanes|=1),t)}var y0=zt.ReactCurrentOwner,Fe=!1;function Pe(t,e,n,r){e.child=t===null?Hf(e,null,n,r):_r(e,t.child,n,r)}function Ec(t,e,n,r,s){n=n.render;var i=e.ref;return hr(e,s),r=Wa(t,e,n,r,i,s),n=Qa(),t!==null&&!Fe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bt(t,e,s)):(oe&&n&&Ma(e),e.flags|=1,Pe(t,e,r,s),e.child)}function kc(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ru(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,hh(t,e,i,r,s)):(t=ui(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:os,n(o,r)&&t.ref===e.ref)return bt(t,e,s)}return e.flags|=1,t=fn(i,r),t.ref=e.ref,t.return=e,e.child=t}function hh(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(os(i,r)&&t.ref===e.ref)if(Fe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Fe=!0);else return e.lanes=t.lanes,bt(t,e,s)}return bl(t,e,n,r,s)}function ph(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(lr,qe),qe|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,re(lr,qe),qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,re(lr,qe),qe|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,re(lr,qe),qe|=r;return Pe(t,e,s,n),e.child}function mh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bl(t,e,n,r,s){var i=ze(n)?jn:Ae.current;return i=vr(e,i),hr(e,s),n=Wa(t,e,n,r,i,s),r=Qa(),t!==null&&!Fe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bt(t,e,s)):(oe&&r&&Ma(e),e.flags|=1,Pe(t,e,n,s),e.child)}function Nc(t,e,n,r,s){if(ze(n)){var i=!0;ki(e)}else i=!1;if(hr(e,s),e.stateNode===null)oi(t,e),ch(e,n,r),Dl(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=ze(n)?jn:Ae.current,u=vr(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&wc(e,o,r,u),Gt=!1;var p=e.memoizedState;o.state=p,Li(e,r,o,s),a=e.memoizedState,l!==r||p!==a||be.current||Gt?(typeof c=="function"&&($l(e,n,c,r),a=e.memoizedState),(l=Gt||_c(e,n,l,r,p,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Uf(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:lt(e.type,l),o.props=u,d=e.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=rt(a):(a=ze(n)?jn:Ae.current,a=vr(e,a));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||p!==a)&&wc(e,o,r,a),Gt=!1,p=e.memoizedState,o.state=p,Li(e,r,o,s);var m=e.memoizedState;l!==d||p!==m||be.current||Gt?(typeof y=="function"&&($l(e,n,y,r),m=e.memoizedState),(u=Gt||_c(e,n,u,r,p,m,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return zl(t,e,n,r,i,s)}function zl(t,e,n,r,s,i){mh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&dc(e,n,!1),bt(t,e,i);r=e.stateNode,y0.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_r(e,t.child,null,i),e.child=_r(e,null,l,i)):Pe(t,e,l,i),e.memoizedState=r.state,s&&dc(e,n,!0),e.child}function gh(t){var e=t.stateNode;e.pendingContext?cc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cc(t,e.context,!1),Ba(t,e.containerInfo)}function Tc(t,e,n,r,s){return yr(),$a(s),e.flags|=256,Pe(t,e,n,r),e.child}var Hl={dehydrated:null,treeContext:null,retryLane:0};function Bl(t){return{baseLanes:t,cachePool:null,transitions:null}}function vh(t,e,n){var r=e.pendingProps,s=ue.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),re(ue,s&1),t===null)return Ml(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ro(o,r,0,null),t=Pn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Bl(n),e.memoizedState=Hl,t):Ga(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return _0(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=fn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fn(l,i):(i=Pn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Bl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Hl,r}return i=t.child,t=i.sibling,r=fn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ga(t,e){return e=ro({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hs(t,e,n,r){return r!==null&&$a(r),_r(e,t.child,null,n),t=Ga(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _0(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ho(Error(k(422))),Hs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ro({mode:"visible",children:r.children},s,0,null),i=Pn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&_r(e,t.child,null,o),e.child.memoizedState=Bl(o),e.memoizedState=Hl,i);if(!(e.mode&1))return Hs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(k(419)),r=Ho(i,r,void 0),Hs(t,e,o,r)}if(l=(o&t.childLanes)!==0,Fe||l){if(r=Ce,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ft(t,s),dt(r,t,s,-1))}return nu(),r=Ho(Error(k(421))),Hs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=P0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ve=an(s.nextSibling),We=e,oe=!0,ut=null,t!==null&&(Ye[Je++]=Pt,Ye[Je++]=jt,Ye[Je++]=Mn,Pt=t.id,jt=t.overflow,Mn=e),e=Ga(e,r.children),e.flags|=4096,e)}function Oc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Il(t.return,e,n)}function Bo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function yh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pe(t,e,r.children,n),r=ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oc(t,n,e);else if(t.tag===19)Oc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(re(ue,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ai(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Bo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ai(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Bo(e,!0,n,null,i);break;case"together":Bo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$n|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=fn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function w0(t,e,n){switch(e.tag){case 3:gh(e),yr();break;case 5:qf(e);break;case 1:ze(e.type)&&ki(e);break;case 4:Ba(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;re(Oi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(re(ue,ue.current&1),e.flags|=128,null):n&e.child.childLanes?vh(t,e,n):(re(ue,ue.current&1),t=bt(t,e,n),t!==null?t.sibling:null);re(ue,ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),re(ue,ue.current),r)break;return null;case 22:case 23:return e.lanes=0,ph(t,e,n)}return bt(t,e,n)}var _h,Ul,wh,Sh;_h=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ul=function(){};wh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ln(Et.current);var i=null;switch(n){case"input":s=dl(t,s),r=dl(t,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=pl(t,s),r=pl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ci)}gl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&se("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Sh=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ir(t,e){if(!oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function S0(t,e,n){var r=e.pendingProps;switch(Ia(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return ze(e.type)&&Ei(),Re(e),null;case 3:return r=e.stateNode,wr(),ie(be),ie(Ae),qa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ut!==null&&(Yl(ut),ut=null))),Ul(t,e),Re(e),null;case 5:Ua(e);var s=Ln(ds.current);if(n=e.type,t!==null&&e.stateNode!=null)wh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return Re(e),null}if(t=Ln(Et.current),bs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[xt]=e,r[us]=i,t=(e.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(s=0;s<zr.length;s++)se(zr[s],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":Du(r,i),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},se("invalid",r);break;case"textarea":bu(r,i),se("invalid",r)}gl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fs(r.textContent,l,t),s=["children",""+l]):Zr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&se("scroll",r)}switch(n){case"input":Ls(r),Fu(r,i,!0);break;case"textarea":Ls(r),zu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ci)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xt]=e,t[us]=r,_h(t,e,!1,!1),e.stateNode=t;e:{switch(o=vl(n,r),n){case"dialog":se("cancel",t),se("close",t),s=r;break;case"iframe":case"object":case"embed":se("load",t),s=r;break;case"video":case"audio":for(s=0;s<zr.length;s++)se(zr[s],t);s=r;break;case"source":se("error",t),s=r;break;case"img":case"image":case"link":se("error",t),se("load",t),s=r;break;case"details":se("toggle",t),s=r;break;case"input":Du(t,r),s=dl(t,r),se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),se("invalid",t);break;case"textarea":bu(t,r),s=pl(t,r),se("invalid",t);break;default:s=r}gl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Yd(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Kd(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&es(t,a):typeof a=="number"&&es(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&se("scroll",t):a!=null&&wa(t,i,a,o))}switch(n){case"input":Ls(t),Fu(t,r,!1);break;case"textarea":Ls(t),zu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ur(t,!!r.multiple,i,!1):r.defaultValue!=null&&ur(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Re(e),null;case 6:if(t&&e.stateNode!=null)Sh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Ln(ds.current),Ln(Et.current),bs(e)){if(r=e.stateNode,n=e.memoizedProps,r[xt]=e,(i=r.nodeValue!==n)&&(t=We,t!==null))switch(t.tag){case 3:Fs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xt]=e,e.stateNode=r}return Re(e),null;case 13:if(ie(ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oe&&Ve!==null&&e.mode&1&&!(e.flags&128))bf(),yr(),e.flags|=98560,i=!1;else if(i=bs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[xt]=e}else yr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),i=!1}else ut!==null&&(Yl(ut),ut=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?we===0&&(we=3):nu())),e.updateQueue!==null&&(e.flags|=4),Re(e),null);case 4:return wr(),Ul(t,e),t===null&&ls(e.stateNode.containerInfo),Re(e),null;case 10:return ba(e.type._context),Re(e),null;case 17:return ze(e.type)&&Ei(),Re(e),null;case 19:if(ie(ue),i=e.memoizedState,i===null)return Re(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ir(i,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ai(t),o!==null){for(e.flags|=128,Ir(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return re(ue,ue.current&1|2),e.child}t=t.sibling}i.tail!==null&&he()>xr&&(e.flags|=128,r=!0,Ir(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ai(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ir(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!oe)return Re(e),null}else 2*he()-i.renderingStartTime>xr&&n!==1073741824&&(e.flags|=128,r=!0,Ir(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=he(),e.sibling=null,n=ue.current,re(ue,r?n&1|2:n&1),e):(Re(e),null);case 22:case 23:return tu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qe&1073741824&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function x0(t,e){switch(Ia(e),e.tag){case 1:return ze(e.type)&&Ei(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wr(),ie(be),ie(Ae),qa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ua(e),null;case 13:if(ie(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));yr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ie(ue),null;case 4:return wr(),null;case 10:return ba(e.type._context),null;case 22:case 23:return tu(),null;case 24:return null;default:return null}}var Bs=!1,Le=!1,C0=typeof WeakSet=="function"?WeakSet:Set,I=null;function or(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(t,e,r)}else n.current=null}function ql(t,e,n){try{n()}catch(r){fe(t,e,r)}}var Rc=!1;function E0(t,e){if(Tl=wi,t=Nf(),ja(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++u===s&&(l=o),p===i&&++c===r&&(a=o),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ol={focusedElem:t,selectionRange:n},wi=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,_=m.memoizedState,f=e.stateNode,h=f.getSnapshotBeforeUpdate(e.elementType===e.type?w:lt(e.type,w),_);f.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(C){fe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return m=Rc,Rc=!1,m}function Xr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ql(e,n,i)}s=s.next}while(s!==r)}}function to(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xh(t){var e=t.alternate;e!==null&&(t.alternate=null,xh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xt],delete e[us],delete e[Al],delete e[o0],delete e[l0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ch(t){return t.tag===5||t.tag===3||t.tag===4}function Lc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ch(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ci));else if(r!==4&&(t=t.child,t!==null))for(Wl(t,e,n),t=t.sibling;t!==null;)Wl(t,e,n),t=t.sibling}function Ql(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ql(t,e,n),t=t.sibling;t!==null;)Ql(t,e,n),t=t.sibling}var ke=null,at=!1;function Ut(t,e,n){for(n=n.child;n!==null;)Eh(t,e,n),n=n.sibling}function Eh(t,e,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Qi,n)}catch{}switch(n.tag){case 5:Le||or(n,e);case 6:var r=ke,s=at;ke=null,Ut(t,e,n),ke=r,at=s,ke!==null&&(at?(t=ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(at?(t=ke,n=n.stateNode,t.nodeType===8?Io(t.parentNode,n):t.nodeType===1&&Io(t,n),ss(t)):Io(ke,n.stateNode));break;case 4:r=ke,s=at,ke=n.stateNode.containerInfo,at=!0,Ut(t,e,n),ke=r,at=s;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ql(n,e,o),s=s.next}while(s!==r)}Ut(t,e,n);break;case 1:if(!Le&&(or(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){fe(n,e,l)}Ut(t,e,n);break;case 21:Ut(t,e,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,Ut(t,e,n),Le=r):Ut(t,e,n);break;default:Ut(t,e,n)}}function Ac(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C0),e.forEach(function(r){var s=j0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function it(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ke=l.stateNode,at=!1;break e;case 3:ke=l.stateNode.containerInfo,at=!0;break e;case 4:ke=l.stateNode.containerInfo,at=!0;break e}l=l.return}if(ke===null)throw Error(k(160));Eh(i,o,s),ke=null,at=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){fe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kh(e,t),e=e.sibling}function kh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(it(e,t),gt(t),r&4){try{Xr(3,t,t.return),to(3,t)}catch(w){fe(t,t.return,w)}try{Xr(5,t,t.return)}catch(w){fe(t,t.return,w)}}break;case 1:it(e,t),gt(t),r&512&&n!==null&&or(n,n.return);break;case 5:if(it(e,t),gt(t),r&512&&n!==null&&or(n,n.return),t.flags&32){var s=t.stateNode;try{es(s,"")}catch(w){fe(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Wd(s,i),vl(l,o);var u=vl(l,i);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?Yd(s,d):c==="dangerouslySetInnerHTML"?Kd(s,d):c==="children"?es(s,d):wa(s,c,d,u)}switch(l){case"input":fl(s,i);break;case"textarea":Qd(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ur(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?ur(s,!!i.multiple,i.defaultValue,!0):ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[us]=i}catch(w){fe(t,t.return,w)}}break;case 6:if(it(e,t),gt(t),r&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){fe(t,t.return,w)}}break;case 3:if(it(e,t),gt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ss(e.containerInfo)}catch(w){fe(t,t.return,w)}break;case 4:it(e,t),gt(t);break;case 13:it(e,t),gt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Za=he())),r&4&&Ac(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(u=Le)||c,it(e,t),Le=u):it(e,t),gt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(I=t,c=t.child;c!==null;){for(d=I=c;I!==null;){switch(p=I,y=p.child,p.tag){case 0:case 11:case 14:case 15:Xr(4,p,p.return);break;case 1:or(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){fe(r,n,w)}}break;case 5:or(p,p.return);break;case 22:if(p.memoizedState!==null){jc(d);continue}}y!==null?(y.return=p,I=y):jc(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Gd("display",o))}catch(w){fe(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){fe(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:it(e,t),gt(t),r&4&&Ac(t);break;case 21:break;default:it(e,t),gt(t)}}function gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ch(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(es(s,""),r.flags&=-33);var i=Lc(t);Ql(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Lc(t);Wl(t,l,o);break;default:throw Error(k(161))}}catch(a){fe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function k0(t,e,n){I=t,Nh(t)}function Nh(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Le;l=Bs;var u=Le;if(Bs=o,(Le=a)&&!u)for(I=s;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?Mc(s):a!==null?(a.return=o,I=a):Mc(s);for(;i!==null;)I=i,Nh(i),i=i.sibling;I=s,Bs=l,Le=u}Pc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Pc(t)}}function Pc(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||to(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Le)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:lt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&gc(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gc(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ss(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Le||e.flags&512&&Vl(e)}catch(p){fe(e,e.return,p)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function jc(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Mc(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{to(4,e)}catch(a){fe(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){fe(e,s,a)}}var i=e.return;try{Vl(e)}catch(a){fe(e,i,a)}break;case 5:var o=e.return;try{Vl(e)}catch(a){fe(e,o,a)}}}catch(a){fe(e,e.return,a)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var N0=Math.ceil,Mi=zt.ReactCurrentDispatcher,Ya=zt.ReactCurrentOwner,tt=zt.ReactCurrentBatchConfig,Y=0,Ce=null,me=null,Ne=0,qe=0,lr=Sn(0),we=0,ms=null,$n=0,no=0,Ja=0,Kr=null,$e=null,Za=0,xr=1/0,Lt=null,Ii=!1,Xl=null,cn=null,Us=!1,tn=null,$i=0,Gr=0,Kl=null,li=-1,ai=0;function je(){return Y&6?he():li!==-1?li:li=he()}function dn(t){return t.mode&1?Y&2&&Ne!==0?Ne&-Ne:u0.transition!==null?(ai===0&&(ai=cf()),ai):(t=Z,t!==0||(t=window.event,t=t===void 0?16:vf(t.type)),t):1}function dt(t,e,n,r){if(50<Gr)throw Gr=0,Kl=null,Error(k(185));xs(t,n,r),(!(Y&2)||t!==Ce)&&(t===Ce&&(!(Y&2)&&(no|=n),we===4&&Jt(t,Ne)),He(t,r),n===1&&Y===0&&!(e.mode&1)&&(xr=he()+500,Ji&&xn()))}function He(t,e){var n=t.callbackNode;ug(t,e);var r=_i(t,t===Ce?Ne:0);if(r===0)n!==null&&Uu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uu(n),e===1)t.tag===0?a0(Ic.bind(null,t)):$f(Ic.bind(null,t)),s0(function(){!(Y&6)&&xn()}),n=null;else{switch(df(r)){case 1:n=ka;break;case 4:n=af;break;case 16:n=yi;break;case 536870912:n=uf;break;default:n=yi}n=Mh(n,Th.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Th(t,e){if(li=-1,ai=0,Y&6)throw Error(k(327));var n=t.callbackNode;if(pr()&&t.callbackNode!==n)return null;var r=_i(t,t===Ce?Ne:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Di(t,r);else{e=r;var s=Y;Y|=2;var i=Rh();(Ce!==t||Ne!==e)&&(Lt=null,xr=he()+500,An(t,e));do try{R0();break}catch(l){Oh(t,l)}while(!0);Fa(),Mi.current=i,Y=s,me!==null?e=0:(Ce=null,Ne=0,e=we)}if(e!==0){if(e===2&&(s=xl(t),s!==0&&(r=s,e=Gl(t,s))),e===1)throw n=ms,An(t,0),Jt(t,r),He(t,he()),n;if(e===6)Jt(t,r);else{if(s=t.current.alternate,!(r&30)&&!T0(s)&&(e=Di(t,r),e===2&&(i=xl(t),i!==0&&(r=i,e=Gl(t,i))),e===1))throw n=ms,An(t,0),Jt(t,r),He(t,he()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:Tn(t,$e,Lt);break;case 3:if(Jt(t,r),(r&130023424)===r&&(e=Za+500-he(),10<e)){if(_i(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){je(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ll(Tn.bind(null,t,$e,Lt),e);break}Tn(t,$e,Lt);break;case 4:if(Jt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ct(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N0(r/1960))-r,10<r){t.timeoutHandle=Ll(Tn.bind(null,t,$e,Lt),r);break}Tn(t,$e,Lt);break;case 5:Tn(t,$e,Lt);break;default:throw Error(k(329))}}}return He(t,he()),t.callbackNode===n?Th.bind(null,t):null}function Gl(t,e){var n=Kr;return t.current.memoizedState.isDehydrated&&(An(t,e).flags|=256),t=Di(t,e),t!==2&&(e=$e,$e=n,e!==null&&Yl(e)),t}function Yl(t){$e===null?$e=t:$e.push.apply($e,t)}function T0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ft(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jt(t,e){for(e&=~Ja,e&=~no,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ct(e),r=1<<n;t[n]=-1,e&=~r}}function Ic(t){if(Y&6)throw Error(k(327));pr();var e=_i(t,0);if(!(e&1))return He(t,he()),null;var n=Di(t,e);if(t.tag!==0&&n===2){var r=xl(t);r!==0&&(e=r,n=Gl(t,r))}if(n===1)throw n=ms,An(t,0),Jt(t,e),He(t,he()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tn(t,$e,Lt),He(t,he()),null}function eu(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&(xr=he()+500,Ji&&xn())}}function Dn(t){tn!==null&&tn.tag===0&&!(Y&6)&&pr();var e=Y;Y|=1;var n=tt.transition,r=Z;try{if(tt.transition=null,Z=1,t)return t()}finally{Z=r,tt.transition=n,Y=e,!(Y&6)&&xn()}}function tu(){qe=lr.current,ie(lr)}function An(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r0(n)),me!==null)for(n=me.return;n!==null;){var r=n;switch(Ia(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ei();break;case 3:wr(),ie(be),ie(Ae),qa();break;case 5:Ua(r);break;case 4:wr();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:ba(r.type._context);break;case 22:case 23:tu()}n=n.return}if(Ce=t,me=t=fn(t.current,null),Ne=qe=e,we=0,ms=null,Ja=no=$n=0,$e=Kr=null,Rn!==null){for(e=0;e<Rn.length;e++)if(n=Rn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Rn=null}return t}function Oh(t,e){do{var n=me;try{if(Fa(),si.current=ji,Pi){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pi=!1}if(In=0,xe=_e=ce=null,Qr=!1,fs=0,Ya.current=null,n===null||n.return===null){we=1,ms=e,me=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=Ne,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=xc(o);if(y!==null){y.flags&=-257,Cc(y,o,l,i,e),y.mode&1&&Sc(i,u,e),e=y,a=u;var m=e.updateQueue;if(m===null){var w=new Set;w.add(a),e.updateQueue=w}else m.add(a);break e}else{if(!(e&1)){Sc(i,u,e),nu();break e}a=Error(k(426))}}else if(oe&&l.mode&1){var _=xc(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Cc(_,o,l,i,e),$a(Sr(a,l));break e}}i=a=Sr(a,l),we!==4&&(we=2),Kr===null?Kr=[i]:Kr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=dh(i,a,e);mc(i,f);break e;case 1:l=a;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cn===null||!cn.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=fh(i,l,e);mc(i,C);break e}}i=i.return}while(i!==null)}Ah(n)}catch(T){e=T,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function Rh(){var t=Mi.current;return Mi.current=ji,t===null?ji:t}function nu(){(we===0||we===3||we===2)&&(we=4),Ce===null||!($n&268435455)&&!(no&268435455)||Jt(Ce,Ne)}function Di(t,e){var n=Y;Y|=2;var r=Rh();(Ce!==t||Ne!==e)&&(Lt=null,An(t,e));do try{O0();break}catch(s){Oh(t,s)}while(!0);if(Fa(),Y=n,Mi.current=r,me!==null)throw Error(k(261));return Ce=null,Ne=0,we}function O0(){for(;me!==null;)Lh(me)}function R0(){for(;me!==null&&!eg();)Lh(me)}function Lh(t){var e=jh(t.alternate,t,qe);t.memoizedProps=t.pendingProps,e===null?Ah(t):me=e,Ya.current=null}function Ah(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x0(n,e),n!==null){n.flags&=32767,me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,me=null;return}}else if(n=S0(n,e,qe),n!==null){me=n;return}if(e=e.sibling,e!==null){me=e;return}me=e=t}while(e!==null);we===0&&(we=5)}function Tn(t,e,n){var r=Z,s=tt.transition;try{tt.transition=null,Z=1,L0(t,e,n,r)}finally{tt.transition=s,Z=r}return null}function L0(t,e,n,r){do pr();while(tn!==null);if(Y&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(cg(t,i),t===Ce&&(me=Ce=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Us||(Us=!0,Mh(yi,function(){return pr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tt.transition,tt.transition=null;var o=Z;Z=1;var l=Y;Y|=4,Ya.current=null,E0(t,n),kh(n,t),Gg(Ol),wi=!!Tl,Ol=Tl=null,t.current=n,k0(n),tg(),Y=l,Z=o,tt.transition=i}else t.current=n;if(Us&&(Us=!1,tn=t,$i=s),i=t.pendingLanes,i===0&&(cn=null),sg(n.stateNode),He(t,he()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ii)throw Ii=!1,t=Xl,Xl=null,t;return $i&1&&t.tag!==0&&pr(),i=t.pendingLanes,i&1?t===Kl?Gr++:(Gr=0,Kl=t):Gr=0,xn(),null}function pr(){if(tn!==null){var t=df($i),e=tt.transition,n=Z;try{if(tt.transition=null,Z=16>t?16:t,tn===null)var r=!1;else{if(t=tn,tn=null,$i=0,Y&6)throw Error(k(331));var s=Y;for(Y|=4,I=t.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:Xr(8,c,i)}var d=c.child;if(d!==null)d.return=c,I=d;else for(;I!==null;){c=I;var p=c.sibling,y=c.return;if(xh(c),c===u){I=null;break}if(p!==null){p.return=y,I=p;break}I=y}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,I=f;break e}I=i.return}}var h=t.current;for(I=h;I!==null;){o=I;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,I=g;else e:for(o=h;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:to(9,l)}}catch(T){fe(l,l.return,T)}if(l===o){I=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,I=C;break e}I=l.return}}if(Y=s,xn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Qi,t)}catch{}r=!0}return r}finally{Z=n,tt.transition=e}}return!1}function $c(t,e,n){e=Sr(n,e),e=dh(t,e,1),t=un(t,e,1),e=je(),t!==null&&(xs(t,1,e),He(t,e))}function fe(t,e,n){if(t.tag===3)$c(t,t,n);else for(;e!==null;){if(e.tag===3){$c(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cn===null||!cn.has(r))){t=Sr(n,t),t=fh(e,t,1),e=un(e,t,1),t=je(),e!==null&&(xs(e,1,t),He(e,t));break}}e=e.return}}function A0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=je(),t.pingedLanes|=t.suspendedLanes&n,Ce===t&&(Ne&n)===n&&(we===4||we===3&&(Ne&130023424)===Ne&&500>he()-Za?An(t,0):Ja|=n),He(t,e)}function Ph(t,e){e===0&&(t.mode&1?(e=js,js<<=1,!(js&130023424)&&(js=4194304)):e=1);var n=je();t=Ft(t,e),t!==null&&(xs(t,e,n),He(t,n))}function P0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ph(t,n)}function j0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),Ph(t,n)}var jh;jh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||be.current)Fe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fe=!1,w0(t,e,n);Fe=!!(t.flags&131072)}else Fe=!1,oe&&e.flags&1048576&&Df(e,Ti,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;oi(t,e),t=e.pendingProps;var s=vr(e,Ae.current);hr(e,n),s=Wa(null,e,r,t,s,n);var i=Qa();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ze(r)?(i=!0,ki(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ha(e),s.updater=eo,e.stateNode=s,s._reactInternals=e,Dl(e,r,t,n),e=zl(null,e,r,!0,i,n)):(e.tag=0,oe&&i&&Ma(e),Pe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(oi(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=I0(r),t=lt(r,t),s){case 0:e=bl(null,e,r,t,n);break e;case 1:e=Nc(null,e,r,t,n);break e;case 11:e=Ec(null,e,r,t,n);break e;case 14:e=kc(null,e,r,lt(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),bl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),Nc(t,e,r,s,n);case 3:e:{if(gh(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Uf(t,e),Li(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Sr(Error(k(423)),e),e=Tc(t,e,r,n,s);break e}else if(r!==s){s=Sr(Error(k(424)),e),e=Tc(t,e,r,n,s);break e}else for(Ve=an(e.stateNode.containerInfo.firstChild),We=e,oe=!0,ut=null,n=Hf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yr(),r===s){e=bt(t,e,n);break e}Pe(t,e,r,n)}e=e.child}return e;case 5:return qf(e),t===null&&Ml(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Rl(r,s)?o=null:i!==null&&Rl(r,i)&&(e.flags|=32),mh(t,e),Pe(t,e,o,n),e.child;case 6:return t===null&&Ml(e),null;case 13:return vh(t,e,n);case 4:return Ba(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_r(e,null,r,n):Pe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),Ec(t,e,r,s,n);case 7:return Pe(t,e,e.pendingProps,n),e.child;case 8:return Pe(t,e,e.pendingProps.children,n),e.child;case 12:return Pe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,re(Oi,r._currentValue),r._currentValue=o,i!==null)if(ft(i.value,o)){if(i.children===s.children&&!be.current){e=bt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=It(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Il(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Il(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,hr(e,n),s=rt(s),r=r(s),e.flags|=1,Pe(t,e,r,n),e.child;case 14:return r=e.type,s=lt(r,e.pendingProps),s=lt(r.type,s),kc(t,e,r,s,n);case 15:return hh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),oi(t,e),e.tag=1,ze(r)?(t=!0,ki(e)):t=!1,hr(e,n),ch(e,r,s),Dl(e,r,s,n),zl(null,e,r,!0,t,n);case 19:return yh(t,e,n);case 22:return ph(t,e,n)}throw Error(k(156,e.tag))};function Mh(t,e){return lf(t,e)}function M0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(t,e,n,r){return new M0(t,e,n,r)}function ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I0(t){if(typeof t=="function")return ru(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xa)return 11;if(t===Ca)return 14}return 2}function fn(t,e){var n=t.alternate;return n===null?(n=et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ui(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ru(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yn:return Pn(n.children,s,i,e);case Sa:o=8,s|=8;break;case ll:return t=et(12,n,e,s|2),t.elementType=ll,t.lanes=i,t;case al:return t=et(13,n,e,s),t.elementType=al,t.lanes=i,t;case ul:return t=et(19,n,e,s),t.elementType=ul,t.lanes=i,t;case Ud:return ro(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hd:o=10;break e;case Bd:o=9;break e;case xa:o=11;break e;case Ca:o=14;break e;case Kt:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=et(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Pn(t,e,n,r){return t=et(7,t,r,e),t.lanes=n,t}function ro(t,e,n,r){return t=et(22,t,r,e),t.elementType=Ud,t.lanes=n,t.stateNode={isHidden:!1},t}function Uo(t,e,n){return t=et(6,t,null,e),t.lanes=n,t}function qo(t,e,n){return e=et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function su(t,e,n,r,s,i,o,l,a){return t=new $0(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=et(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(i),t}function D0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ih(t){if(!t)return mn;t=t._reactInternals;e:{if(Hn(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(ze(n))return If(t,n,e)}return e}function $h(t,e,n,r,s,i,o,l,a){return t=su(n,r,!0,t,s,i,o,l,a),t.context=Ih(null),n=t.current,r=je(),s=dn(n),i=It(r,s),i.callback=e??null,un(n,i,s),t.current.lanes=s,xs(t,s,r),He(t,r),t}function so(t,e,n,r){var s=e.current,i=je(),o=dn(s);return n=Ih(n),e.context===null?e.context=n:e.pendingContext=n,e=It(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=un(s,e,o),t!==null&&(dt(t,s,o,i),ri(t,s,o)),o}function Fi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iu(t,e){Dc(t,e),(t=t.alternate)&&Dc(t,e)}function F0(){return null}var Dh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ou(t){this._internalRoot=t}io.prototype.render=ou.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));so(t,e,null,null)};io.prototype.unmount=ou.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dn(function(){so(null,t,null,null)}),e[Dt]=null}};function io(t){this._internalRoot=t}io.prototype.unstable_scheduleHydration=function(t){if(t){var e=pf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yt.length&&e!==0&&e<Yt[n].priority;n++);Yt.splice(n,0,t),n===0&&gf(t)}};function lu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fc(){}function b0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fi(o);i.call(u)}}var o=$h(e,r,t,0,null,!1,!1,"",Fc);return t._reactRootContainer=o,t[Dt]=o.current,ls(t.nodeType===8?t.parentNode:t),Dn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Fi(a);l.call(u)}}var a=su(t,0,!1,null,null,!1,!1,"",Fc);return t._reactRootContainer=a,t[Dt]=a.current,ls(t.nodeType===8?t.parentNode:t),Dn(function(){so(e,a,n,r)}),a}function lo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Fi(o);l.call(a)}}so(e,o,t,s)}else o=b0(n,e,t,s,r);return Fi(o)}ff=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=br(e.pendingLanes);n!==0&&(Na(e,n|1),He(e,he()),!(Y&6)&&(xr=he()+500,xn()))}break;case 13:Dn(function(){var r=Ft(t,1);if(r!==null){var s=je();dt(r,t,1,s)}}),iu(t,1)}};Ta=function(t){if(t.tag===13){var e=Ft(t,134217728);if(e!==null){var n=je();dt(e,t,134217728,n)}iu(t,134217728)}};hf=function(t){if(t.tag===13){var e=dn(t),n=Ft(t,e);if(n!==null){var r=je();dt(n,t,e,r)}iu(t,e)}};pf=function(){return Z};mf=function(t,e){var n=Z;try{return Z=t,e()}finally{Z=n}};_l=function(t,e,n){switch(e){case"input":if(fl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Yi(r);if(!s)throw Error(k(90));Vd(r),fl(r,s)}}}break;case"textarea":Qd(t,n);break;case"select":e=n.value,e!=null&&ur(t,!!n.multiple,e,!1)}};ef=eu;tf=Dn;var z0={usingClientEntryPoint:!1,Events:[Es,tr,Yi,Jd,Zd,eu]},$r={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H0={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sf(t),t===null?null:t.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||F0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{Qi=qs.inject(H0),Ct=qs}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0;Xe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lu(e))throw Error(k(200));return D0(t,e,null,n)};Xe.createRoot=function(t,e){if(!lu(t))throw Error(k(299));var n=!1,r="",s=Dh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=su(t,1,!1,null,null,n,!1,r,s),t[Dt]=e.current,ls(t.nodeType===8?t.parentNode:t),new ou(e)};Xe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=sf(e),t=t===null?null:t.stateNode,t};Xe.flushSync=function(t){return Dn(t)};Xe.hydrate=function(t,e,n){if(!oo(e))throw Error(k(200));return lo(null,t,e,!0,n)};Xe.hydrateRoot=function(t,e,n){if(!lu(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Dh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$h(e,null,t,1,n??null,s,!1,i,o),t[Dt]=e.current,ls(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new io(e)};Xe.render=function(t,e,n){if(!oo(e))throw Error(k(200));return lo(null,t,e,!1,n)};Xe.unmountComponentAtNode=function(t){if(!oo(t))throw Error(k(40));return t._reactRootContainer?(Dn(function(){lo(null,null,t,!1,function(){t._reactRootContainer=null,t[Dt]=null})}),!0):!1};Xe.unstable_batchedUpdates=eu;Xe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oo(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return lo(t,e,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function Fh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fh)}catch(t){console.error(t)}}Fh(),Dd.exports=Xe;var B0=Dd.exports,bc=B0;il.createRoot=bc.createRoot,il.hydrateRoot=bc.hydrateRoot;var bh={exports:{}},U0="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",q0=U0,V0=q0;function zh(){}function Hh(){}Hh.resetWarningCache=zh;var W0=function(){function t(r,s,i,o,l,a){if(a!==V0){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Hh,resetWarningCache:zh};return n.PropTypes=n,n};bh.exports=W0();var Q0=bh.exports;const H=ha(Q0),Bh=x.createContext();function Uh({children:t}){const[e,n]=x.useState(void 0),r={session:e,setSession:n};return v.jsx(Bh.Provider,{value:r,children:t})}Uh.propTypes={children:H.node.isRequired};/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gs.apply(this,arguments)}var nn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nn||(nn={}));const zc="popstate";function X0(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Jl("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bi(s)}return G0(e,n,null,t)}function ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K0(){return Math.random().toString(36).substr(2,8)}function Hc(t,e){return{usr:t.state,key:t.key,idx:e}}function Jl(t,e,n,r){return n===void 0&&(n=null),gs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Or(e):e,{state:n,key:e&&e.key||r||K0()})}function bi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Or(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function G0(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=nn.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(gs({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=nn.Pop;let _=c(),f=_==null?null:_-u;u=_,a&&a({action:l,location:w.location,delta:f})}function p(_,f){l=nn.Push;let h=Jl(w.location,_,f);u=c()+1;let g=Hc(h,u),C=w.createHref(h);try{o.pushState(g,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(C)}i&&a&&a({action:l,location:w.location,delta:1})}function y(_,f){l=nn.Replace;let h=Jl(w.location,_,f);u=c();let g=Hc(h,u),C=w.createHref(h);o.replaceState(g,"",C),i&&a&&a({action:l,location:w.location,delta:0})}function m(_){let f=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof _=="string"?_:bi(_);return h=h.replace(/ $/,"%20"),ge(f,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,f)}let w={get action(){return l},get location(){return t(s,o)},listen(_){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(zc,d),a=_,()=>{s.removeEventListener(zc,d),a=null}},createHref(_){return e(s,_)},createURL:m,encodeLocation(_){let f=m(_);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:y,go(_){return o.go(_)}};return w}var Bc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bc||(Bc={}));function Y0(t,e,n){return n===void 0&&(n="/"),J0(t,e,n,!1)}function J0(t,e,n,r){let s=typeof e=="string"?Or(e):e,i=au(s.pathname||"/",n);if(i==null)return null;let o=Vh(t);Z0(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=c1(i);l=a1(o[a],u,r)}return l}function Vh(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(ge(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=hn([r,a.relativePath]),c=n.concat(a);i.children&&i.children.length>0&&(ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vh(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:o1(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of Wh(i.path))s(i,o,a)}),e}function Wh(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Wh(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function Z0(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:l1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e1=/^:[\w-]+$/,t1=3,n1=2,r1=1,s1=10,i1=-2,Uc=t=>t==="*";function o1(t,e){let n=t.split("/"),r=n.length;return n.some(Uc)&&(r+=i1),e&&(r+=n1),n.filter(s=>!Uc(s)).reduce((s,i)=>s+(e1.test(i)?t1:i===""?r1:s1),r)}function l1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function a1(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=qc({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),p=a.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=qc({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:hn([i,d.pathname]),pathnameBase:p1(hn([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=hn([i,d.pathnameBase]))}return o}function qc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:p,isOptional:y}=c;if(p==="*"){let w=l[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const m=l[d];return y&&!m?u[p]=void 0:u[p]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function u1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function c1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function au(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function d1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Or(t):t;return{pathname:n?n.startsWith("/")?n:f1(n,e):e,search:m1(r),hash:g1(s)}}function f1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vo(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qh(t,e){let n=h1(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xh(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Or(t):(s=gs({},t),ge(!s.pathname||!s.pathname.includes("?"),Vo("?","pathname","search",s)),ge(!s.pathname||!s.pathname.includes("#"),Vo("#","pathname","hash",s)),ge(!s.search||!s.search.includes("#"),Vo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}l=d>=0?e[d]:"/"}let a=d1(s,l),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const hn=t=>t.join("/").replace(/\/\/+/g,"/"),p1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Kh=["post","put","patch","delete"];new Set(Kh);const y1=["get",...Kh];new Set(y1);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}const uu=x.createContext(null),_1=x.createContext(null),Bn=x.createContext(null),ao=x.createContext(null),Un=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Gh=x.createContext(null);function w1(t,e){let{relative:n}=e===void 0?{}:e;Ns()||ge(!1);let{basename:r,navigator:s}=x.useContext(Bn),{hash:i,pathname:o,search:l}=Jh(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:hn([r,o])),s.createHref({pathname:a,search:l,hash:i})}function Ns(){return x.useContext(ao)!=null}function uo(){return Ns()||ge(!1),x.useContext(ao).location}function Yh(t){x.useContext(Bn).static||x.useLayoutEffect(t)}function S1(){let{isDataRoute:t}=x.useContext(Un);return t?M1():x1()}function x1(){Ns()||ge(!1);let t=x.useContext(uu),{basename:e,future:n,navigator:r}=x.useContext(Bn),{matches:s}=x.useContext(Un),{pathname:i}=uo(),o=JSON.stringify(Qh(s,n.v7_relativeSplatPath)),l=x.useRef(!1);return Yh(()=>{l.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=Xh(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:hn([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,i,t])}function Jh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(Bn),{matches:s}=x.useContext(Un),{pathname:i}=uo(),o=JSON.stringify(Qh(s,r.v7_relativeSplatPath));return x.useMemo(()=>Xh(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function C1(t,e){return E1(t,e)}function E1(t,e,n,r){Ns()||ge(!1);let{navigator:s}=x.useContext(Bn),{matches:i}=x.useContext(Un),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=uo(),c;if(e){var d;let _=typeof e=="string"?Or(e):e;a==="/"||(d=_.pathname)!=null&&d.startsWith(a)||ge(!1),c=_}else c=u;let p=c.pathname||"/",y=p;if(a!=="/"){let _=a.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=Y0(t,{pathname:y}),w=R1(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:hn([a,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:hn([a,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&w?x.createElement(ao.Provider,{value:{location:vs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:nn.Pop}},w):w}function k1(){let t=j1(),e=v1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,null)}const N1=x.createElement(k1,null);class T1 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(Un.Provider,{value:this.props.routeContext},x.createElement(Gh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O1(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(uu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Un.Provider,{value:e},r)}function R1(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||ge(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:y}=n,m=d.route.loader&&p[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||m){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,p)=>{let y,m=!1,w=null,_=null;n&&(y=l&&d.route.id?l[d.route.id]:void 0,w=d.route.errorElement||N1,a&&(u<0&&p===0?(m=!0,_=null):u===p&&(m=!0,_=d.route.hydrateFallbackElement||null)));let f=e.concat(o.slice(0,p+1)),h=()=>{let g;return y?g=w:m?g=_:d.route.Component?g=x.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=c,x.createElement(O1,{match:d,routeContext:{outlet:c,matches:f,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?x.createElement(T1,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var Zh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Zh||{}),zi=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zi||{});function L1(t){let e=x.useContext(uu);return e||ge(!1),e}function A1(t){let e=x.useContext(_1);return e||ge(!1),e}function P1(t){let e=x.useContext(Un);return e||ge(!1),e}function ep(t){let e=P1(),n=e.matches[e.matches.length-1];return n.route.id||ge(!1),n.route.id}function j1(){var t;let e=x.useContext(Gh),n=A1(zi.UseRouteError),r=ep(zi.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function M1(){let{router:t}=L1(Zh.UseNavigateStable),e=ep(zi.UseNavigateStable),n=x.useRef(!1);return Yh(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,vs({fromRouteId:e},i)))},[t,e])}function ci(t){ge(!1)}function I1(t){let{basename:e="/",children:n=null,location:r,navigationType:s=nn.Pop,navigator:i,static:o=!1,future:l}=t;Ns()&&ge(!1);let a=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:a,navigator:i,static:o,future:vs({v7_relativeSplatPath:!1},l)}),[a,l,i,o]);typeof r=="string"&&(r=Or(r));let{pathname:c="/",search:d="",hash:p="",state:y=null,key:m="default"}=r,w=x.useMemo(()=>{let _=au(c,a);return _==null?null:{location:{pathname:_,search:d,hash:p,state:y,key:m},navigationType:s}},[a,c,d,p,y,m,s]);return w==null?null:x.createElement(Bn.Provider,{value:u},x.createElement(ao.Provider,{children:n,value:w}))}function Vc(t){let{children:e,location:n}=t;return C1(Zl(e),n)}new Promise(()=>{});function Zl(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let i=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Zl(r.props.children,i));return}r.type!==ci&&ge(!1),!r.props.index||!r.props.children||ge(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ea.apply(this,arguments)}function $1(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function D1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function F1(t,e){return t.button===0&&(!e||e==="_self")&&!D1(t)}const b1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],z1="6";try{window.__reactRouterVersion=z1}catch{}const H1="startTransition",Wc=Am[H1];function B1(t){let{basename:e,children:n,future:r,window:s}=t,i=x.useRef();i.current==null&&(i.current=X0({window:s,v5Compat:!0}));let o=i.current,[l,a]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=x.useCallback(d=>{u&&Wc?Wc(()=>a(d)):a(d)},[a,u]);return x.useLayoutEffect(()=>o.listen(c),[o,c]),x.createElement(I1,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const U1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tp=x.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:a,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,p=$1(e,b1),{basename:y}=x.useContext(Bn),m,w=!1;if(typeof u=="string"&&q1.test(u)&&(m=u,U1))try{let g=new URL(window.location.href),C=u.startsWith("//")?new URL(g.protocol+u):new URL(u),T=au(C.pathname,y);C.origin===g.origin&&T!=null?u=T+C.search+C.hash:w=!0}catch{}let _=w1(u,{relative:s}),f=V1(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:s,unstable_viewTransition:d});function h(g){r&&r(g),g.defaultPrevented||f(g)}return x.createElement("a",ea({},p,{href:m||_,onClick:w||i?r:h,ref:n,target:a}))});var Qc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qc||(Qc={}));var Xc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xc||(Xc={}));function V1(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,a=S1(),u=uo(),c=Jh(t,{relative:o});return x.useCallback(d=>{if(F1(d,n)){d.preventDefault();let p=r!==void 0?r:bi(u)===bi(c);a(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[u,a,c,r,s,n,t,i,o,l])}function W1(t){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");if(t=`${t}`,t=t.replace(/[ \t\n\f\r]/g,""),t.length%4===0&&(t=t.replace(/==?$/,"")),t.length%4===1||/[^+/0-9A-Za-z]/.test(t))return null;let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=X1(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const Q1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function X1(t){const e=Q1.indexOf(t);return e<0?void 0:e}var K1=W1;function G1(t){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let e;for(t=`${t}`,e=0;e<t.length;e++)if(t.charCodeAt(e)>255)return null;let n="";for(e=0;e<t.length;e+=3){const r=[void 0,void 0,void 0,void 0];r[0]=t.charCodeAt(e)>>2,r[1]=(t.charCodeAt(e)&3)<<4,t.length>e+1&&(r[1]|=t.charCodeAt(e+1)>>4,r[2]=(t.charCodeAt(e+1)&15)<<2),t.length>e+2&&(r[2]|=t.charCodeAt(e+2)>>6,r[3]=t.charCodeAt(e+2)&63);for(let s=0;s<r.length;s++)typeof r[s]>"u"?n+="=":n+=J1(r[s])}return n}const Y1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function J1(t){if(t>=0&&t<64)return Y1[t]}var Z1=G1;const ev=K1,tv=Z1;var Vs={atob:ev,btoa:tv};function nv(){if(typeof globalThis.WebSocket>"u")try{return require("ws")}catch{throw new Error('You must install the "ws" package to use Strophe in nodejs.')}return globalThis.WebSocket}const ta=nv();function rv(){let t=globalThis.DOMParser;if(typeof t>"u")try{t=require("@xmldom/xmldom").DOMParser}catch{throw new Error('You must install the "@xmldom/xmldom" package to use Strophe in nodejs.')}return t}const Zt=rv();function np(){if(typeof document>"u")try{const t=require("@xmldom/xmldom").DOMImplementation;return new t().createDocument("jabber:client","strophe",null)}catch{throw new Error('You must install the "@xmldom/xmldom" package to use Strophe in nodejs.')}return document.implementation.createDocument("jabber:client","strophe",null)}var sv=Object.freeze({__proto__:null,WebSocket:ta,DOMParser:Zt,getDummyXMLDOMDocument:np});const ae={HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},gn={tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"]},X={ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10,BINDREQUIRED:11,ATTACHFAIL:12,RECONNECTING:13},St={BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},Se={DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},nt={NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11};let Kc=Se.DEBUG;const F={setLogLevel(t){if(t<Se.DEBUG||t>Se.FATAL)throw new Error("Invalid log level supplied to setLogLevel");Kc=t},log(t,e){if(!(t<Kc)){if(t>=Se.ERROR){var n;(n=console)===null||n===void 0||n.error(e)}else if(t===Se.INFO){var r;(r=console)===null||r===void 0||r.info(e)}else if(t===Se.WARN){var s;(s=console)===null||s===void 0||s.warn(e)}else if(t===Se.DEBUG){var i;(i=console)===null||i===void 0||i.debug(e)}}},debug(t){this.log(Se.DEBUG,t)},info(t){this.log(Se.INFO,t)},warn(t){this.log(Se.WARN,t)},error(t){this.log(Se.ERROR,t)},fatal(t){this.log(Se.FATAL,t)}};function cu(t){typeof t.stack<"u"&&F.fatal(t.stack),F.fatal("error: "+t.message)}function rp(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t.charCodeAt(r);s>=0&&s<=127?e+=t.charAt(r):s>2047?(e+=String.fromCharCode(224|s>>12&15),e+=String.fromCharCode(128|s>>6&63),e+=String.fromCharCode(128|s>>0&63)):(e+=String.fromCharCode(192|s>>6&31),e+=String.fromCharCode(128|s>>0&63))}return e}function sp(t,e){const n=new Uint8Array(t),r=new Uint8Array(e),s=new Uint8Array(t.byteLength);for(let i=0;i<t.byteLength;i++)s[i]=n[i]^r[i];return s.buffer}function ip(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let s=0;s<r;s++)e+=String.fromCharCode(n[s]);return btoa(e)}function op(t){var e;return(e=Uint8Array.from(atob(t),n=>n.charCodeAt(0)))===null||e===void 0?void 0:e.buffer}function lp(t){return new TextEncoder().encode(t).buffer}function du(t){typeof document>"u"&&F.error("addCookies: not adding any cookies, since there's no document object"),t=t||{};for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let n="",r="",s="";const i=t[e],o=typeof i=="object",l=escape(unescape(o?i.value:i));o&&(n=i.expires?";expires="+i.expires:"",r=i.domain?";domain="+i.domain:"",s=i.path?";path="+i.path:""),document.cookie=e+"="+l+n+r+s}}let Wo=null;function vn(){return Wo||(Wo=np()),Wo}function Cr(t){return vn().createTextNode(t)}function iv(t){return new Zt().parseFromString(t,"text/xml")}function ys(t,e,n){if(!t)return null;const r=vn().createElement(t);if(n&&(typeof n=="string"||typeof n=="number"))r.appendChild(Cr(n.toString()));else if(typeof e=="string"||typeof e=="number")return r.appendChild(Cr(e.toString())),r;if(e){if(Array.isArray(e))for(const s of e)Array.isArray(s)&&s[0]!=null&&s[1]!=null&&r.setAttribute(s[0],s[1]);else if(typeof e=="object")for(const s of Object.keys(e))s&&e[s]!=null&&r.setAttribute(s,e[s].toString())}else return r;return r}function fu(t){for(let e=0;e<gn.tags.length;e++)if(t===gn.tags[e])return!0;return!1}function ap(t,e){const n=gn.attributes[t];if((n==null?void 0:n.length)>0){for(let r=0;r<n.length;r++)if(e===n[r])return!0}return!1}function hu(t){for(let e=0;e<gn.css.length;e++)if(t===gn.css[e])return!0;return!1}function ov(t){let e;const n=t.nodeName.toLowerCase();if(fu(n))try{if(e=ys(n),n in gn.attributes){const s=gn.attributes[n];for(let i=0;i<s.length;i++){const o=s[i];let l=t.getAttribute(o);if(!(typeof l>"u"||l===null||l==="")){if(o==="style"&&typeof l=="object"){var r;l=(r=l.cssText)!==null&&r!==void 0?r:l}if(o==="style"){const a=[],u=l.split(";");for(let c=0;c<u.length;c++){const d=u[c].split(":"),p=d[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(hu(p)){const y=d[1].replace(/^\s*/,"").replace(/\s*$/,"");a.push(p+": "+y)}}a.length>0&&(l=a.join("; "),e.setAttribute(o,l))}else e.setAttribute(o,l)}}for(let i=0;i<t.childNodes.length;i++)e.appendChild(_s(t.childNodes[i]))}}catch{e=Cr("")}else{e=vn().createDocumentFragment();for(let s=0;s<t.childNodes.length;s++)e.appendChild(_s(t.childNodes[s]))}return e}function _s(t){if(t.nodeType===nt.NORMAL)return ov(t);if(t.nodeType===nt.FRAGMENT){const e=vn().createDocumentFragment();for(let n=0;n<t.childNodes.length;n++)e.appendChild(_s(t.childNodes[n]));return e}else if(t.nodeType===nt.TEXT)return Cr(t.nodeValue)}function pu(t){let e;if(t.nodeType===nt.NORMAL){const n=t;e=ys(n.tagName);for(let r=0;r<n.attributes.length;r++)e.setAttribute(n.attributes[r].nodeName,n.attributes[r].value);for(let r=0;r<n.childNodes.length;r++)e.appendChild(pu(n.childNodes[r]))}else t.nodeType===nt.TEXT&&(e=vn().createTextNode(t.nodeValue));return e}function Hi(t){return t=t.replace(/\&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/'/g,"&apos;"),t=t.replace(/"/g,"&quot;"),t}function lv(t){return t=t.replace(/\&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&apos;/g,"'"),t=t.replace(/&quot;/g,'"'),t}function mu(t,e,n){for(let r=0;r<t.childNodes.length;r++){const s=t.childNodes[r];s.nodeType===nt.NORMAL&&(!e||this.isTagEqual(s,e))&&n(s)}}function up(t,e){return t.tagName===e}function di(t){var e;if(!t)return null;let n="";!((e=t.childNodes)!==null&&e!==void 0&&e.length)&&t.nodeType===nt.TEXT&&(n+=t.nodeValue);for(let i=0;(r=i<((s=t.childNodes)===null||s===void 0?void 0:s.length))!==null&&r!==void 0&&r;i++){var r,s;t.childNodes[i].nodeType===nt.TEXT&&(n+=t.childNodes[i].nodeValue)}return Hi(n)}function av(t){return typeof t!="string"?t:t.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")}function uv(t){return typeof t!="string"?t:t.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")}function ar(t){return t.indexOf("@")<0?null:t.split("@")[0]}function Bi(t){const e=yn(t);if(e.indexOf("@")<0)return e;{const n=e.split("@");return n.splice(0,1),n.join("@")}}function fi(t){if(!t)return null;const e=t.split("/");return e.length<2?null:(e.splice(0,1),e.join("/"))}function yn(t){return t?t.split("/")[0]:null}const pe={utf16to8:rp,xorArrayBuffers:sp,arrayBufToBase64:ip,base64ToArrayBuf:op,stringToArrayBuf:lp,addCookies:du};var cv=Object.freeze({__proto__:null,handleError:cu,utf16to8:rp,xorArrayBuffers:sp,arrayBufToBase64:ip,base64ToArrayBuf:op,stringToArrayBuf:lp,addCookies:du,xmlGenerator:vn,xmlTextNode:Cr,xmlHtmlNode:iv,xmlElement:ys,validTag:fu,validAttribute:ap,validCSS:hu,createHtml:_s,copyElement:pu,xmlescape:Hi,xmlunescape:lv,forEachChild:mu,isTagEqual:up,getText:di,escapeNode:av,unescapeNode:uv,getNodeFromJid:ar,getDomainFromJid:Bi,getResourceFromJid:fi,getBareJidFromJid:yn,default:pe});function Fn(t,e){return new le(t,e)}function na(t){return new le("message",t)}function Ze(t){return new le("iq",t)}function wt(t){return new le("presence",t)}class le{constructor(e,n){(e==="presence"||e==="message"||e==="iq")&&(n&&!n.xmlns?n.xmlns=ae.CLIENT:n||(n={xmlns:ae.CLIENT})),this.nodeTree=ys(e,n),this.node=this.nodeTree}static serialize(e){if(!e)return null;const n=e instanceof le?e.tree():e,r=[...Array(n.attributes.length).keys()].map(i=>n.attributes[i].nodeName);r.sort();let s=r.reduce((i,o)=>`${i} ${o}="${Hi(n.attributes.getNamedItem(o).value)}"`,`<${n.nodeName}`);if(n.childNodes.length>0){s+=">";for(let i=0;i<n.childNodes.length;i++){const o=n.childNodes[i];switch(o.nodeType){case nt.NORMAL:s+=le.serialize(o);break;case nt.TEXT:s+=Hi(o.nodeValue);break;case nt.CDATA:s+="<![CDATA["+o.nodeValue+"]]>"}}s+="</"+n.nodeName+">"}else s+="/>";return s}tree(){return this.nodeTree}toString(){return le.serialize(this.nodeTree)}up(){return this.node=this.node.parentElement?this.node.parentElement:this.node.parentNode,this}root(){return this.node=this.nodeTree,this}attrs(e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]!=null?this.node.setAttribute(n,e[n].toString()):this.node.removeAttribute(n));return this}c(e,n,r){const s=ys(e,n,r);return this.node.appendChild(s),typeof r!="string"&&typeof r!="number"&&(this.node=s),this}cnode(e){let n;const r=vn();try{n=r.importNode!==void 0}catch{n=!1}const s=n?r.importNode(e,!0):pu(e);return this.node.appendChild(s),this.node=s,this}t(e){const n=Cr(e);return this.node.appendChild(n),this}h(e){const n=vn().createElement("body");n.innerHTML=e;const r=_s(n);for(;r.childNodes.length>0;)this.node.appendChild(r.childNodes[0]);return this}}let dv=0;class Kn{constructor(e,n,r,s=0){this.id=++dv,this.xmlData=e,this.data=le.serialize(e),this.origFunc=n,this.func=n,this.rid=r,this.date=NaN,this.sends=s,this.abort=!1,this.dead=null,this.age=()=>this.date?(new Date().valueOf()-this.date.valueOf())/1e3:0,this.timeDead=()=>this.dead?(new Date().valueOf()-this.dead.valueOf())/1e3:0,this.xhr=this._newXHR()}getResponse(){var e;let n=(e=this.xhr.responseXML)===null||e===void 0?void 0:e.documentElement;if(n){if(n.tagName==="parsererror")throw F.error("invalid response received"),F.error("responseText: "+this.xhr.responseText),F.error("responseXML: "+le.serialize(n)),new Error("parsererror")}else if(this.xhr.responseText){var r;F.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),n=new Zt().parseFromString(this.xhr.responseText,"application/xml").documentElement;const s=(r=n)===null||r===void 0?void 0:r.getElementsByTagName("parsererror").item(0);if(!n||s){s&&(F.error("invalid response received: "+s.textContent),F.error("responseText: "+this.xhr.responseText));const i=new Error;throw i.name=St.BAD_FORMAT,i}}return n}_newXHR(){const e=new XMLHttpRequest;return e.overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8"),e.onreadystatechange=this.func.bind(null,this),e}}let qt=1.1,Qo=.1;class De{constructor(e){var n;this._conn=e,this.rid=Math.floor(Math.random()*4294967295),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.strip=(n=De.prototype.strip)!==null&&n!==void 0?n:!1,this.lastResponseHeaders=null,this._requests=[]}static setTimeoutMultiplier(e){qt=e}static getTimeoutMultplier(){return qt}static setSecondaryTimeoutMultiplier(e){Qo=e}static getSecondaryTimeoutMultplier(){return Qo}_buildBody(){const e=Fn("body",{rid:this.rid++,xmlns:ae.HTTPBIND});return this.sid!==null&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e}_reset(){this.rid=Math.floor(Math.random()*4294967295),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)}_connect(e,n,r){this.wait=e||this.wait,this.hold=n||this.hold,this.errors=0;const s=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":ae.BOSH});r&&s.attrs({route:r});const i=this._conn._connect_cb;this._requests.push(new Kn(s.tree(),this._onRequestStateChange.bind(this,i.bind(this._conn)),Number(s.tree().getAttribute("rid")))),this._throttledRequestHandler()}_attach(e,n,r,s,i,o,l){this._conn.jid=e,this.sid=n,this.rid=r,this._conn.connect_callback=s,this._conn.domain=Bi(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=i||this.wait,this.hold=o||this.hold,this.window=l||this.window,this._conn._changeConnectStatus(X.ATTACHED,null)}_restore(e,n,r,s,i){const o=JSON.parse(sessionStorage.getItem("strophe-bosh-session"));if(typeof o<"u"&&o!==null&&o.rid&&o.sid&&o.jid&&(typeof e>"u"||e===null||yn(o.jid)===yn(e)||ar(e)===null&&Bi(o.jid)===e))this._conn.restored=!0,this._attach(o.jid,o.sid,o.rid,n,r,s,i);else{const l=new Error("_restore: no restoreable session.");throw l.name="StropheSessionError",l}}_cacheSession(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):sessionStorage.removeItem("strophe-bosh-session")}_connect_cb(e){const n=e.getAttribute("type");if(n!==null&&n==="terminate"){let l=e.getAttribute("condition");F.error("BOSH-Connection failed: "+l);const a=e.getElementsByTagName("conflict");return l!==null?(l==="remote-stream-error"&&a.length>0&&(l="conflict"),this._conn._changeConnectStatus(X.CONNFAIL,l)):this._conn._changeConnectStatus(X.CONNFAIL,"unknown"),this._conn._doDisconnect(l),X.CONNFAIL}this.sid||(this.sid=e.getAttribute("sid"));const r=e.getAttribute("requests");r&&(this.window=parseInt(r,10));const s=e.getAttribute("hold");s&&(this.hold=parseInt(s,10));const i=e.getAttribute("wait");i&&(this.wait=parseInt(i,10));const o=e.getAttribute("inactivity");o&&(this.inactivity=parseInt(o,10))}_disconnect(e){this._sendTerminate(e)}_doDisconnect(){this.sid=null,this.rid=Math.floor(Math.random()*4294967295),this._conn._sessionCachingSupported()&&sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)}_emptyQueue(){return this._requests.length===0}_callProtocolErrorHandlers(e){const n=De._getRequestStatus(e),r=this._conn.protocolErrorHandlers.HTTP[n];r&&r.call(this,n)}_hitError(e){this.errors++,F.warn("request errored, status: "+e+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()}_no_auth_received(e){F.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e?e=e.bind(this._conn):e=this._conn._connect_cb.bind(this._conn);const n=this._buildBody();this._requests.push(new Kn(n.tree(),this._onRequestStateChange.bind(this,e),Number(n.tree().getAttribute("rid")))),this._throttledRequestHandler()}_onDisconnectTimeout(){this._abortAllRequests()}_abortAllRequests(){for(;this._requests.length>0;){const e=this._requests.pop();e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}}}_onIdle(){const e=this._conn._data;if(this._conn.authenticated&&this._requests.length===0&&e.length===0&&!this._conn.disconnecting&&(F.debug("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(this._requests.length<2&&e.length>0){const n=this._buildBody();for(let r=0;r<e.length;r++)e[r]!==null&&(e[r]==="restart"?n.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":ae.BOSH}):n.cnode(e[r]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new Kn(n.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),Number(n.tree().getAttribute("rid")))),this._throttledRequestHandler()}if(this._requests.length>0){const n=this._requests[0].age();this._requests[0].dead!==null&&this._requests[0].timeDead()>Math.floor(qt*this.wait)&&this._throttledRequestHandler(),n>Math.floor(qt*this.wait)&&(F.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(qt*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}}static _getRequestStatus(e,n){let r;if(e.xhr.readyState===4)try{r=e.xhr.status}catch{F.error("Caught an error while retrieving a request's status, reqStatus: "+r)}return typeof r>"u"&&(r=typeof n=="number"?n:0),r}_onRequestStateChange(e,n){if(F.debug("request id "+n.id+"."+n.sends+" state changed to "+n.xhr.readyState),n.abort){n.abort=!1;return}if(n.xhr.readyState!==4)return;const r=De._getRequestStatus(n);if(this.lastResponseHeaders=n.xhr.getAllResponseHeaders(),this._conn.disconnecting&&r>=400){this._hitError(r),this._callProtocolErrorHandlers(n);return}const s=this._requests[0]===n,i=this._requests[1]===n,o=r>0&&r<500,l=n.sends>this._conn.maxRetries;(o||l)&&(this._removeRequest(n),F.debug("request id "+n.id+" should now be removed")),r===200?((i||s&&this._requests.length>0&&this._requests[0].age()>Math.floor(qt*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(n.rid+1),F.debug("request id "+n.id+"."+n.sends+" got 200"),e(n),this.errors=0):r===0||r>=400&&r<600||r>=12e3?(F.error("request id "+n.id+"."+n.sends+" error "+r+" happened"),this._hitError(r),this._callProtocolErrorHandlers(n),r>=400&&r<500&&(this._conn._changeConnectStatus(X.DISCONNECTING,null),this._conn._doDisconnect())):F.error("request id "+n.id+"."+n.sends+" error "+r+" happened"),!o&&!l?this._throttledRequestHandler():l&&!this._conn.connected&&this._conn._changeConnectStatus(X.CONNFAIL,"giving-up")}_processRequest(e){let n=this._requests[e];const r=De._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries){this._conn._onDisconnectTimeout();return}const s=n.age(),i=!isNaN(s)&&s>Math.floor(qt*this.wait),o=n.dead!==null&&n.timeDead()>Math.floor(Qo*this.wait),l=n.xhr.readyState===4&&(r<1||r>=500);if((i||o||l)&&(o&&F.error(`Request ${this._requests[e].id} timed out (secondary), restarting`),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[e]=new Kn(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[e]),n.xhr.readyState===0){var a,u;F.debug("request id "+n.id+"."+n.sends+" posting");try{const w=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),typeof n.xhr.setRequestHeader<"u"&&n.xhr.setRequestHeader("Content-Type",w),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0)}catch(w){F.error("XHR open failed: "+w.toString()),this._conn.connected||this._conn._changeConnectStatus(X.CONNFAIL,"bad-service"),this._conn.disconnect();return}const m=()=>{if(n.date=new Date().valueOf(),this._conn.options.customHeaders){const w=this._conn.options.customHeaders;for(const _ in w)Object.prototype.hasOwnProperty.call(w,_)&&n.xhr.setRequestHeader(_,w[_])}n.xhr.send(n.data)};if(n.sends>1){const w=Math.min(Math.floor(qt*this.wait),Math.pow(n.sends,3))*1e3;setTimeout(function(){m()},w)}else m();if(n.sends++,this.strip&&n.xmlData.nodeName==="body"&&n.xmlData.childNodes.length){var c,d;(c=(d=this._conn).xmlOutput)===null||c===void 0||c.call(d,n.xmlData.children[0])}else{var p,y;(p=(y=this._conn).xmlOutput)===null||p===void 0||p.call(y,n.xmlData)}(a=(u=this._conn).rawOutput)===null||a===void 0||a.call(u,n.data)}else F.debug("_processRequest: "+(e===0?"first":"second")+" request has readyState of "+n.xhr.readyState)}_removeRequest(e){F.debug("removing request");for(let n=this._requests.length-1;n>=0;n--)e===this._requests[n]&&this._requests.splice(n,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()}_restartRequest(e){const n=this._requests[e];n.dead===null&&(n.dead=new Date),this._processRequest(e)}_reqToData(e){try{return e.getResponse()}catch(n){if(n.message!=="parsererror")throw n;this._conn.disconnect("strophe-parsererror")}}_sendTerminate(e){F.debug("_sendTerminate was called");const n=this._buildBody().attrs({type:"terminate"}),r=e instanceof le?e.tree():e;e&&n.cnode(r);const s=new Kn(n.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),Number(n.tree().getAttribute("rid")));this._requests.push(s),this._throttledRequestHandler()}_send(){clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(()=>this._conn._onIdle(),100)}_sendRestart(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)}_throttledRequestHandler(){this._requests?F.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):F.debug("_throttledRequestHandler called with undefined requests"),!(!this._requests||this._requests.length===0)&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}}class hi{constructor(e,n,r,s,i,o,l){this.handler=e,this.ns=n,this.name=r,this.type=s,this.id=i,this.options=l||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBareFromJid?this.from=o?yn(o):null:this.from=o,this.user=!0}getNamespace(e){let n=e.getAttribute("xmlns");return n&&this.options.ignoreNamespaceFragment&&(n=n.split("#")[0]),n}namespaceMatch(e){let n=!1;return this.ns?(mu(e,null,r=>{this.getNamespace(r)===this.ns&&(n=!0)}),n||this.getNamespace(e)===this.ns):!0}isMatch(e){let n=e.getAttribute("from");this.options.matchBareFromJid&&(n=yn(n));const r=e.getAttribute("type");return!!(this.namespaceMatch(e)&&(!this.name||up(e,this.name))&&(!this.type||(Array.isArray(this.type)?this.type.indexOf(r)!==-1:r===this.type))&&(!this.id||e.getAttribute("id")===this.id)&&(!this.from||n===this.from))}run(e){let n=null;try{n=this.handler(e)}catch(r){throw cu(r),r}return n}toString(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}}class ra{constructor(e,n){this.period=e,this.handler=n,this.lastCalled=new Date().getTime(),this.user=!0}run(){return this.lastCalled=new Date().getTime(),this.handler()}reset(){this.lastCalled=new Date().getTime()}toString(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}}class Nt{constructor(e,n,r){this.mechname=e,this.isClientFirst=n,this.priority=r}test(e){return!0}onStart(e){this._connection=e}onChallenge(e,n){throw new Error("You should implement challenge handling!")}clientChallenge(e){if(!this.isClientFirst)throw new Error("clientChallenge should not be called if isClientFirst is false!");return this.onChallenge(e)}onFailure(){this._connection=null}onSuccess(){this._connection=null}}class cp extends Nt{constructor(e="ANONYMOUS",n=!1,r=20){super(e,n,r)}test(e){return e.authcid===null}}class dp extends Nt{constructor(e="EXTERNAL",n=!0,r=10){super(e,n,r)}onChallenge(e){return e.authcid===e.authzid?"":e.authzid}}class fp extends Nt{constructor(e="OAUTHBEARER",n=!0,r=40){super(e,n,r)}test(e){return e.pass!==null}onChallenge(e){let n="n,";return e.authcid!==null&&(n=n+"a="+e.authzid),n=n+",",n=n+"",n=n+"auth=Bearer ",n=n+e.pass,n=n+"",n=n+"",pe.utf16to8(n)}}class hp extends Nt{constructor(e="PLAIN",n=!0,r=50){super(e,n,r)}test(e){return e.authcid!==null}onChallenge(e){const{authcid:n,authzid:r,domain:s,pass:i}=e;if(!s)throw new Error("SASLPlain onChallenge: domain is not defined!");let o=r!==`${n}@${s}`?r:"";return o=o+"\0",o=o+n,o=o+"\0",o=o+i,pe.utf16to8(o)}}async function fv(t,e,n){const r=await crypto.subtle.importKey("raw",await crypto.subtle.digest(n,e),{name:"HMAC",hash:n},!1,["sign"]),s=await crypto.subtle.sign("HMAC",r,pe.stringToArrayBuf(t));return pe.xorArrayBuffers(e,s)}function hv(t){let e,n,r;const s=/([a-z]+)=([^,]+)(,|$)/;for(;t.match(s);){const i=t.match(s);switch(t=t.replace(i[0],""),i[1]){case"r":e=i[2];break;case"s":n=pe.base64ToArrayBuf(i[2]);break;case"i":r=parseInt(i[2],10);break;case"m":return}}if(isNaN(r)||r<4096){F.warn("Failing SCRAM authentication because server supplied iteration count < 4096.");return}if(!n){F.warn("Failing SCRAM authentication because server supplied incorrect salt.");return}return{nonce:e,salt:n,iter:r}}async function pv(t,e,n,r,s){const i=await crypto.subtle.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:r}},await crypto.subtle.importKey("raw",pe.stringToArrayBuf(t),"PBKDF2",!1,["deriveBits"]),s),o=await crypto.subtle.importKey("raw",i,{name:"HMAC",hash:r},!1,["sign"]);return{ck:await crypto.subtle.sign("HMAC",o,pe.stringToArrayBuf("Client Key")),sk:await crypto.subtle.sign("HMAC",o,pe.stringToArrayBuf("Server Key"))}}async function mv(t,e,n){const r=await crypto.subtle.importKey("raw",e,{name:"HMAC",hash:n},!1,["sign"]);return crypto.subtle.sign("HMAC",r,pe.stringToArrayBuf(t))}function gv(){const t=new Uint8Array(16);return pe.arrayBufToBase64(crypto.getRandomValues(t).buffer)}const _n={async scramResponse(t,e,n,r){const s=t._sasl_data.cnonce,i=hv(e);if(!i&&(i==null?void 0:i.nonce.slice(0,s.length))!==s)return F.warn("Failing SCRAM authentication because server supplied incorrect nonce."),t._sasl_data={},t._sasl_failure_cb();let o,l;const{pass:a}=t;if(typeof t.pass=="string"||t.pass instanceof String){const w=await pv(a,i.salt,i.iter,n,r);o=w.ck,l=w.sk}else if((a==null?void 0:a.name)===n&&(a==null?void 0:a.salt)===pe.arrayBufToBase64(i.salt)&&(a==null?void 0:a.iter)===i.iter){const{ck:w,sk:_}=a;o=pe.base64ToArrayBuf(w),l=pe.base64ToArrayBuf(_)}else return t._sasl_failure_cb();const u=t._sasl_data["client-first-message-bare"],c=e,d=`c=biws,r=${i.nonce}`,p=`${u},${c},${d}`,y=await fv(p,o,n),m=await mv(p,l,n);return t._sasl_data["server-signature"]=pe.arrayBufToBase64(m),t._sasl_data.keys={name:n,iter:i.iter,salt:pe.arrayBufToBase64(i.salt),ck:pe.arrayBufToBase64(o),sk:pe.arrayBufToBase64(l)},`${d},p=${pe.arrayBufToBase64(y)}`},clientChallenge(t,e){const n=e||gv(),r=`n=${t.authcid},r=${n}`;return t._sasl_data.cnonce=n,t._sasl_data["client-first-message-bare"]=r,`n,,${r}`}};class pp extends Nt{constructor(e="SCRAM-SHA-1",n=!0,r=60){super(e,n,r)}test(e){return e.authcid!==null}async onChallenge(e,n){return await _n.scramResponse(e,n,"SHA-1",160)}clientChallenge(e,n){return _n.clientChallenge(e,n)}}class mp extends Nt{constructor(e="SCRAM-SHA-256",n=!0,r=70){super(e,n,r)}test(e){return e.authcid!==null}async onChallenge(e,n){return await _n.scramResponse(e,n,"SHA-256",256)}clientChallenge(e,n){return _n.clientChallenge(e,n)}}class gp extends Nt{constructor(e="SCRAM-SHA-384",n=!0,r=71){super(e,n,r)}test(e){return e.authcid!==null}async onChallenge(e,n){return await _n.scramResponse(e,n,"SHA-384",384)}clientChallenge(e,n){return _n.clientChallenge(e,n)}}class vp extends Nt{constructor(e="SCRAM-SHA-512",n=!0,r=72){super(e,n,r)}test(e){return e.authcid!==null}async onChallenge(e,n){return await _n.scramResponse(e,n,"SHA-512",512)}clientChallenge(e,n){return _n.clientChallenge(e,n)}}class yp extends Nt{constructor(e="X-OAUTH2",n=!0,r=30){super(e,n,r)}test(e){return e.pass!==null}onChallenge(e){let n="\0";return e.authcid!==null&&(n=n+e.authzid),n=n+"\0",n=n+e.pass,pe.utf16to8(n)}}class Gc extends Error{constructor(e){super(e),this.name="StropheSessionError"}}class gu{constructor(e){this._conn=e,this.strip="wrapper";const n=e.service;if(n.indexOf("ws:")!==0&&n.indexOf("wss:")!==0){let r="";e.options.protocol==="ws"&&location.protocol!=="https:"?r+="ws":r+="wss",r+="://"+location.host,n.indexOf("/")!==0?r+=location.pathname+n:r+=n,e.service=r}}_buildStream(){return Fn("open",{xmlns:ae.FRAMING,to:this._conn.domain,version:"1.0"})}_checkStreamError(e,n){let r;if(e.getElementsByTagNameNS?r=e.getElementsByTagNameNS(ae.STREAM,"error"):r=e.getElementsByTagName("stream:error"),r.length===0)return!1;const s=r[0];let i="",o="";const l="urn:ietf:params:xml:ns:xmpp-streams";for(let u=0;u<s.childNodes.length;u++){const c=s.childNodes[u];if(c.nodeType===c.ELEMENT_NODE&&c.getAttribute("xmlns")!==l)break;c.nodeName==="text"?o=c.textContent:i=c.nodeName}let a="WebSocket stream error: ";return i?a+=i:a+="unknown",o&&(a+=" - "+o),F.error(a),this._conn._changeConnectStatus(n,i),this._conn._doDisconnect(),!0}_reset(){}_connect(){this._closeSocket(),this.socket=new ta(this._conn.service,"xmpp"),this.socket.onopen=()=>this._onOpen(),this.socket.onerror=e=>this._onError(e),this.socket.onclose=e=>this._onClose(e),this.socket.onmessage=e=>this._onInitialMessage(e)}_connect_cb(e){if(this._checkStreamError(e,X.CONNFAIL))return X.CONNFAIL}_handleStreamStart(e){let n=null;const r=e.getAttribute("xmlns");typeof r!="string"?n="Missing xmlns in <open />":r!==ae.FRAMING&&(n="Wrong xmlns in <open />: "+r);const s=e.getAttribute("version");return typeof s!="string"?n="Missing version in <open />":s!=="1.0"&&(n="Wrong version in <open />: "+s),n?(this._conn._changeConnectStatus(X.CONNFAIL,n),this._conn._doDisconnect(),!1):!0}_onInitialMessage(e){if(e.data.indexOf("<open ")===0||e.data.indexOf("<?xml")===0){const n=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(n==="")return;const r=new Zt().parseFromString(n,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(e.data),this._handleStreamStart(r)&&this._connect_cb(r)}else if(e.data.indexOf("<close ")===0){const n=new Zt().parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data);const r=n.getAttribute("see-other-uri");if(r){const s=this._conn.service;(s.indexOf("wss:")>=0&&r.indexOf("wss:")>=0||s.indexOf("ws:")>=0)&&(this._conn._changeConnectStatus(X.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=r,this._connect())}else this._conn._changeConnectStatus(X.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{this._replaceMessageHandler();const n=this._streamWrap(e.data),r=new Zt().parseFromString(n,"text/xml").documentElement;this._conn._connect_cb(r,null,e.data)}}_replaceMessageHandler(){this.socket.onmessage=e=>this._onMessage(e)}_disconnect(e){if(this.socket&&this.socket.readyState!==ta.CLOSED){e&&this._conn.send(e);const n=Fn("close",{xmlns:ae.FRAMING});this._conn.xmlOutput(n.tree());const r=le.serialize(n);this._conn.rawOutput(r);try{this.socket.send(r)}catch{F.warn("Couldn't send <close /> tag.")}}setTimeout(()=>this._conn._doDisconnect(),0)}_doDisconnect(){F.debug("WebSockets _doDisconnect was called"),this._closeSocket()}_streamWrap(e){return"<wrapper>"+e+"</wrapper>"}_closeSocket(){if(this.socket)try{this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close()}catch(e){F.debug(e.message)}this.socket=null}_emptyQueue(){return!0}_onClose(e){this._conn.connected&&!this._conn.disconnecting?(F.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&e.code===1006&&!this._conn.connected&&this.socket?(F.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(X.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):F.debug("Websocket closed")}_no_auth_received(e){F.error("Server did not offer a supported authentication mechanism"),this._conn._changeConnectStatus(X.CONNFAIL,St.NO_AUTH_MECH),e==null||e.call(this._conn),this._conn._doDisconnect()}_onDisconnectTimeout(){}_abortAllRequests(){}_onError(e){F.error("Websocket error "+JSON.stringify(e)),this._conn._changeConnectStatus(X.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()}_onIdle(){const e=this._conn._data;if(e.length>0&&!this._conn.paused){for(let n=0;n<e.length;n++)if(e[n]!==null){const r=e[n]==="restart"?this._buildStream().tree():e[n];if(r==="restart")throw new Error("Wrong type for stanza");const s=le.serialize(r);this._conn.xmlOutput(r),this._conn.rawOutput(s),this.socket.send(s)}this._conn._data=[]}}_onMessage(e){let n;const r='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(e.data===r){this._conn.rawInput(r),this._conn.xmlInput(e),this._conn.disconnecting||this._conn._doDisconnect();return}else if(e.data.search("<open ")===0){if(n=new Zt().parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(n))return}else{const s=this._streamWrap(e.data);n=new Zt().parseFromString(s,"text/xml").documentElement}if(!this._checkStreamError(n,X.ERROR)){if(this._conn.disconnecting&&n.firstElementChild.nodeName==="presence"&&n.firstElementChild.getAttribute("type")==="unavailable"){this._conn.xmlInput(n),this._conn.rawInput(le.serialize(n));return}this._conn._dataRecv(n,e.data)}}_onOpen(){F.debug("Websocket open");const e=this._buildStream();this._conn.xmlOutput(e.tree());const n=le.serialize(e);this._conn.rawOutput(n),this.socket.send(n)}_send(){this._conn.flush()}_sendRestart(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}}/**
 * @license MIT
 * @copyright JC Brand
 */class sa extends gu{constructor(e){super(e),this._conn=e,this.worker=new SharedWorker(this._conn.options.worker,"Strophe XMPP Connection"),this.worker.onerror=n=>{var r;(r=console)===null||r===void 0||r.error(n),F.error(`Shared Worker Error: ${n}`)}}_setSocket(){this.socket={send:e=>this.worker.port.postMessage(["send",e]),close:()=>this.worker.port.postMessage(["_closeSocket"]),onopen:()=>{},onerror:e=>this._onError(e),onclose:e=>this._onClose(e),onmessage:()=>{},readyState:null}}_connect(){this._setSocket(),this._messageHandler=e=>this._onInitialMessage(e),this.worker.port.start(),this.worker.port.onmessage=e=>this._onWorkerMessage(e),this.worker.port.postMessage(["_connect",this._conn.service,this._conn.jid])}_attach(e){this._setSocket(),this._messageHandler=n=>this._onMessage(n),this._conn.connect_callback=e,this.worker.port.start(),this.worker.port.onmessage=n=>this._onWorkerMessage(n),this.worker.port.postMessage(["_attach",this._conn.service])}_attachCallback(e,n){e===X.ATTACHED?(this._conn.jid=n,this._conn.authenticated=!0,this._conn.connected=!0,this._conn.restored=!0,this._conn._changeConnectStatus(X.ATTACHED)):e===X.ATTACHFAIL&&(this._conn.authenticated=!1,this._conn.connected=!1,this._conn.restored=!1,this._conn._changeConnectStatus(X.ATTACHFAIL))}_disconnect(e){e&&this._conn.send(e);const n=Fn("close",{xmlns:ae.FRAMING});this._conn.xmlOutput(n.tree());const r=le.serialize(n);this._conn.rawOutput(r),this.worker.port.postMessage(["send",r]),this._conn._doDisconnect()}_closeSocket(){this.socket.close()}_replaceMessageHandler(){this._messageHandler=e=>this._onMessage(e)}_onWorkerMessage(e){const{data:n}=e,r=n[0];if(r==="_onMessage")this._messageHandler(n[1]);else if(r in this)try{this[r].apply(this,e.data.slice(1))}catch(s){F.error(s)}else if(r==="log"){const s={debug:Se.DEBUG,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,fatal:Se.FATAL},i=n[1],o=n[2];F.log(s[i],o)}else F.error(`Found unhandled service worker message: ${n}`)}}const Wn={};let Yc=class Hr{constructor(e,n={}){this.service=e,this.options=n,this.setProtocol(),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_bind=!1,this.do_session=!1,this.mechanisms={},this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(()=>this._onIdle(),100),du(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),this.iqFallbackHandler=new hi(r=>this.send(Ze({type:"error",id:r.getAttribute("id")}).c("error",{type:"cancel"}).c("service-unavailable",{xmlns:ae.STANZAS})),null,"iq",["get","set"]);for(const r in Wn)if(Object.prototype.hasOwnProperty.call(Wn,r)){const s=function(){};s.prototype=Wn[r],this[r]=new s,this[r].init(this)}}static addConnectionPlugin(e,n){Wn[e]=n}setProtocol(){const e=this.options.protocol||"";this.options.worker?this._proto=new sa(this):this.service.indexOf("ws:")===0||this.service.indexOf("wss:")===0||e.indexOf("ws")===0?this._proto=new gu(this):this._proto=new De(this)}reset(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0}pause(){this.paused=!0}resume(){this.paused=!1}getUniqueId(e){const n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const s=Math.random()*16|0;return(r==="x"?s:s&3|8).toString(16)});return typeof e=="string"||typeof e=="number"?n+":"+e:n+""}addProtocolErrorHandler(e,n,r){this.protocolErrorHandlers[e][n]=r}connect(e,n,r,s,i,o,l,a=3e3){this.jid=e,this.authzid=yn(this.jid),this.authcid=l||ar(this.jid),this.pass=n,this.scram_keys=null,this.connect_callback=r,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.disconnection_timeout=a,this.domain=Bi(this.jid),this._changeConnectStatus(X.CONNECTING,null),this._proto._connect(s,i,o)}attach(e,n,r,s,i,o,l){if(this._proto instanceof De&&typeof e=="string")return this._proto._attach(e,n,r,s,i,o,l);if(this._proto instanceof sa&&typeof e=="function"){const a=e;return this._proto._attach(a)}else throw new Gc('The "attach" method is not available for your connection protocol')}restore(e,n,r,s,i){if(!(this._proto instanceof De)||!this._sessionCachingSupported())throw new Gc('The "restore" method can only be used with a BOSH connection.');this._sessionCachingSupported()&&this._proto._restore(e,n,r,s,i)}_sessionCachingSupported(){if(this._proto instanceof De){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch{return!1}return!0}return!1}xmlInput(e){}xmlOutput(e){}rawInput(e){}rawOutput(e){}nextValidRid(e){}send(e){if(e!==null){if(Array.isArray(e))e.forEach(n=>this._queueData(n instanceof le?n.tree():n));else{const n=e instanceof le?e.tree():e;this._queueData(n)}this._proto._send()}}flush(){clearTimeout(this._idleTimeout),this._onIdle()}sendPresence(e,n,r,s){let i=null;const o=e instanceof le?e.tree():e;let l=o.getAttribute("id");if(l||(l=this.getUniqueId("sendPresence"),o.setAttribute("id",l)),typeof n=="function"||typeof r=="function"){const a=this.addHandler(u=>{i&&this.deleteTimedHandler(i),u.getAttribute("type")==="error"?r==null||r(u):n&&n(u)},null,"presence",null,l);s&&(i=this.addTimedHandler(s,()=>(this.deleteHandler(a),r==null||r(null),!1)))}return this.send(o),l}sendIQ(e,n,r,s){let i=null;const o=e instanceof le?e.tree():e;let l=o.getAttribute("id");if(l||(l=this.getUniqueId("sendIQ"),o.setAttribute("id",l)),typeof n=="function"||typeof r=="function"){const a=this.addHandler(u=>{i&&this.deleteTimedHandler(i);const c=u.getAttribute("type");if(c==="result")n==null||n(u);else if(c==="error")r==null||r(u);else{const d=new Error(`Got bad IQ type of ${c}`);throw d.name="StropheError",d}},null,"iq",["error","result"],l);s&&(i=this.addTimedHandler(s,()=>(this.deleteHandler(a),r==null||r(null),!1)))}return this.send(o),l}_queueData(e){if(e===null||!e.tagName||!e.childNodes){const n=new Error("Cannot queue non-DOMElement.");throw n.name="StropheError",n}this._data.push(e)}_sendRestart(){this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(()=>this._onIdle(),100)}addTimedHandler(e,n){const r=new ra(e,n);return this.addTimeds.push(r),r}deleteTimedHandler(e){this.removeTimeds.push(e)}addHandler(e,n,r,s,i,o,l){const a=new hi(e,n,r,s,i,o,l);return this.addHandlers.push(a),a}deleteHandler(e){this.removeHandlers.push(e);const n=this.addHandlers.indexOf(e);n>=0&&this.addHandlers.splice(n,1)}registerSASLMechanisms(e){this.mechanisms={},(e||[cp,dp,fp,yp,hp,pp,mp,gp,vp]).forEach(n=>this.registerSASLMechanism(n))}registerSASLMechanism(e){const n=new e;this.mechanisms[n.mechname]=n}disconnect(e){if(this._changeConnectStatus(X.DISCONNECTING,e),e?F.info("Disconnect was called because: "+e):F.debug("Disconnect was called"),this.connected){let n=null;this.disconnecting=!0,this.authenticated&&(n=wt({xmlns:ae.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(this.disconnection_timeout,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(n)}else F.debug("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()}_changeConnectStatus(e,n,r){for(const s in Wn)if(Object.prototype.hasOwnProperty.call(Wn,s)){const i=this[s];if(i.statusChanged)try{i.statusChanged(e,n)}catch(o){F.error(`${s} plugin caused an exception changing status: ${o}`)}}if(this.connect_callback)try{this.connect_callback(e,n,r)}catch(s){cu(s),F.error(`User connection callback caused an exception: ${s}`)}}_doDisconnect(e){typeof this._idleTimeout=="number"&&clearTimeout(this._idleTimeout),this._disconnectTimeout!==null&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),F.debug("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(X.DISCONNECTED,e),this.connected=!1}_dataRecv(e,n){const r="_reqToData"in this._proto?this._proto._reqToData(e):e;if(r===null)return;for(this.xmlInput!==Hr.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==Hr.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(le.serialize(r)));this.removeHandlers.length>0;){const i=this.removeHandlers.pop(),o=this.handlers.indexOf(i);o>=0&&this.handlers.splice(o,1)}for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue()){this._doDisconnect();return}const s=r.getAttribute("type");if(s!==null&&s==="terminate"){if(this.disconnecting)return;let i=r.getAttribute("condition");const o=r.getElementsByTagName("conflict");i!==null?(i==="remote-stream-error"&&o.length>0&&(i="conflict"),this._changeConnectStatus(X.CONNFAIL,i)):this._changeConnectStatus(X.CONNFAIL,St.UNKNOWN_REASON),this._doDisconnect(i);return}mu(r,null,i=>{const o=[];this.handlers=this.handlers.reduce((l,a)=>{try{a.isMatch(i)&&(this.authenticated||!a.user)?(a.run(i)&&l.push(a),o.push(a)):l.push(a)}catch(u){F.warn("Removing Strophe handlers due to uncaught exception: "+u.message)}return l},[]),!o.length&&this.iqFallbackHandler.isMatch(i)&&this.iqFallbackHandler.run(i)})}_connect_cb(e,n,r){F.debug("_connect_cb was called"),this.connected=!0;let s;try{s="_reqToData"in this._proto?this._proto._reqToData(e):e}catch(a){if(a.name!==St.BAD_FORMAT)throw a;this._changeConnectStatus(X.CONNFAIL,St.BAD_FORMAT),this._doDisconnect(St.BAD_FORMAT)}if(!s||(this.xmlInput!==Hr.prototype.xmlInput&&(s.nodeName===this._proto.strip&&s.childNodes.length?this.xmlInput(s.childNodes[0]):this.xmlInput(s)),this.rawInput!==Hr.prototype.rawInput&&(r?this.rawInput(r):this.rawInput(le.serialize(s))),this._proto._connect_cb(s)===X.CONNFAIL))return;let o;if(s.getElementsByTagNameNS?o=s.getElementsByTagNameNS(ae.STREAM,"features").length>0:o=s.getElementsByTagName("stream:features").length>0||s.getElementsByTagName("features").length>0,!o){this._proto._no_auth_received(n);return}const l=Array.from(s.getElementsByTagName("mechanism")).map(a=>this.mechanisms[a.textContent]).filter(a=>a);if(l.length===0&&s.getElementsByTagName("auth").length===0){this._proto._no_auth_received(n);return}this.do_authentication!==!1&&this.authenticate(l)}sortMechanismsByPriority(e){for(let n=0;n<e.length-1;++n){let r=n;for(let s=n+1;s<e.length;++s)e[s].priority>e[r].priority&&(r=s);if(r!==n){const s=e[n];e[n]=e[r],e[r]=s}}return e}authenticate(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()}_attemptSASLAuth(e){e=this.sortMechanismsByPriority(e||[]);let n=!1;for(let r=0;r<e.length;++r){if(!e[r].test(this))continue;this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=e[r],this._sasl_mechanism.onStart(this);const s=Fn("auth",{xmlns:ae.SASL,mechanism:this._sasl_mechanism.mechname});if(this._sasl_mechanism.isClientFirst){const i=this._sasl_mechanism.clientChallenge(this);s.t(Vs.btoa(i))}this.send(s.tree()),n=!0;break}return n}async _sasl_challenge_cb(e){const n=Vs.atob(di(e)),r=await this._sasl_mechanism.onChallenge(this,n),s=Fn("response",{xmlns:ae.SASL});return r&&s.t(Vs.btoa(r)),this.send(s.tree()),!0}_attemptLegacyAuth(){ar(this.jid)===null?(this._changeConnectStatus(X.CONNFAIL,St.MISSING_JID_NODE),this.disconnect(St.MISSING_JID_NODE)):(this._changeConnectStatus(X.AUTHENTICATING,null),this._addSysHandler(this._onLegacyAuthIQResult.bind(this),null,null,null,"_auth_1"),this.send(Ze({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:ae.AUTH}).c("username",{}).t(ar(this.jid)).tree()))}_onLegacyAuthIQResult(){const e=typeof this.pass=="string"?this.pass:"",n=Ze({type:"set",id:"_auth_2"}).c("query",{xmlns:ae.AUTH}).c("username",{}).t(ar(this.jid)).up().c("password").t(e);return fi(this.jid)||(this.jid=yn(this.jid)+"/strophe"),n.up().c("resource",{}).t(fi(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(n.tree()),!1}_sasl_success_cb(e){if(this._sasl_data["server-signature"]){let s;const i=Vs.atob(di(e)),o=/([a-z]+)=([^,]+)(,|$)/,l=i.match(o);if(l[1]==="v"&&(s=l[2]),s!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}F.info("SASL authentication succeeded."),this._sasl_data.keys&&(this.scram_keys=this._sasl_data.keys),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);const n=[],r=(s,i)=>{for(;s.length;)this.deleteHandler(s.pop());return this._onStreamFeaturesAfterSASL(i),!1};return n.push(this._addSysHandler(s=>r(n,s),null,"stream:features",null,null)),n.push(this._addSysHandler(s=>r(n,s),ae.STREAM,"features",null,null)),this._sendRestart(),!1}_onStreamFeaturesAfterSASL(e){this.features=e;for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];r.nodeName==="bind"&&(this.do_bind=!0),r.nodeName==="session"&&(this.do_session=!0)}if(this.do_bind)this.options.explicitResourceBinding?this._changeConnectStatus(X.BINDREQUIRED,null):this.bind();else return this._changeConnectStatus(X.AUTHFAIL,null),!1;return!1}bind(){if(!this.do_bind){F.info('Connection.prototype.bind called but "do_bind" is false');return}this._addSysHandler(this._onResourceBindResultIQ.bind(this),null,null,null,"_bind_auth_2");const e=fi(this.jid);e?this.send(Ze({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:ae.BIND}).c("resource",{}).t(e).tree()):this.send(Ze({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:ae.BIND}).tree())}_onResourceBindResultIQ(e){if(e.getAttribute("type")==="error"){F.warn("Resource binding failed.");const r=e.getElementsByTagName("conflict");let s;return r.length>0&&(s=St.CONFLICT),this._changeConnectStatus(X.AUTHFAIL,s,e),!1}const n=e.getElementsByTagName("bind");if(n.length>0){const r=n[0].getElementsByTagName("jid");r.length>0&&(this.authenticated=!0,this.jid=di(r[0]),this.do_session?this._establishSession():this._changeConnectStatus(X.CONNECTED,null))}else return F.warn("Resource binding failed."),this._changeConnectStatus(X.AUTHFAIL,null,e),!1}_establishSession(){if(!this.do_session)throw new Error(`Connection.prototype._establishSession called but apparently ${ae.SESSION} wasn't advertised by the server`);this._addSysHandler(this._onSessionResultIQ.bind(this),null,null,null,"_session_auth_2"),this.send(Ze({type:"set",id:"_session_auth_2"}).c("session",{xmlns:ae.SESSION}).tree())}_onSessionResultIQ(e){if(e.getAttribute("type")==="result")this.authenticated=!0,this._changeConnectStatus(X.CONNECTED,null);else if(e.getAttribute("type")==="error")return this.authenticated=!1,F.warn("Session creation failed."),this._changeConnectStatus(X.AUTHFAIL,null,e),!1;return!1}_sasl_failure_cb(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(X.AUTHFAIL,null,e),!1}_auth2_cb(e){return e.getAttribute("type")==="result"?(this.authenticated=!0,this._changeConnectStatus(X.CONNECTED,null)):e.getAttribute("type")==="error"&&(this._changeConnectStatus(X.AUTHFAIL,null,e),this.disconnect("authentication failed")),!1}_addSysTimedHandler(e,n){const r=new ra(e,n);return r.user=!1,this.addTimeds.push(r),r}_addSysHandler(e,n,r,s,i){const o=new hi(e,n,r,s,i);return o.user=!1,this.addHandlers.push(o),o}_onDisconnectTimeout(){return F.debug("_onDisconnectTimeout was called"),this._changeConnectStatus(X.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1}_onIdle(){for(;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;){const r=this.removeTimeds.pop(),s=this.timedHandlers.indexOf(r);s>=0&&this.timedHandlers.splice(s,1)}const e=new Date().getTime(),n=[];for(let r=0;r<this.timedHandlers.length;r++){const s=this.timedHandlers[r];(this.authenticated||!s.user)&&(s.lastCalled+s.period-e<=0?s.run()&&n.push(s):n.push(s))}this.timedHandlers=n,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(()=>this._onIdle(),100))}};const ye={VERSION:"3.0.0",get TIMEOUT(){return De.getTimeoutMultplier()},set TIMEOUT(t){De.setTimeoutMultiplier(t)},get SECONDARY_TIMEOUT(){return De.getSecondaryTimeoutMultplier()},set SECONDARY_TIMEOUT(t){De.setSecondaryTimeoutMultiplier(t)},...cv,...F,shims:sv,Request:Kn,Bosh:De,Websocket:gu,WorkerWebsocket:sa,Connection:Yc,Handler:hi,SASLAnonymous:cp,SASLPlain:hp,SASLSHA1:pp,SASLSHA256:mp,SASLSHA384:gp,SASLSHA512:vp,SASLOAuthBearer:fp,SASLExternal:dp,SASLXOAuth2:yp,Builder:le,ElementType:nt,ErrorCondition:St,LogLevel:Se,NS:ae,SASLMechanism:Nt,Status:X,TimedHandler:ra,XHTML:{...gn,validTag:fu,validCSS:hu,validAttribute:ap},serialize(t){return le.serialize(t)},setLogLevel(t){F.setLogLevel(t)},addNamespace(t,e){ye.NS[t]=e},addConnectionPlugin(t,e){Yc.addConnectionPlugin(t,e)}};globalThis.$build=Fn;globalThis.$iq=Ze;globalThis.$msg=na;globalThis.$pres=wt;globalThis.Strophe=ye;const Ee={serverDomain:"alumchat.lol",serverPort:"7070",connectionResource:"proyecto",uploadFilesSubdomain:"httpfileupload"},_p=x.createContext(),wp=({children:t})=>{const[e,n]=x.useState({}),[r,s]=x.useState(null),[i,o]=x.useState([]),[l,a]=x.useState({}),[u,c]=x.useState({}),[d,p]=x.useState({}),[y,m]=x.useState({});x.useEffect(()=>{const _=new ye.Connection(`ws://${Ee.serverDomain}:${Ee.serverPort}/ws`);s(_)},[]);const w={connection:r,subscriptionRequests:i,rooms:u,messages:d,roster:y,userStates:l,userStatus:e,setRooms:c,setSubscriptionRequests:o,setUserStates:a,setMessages:p,setRoster:m,setUserStatus:n};return v.jsx(_p.Provider,{value:w,children:t})};wp.propTypes={children:H.node.isRequired};var co={},ht={},vu=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},Sp=function(e){let n;const r=new Promise(s=>{n=setTimeout(s,e)});return r.timeout=n,r};const vv=vu,yv=Sp;var _v=function(e,n){const r=yv(n);function s(){clearTimeout(r.timeout)}return Promise.race([e.finally(s),r.then(()=>{throw new vv})])};const wv=vu;var Sv=function(e,n,r="error",s){return new Promise((i,o)=>{let l;const a=()=>{clearTimeout(l),e.removeListener(n,c),e.removeListener(r,u)};function u(d){o(d),a()}function c(d){i(d),a()}e.once(n,c),r&&e.once(r,u),s&&(l=setTimeout(()=>{a(),o(new wv)},s))})},yu={exports:{}},mr=typeof Reflect=="object"?Reflect:null,Jc=mr&&typeof mr.apply=="function"?mr.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},pi;mr&&typeof mr.ownKeys=="function"?pi=mr.ownKeys:Object.getOwnPropertySymbols?pi=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:pi=function(e){return Object.getOwnPropertyNames(e)};function xv(t){console&&console.warn&&console.warn(t)}var xp=Number.isNaN||function(e){return e!==e};function te(){te.init.call(this)}yu.exports=te;yu.exports.once=Nv;te.EventEmitter=te;te.prototype._events=void 0;te.prototype._eventsCount=0;te.prototype._maxListeners=void 0;var Zc=10;function fo(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(te,"defaultMaxListeners",{enumerable:!0,get:function(){return Zc},set:function(t){if(typeof t!="number"||t<0||xp(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Zc=t}});te.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};te.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||xp(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Cp(t){return t._maxListeners===void 0?te.defaultMaxListeners:t._maxListeners}te.prototype.getMaxListeners=function(){return Cp(this)};te.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")Jc(a,this,n);else for(var u=a.length,c=Op(a,u),r=0;r<u;++r)Jc(c[r],this,n);return!0};function Ep(t,e,n,r){var s,i,o;if(fo(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=Cp(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,xv(l)}return t}te.prototype.addListener=function(e,n){return Ep(this,e,n,!1)};te.prototype.on=te.prototype.addListener;te.prototype.prependListener=function(e,n){return Ep(this,e,n,!0)};function Cv(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function kp(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=Cv.bind(r);return s.listener=n,r.wrapFn=s,s}te.prototype.once=function(e,n){return fo(n),this.on(e,kp(this,e,n)),this};te.prototype.prependOnceListener=function(e,n){return fo(n),this.prependListener(e,kp(this,e,n)),this};te.prototype.removeListener=function(e,n){var r,s,i,o,l;if(fo(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){l=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():Ev(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this};te.prototype.off=te.prototype.removeListener;te.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function Np(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?kv(s):Op(s,s.length)}te.prototype.listeners=function(e){return Np(this,e,!0)};te.prototype.rawListeners=function(e){return Np(this,e,!1)};te.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Tp.call(t,e)};te.prototype.listenerCount=Tp;function Tp(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}te.prototype.eventNames=function(){return this._eventsCount>0?pi(this._events):[]};function Op(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function Ev(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function kv(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Nv(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}Rp(t,e,i,{once:!0}),e!=="error"&&Tv(t,s,{once:!0})})}function Tv(t,e,n){typeof t.on=="function"&&Rp(t,"error",e,n)}function Rp(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ho=yu.exports,Ov=function(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})};const Rv=_v,Lv=Sp,Av=vu,Pv=Sv,jv=ho,Mv=Ov;ht.EventEmitter=jv;ht.timeout=Rv;ht.delay=Lv;ht.TimeoutError=Av;ht.promise=Pv;ht.Deferred=Mv;var Ht={exports:{}},Ts={};Ts.detect=function(e){return!(!e||e.replace(/\\20/g,"").replace(/\\22/g,"").replace(/\\26/g,"").replace(/\\27/g,"").replace(/\\2f/g,"").replace(/\\3a/g,"").replace(/\\3c/g,"").replace(/\\3e/g,"").replace(/\\40/g,"").replace(/\\5c/g,"").search(/[ "&'/:<>@\\]/g)===-1)};Ts.escape=function(e){return e===null?null:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/"/g,"\\22").replace(/&/g,"\\26").replace(/'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")};Ts.unescape=function(e){return e===null?null:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")};const Xo=Ts;let kt=class Lp{constructor(e,n,r){if(typeof n!="string"||!n)throw new TypeError("Invalid domain.");this.setDomain(n),this.setLocal(typeof e=="string"?e:""),this.setResource(typeof r=="string"?r:"")}[Symbol.toPrimitive](e){return e==="number"?NaN:this.toString()}toString(e){let n=this._domain;return this._local&&(n=this.getLocal(e)+"@"+n),this._resource&&(n=n+"/"+this._resource),n}bare(){return this._resource?new Lp(this._local,this._domain,null):this}equals(e){return this._local===e._local&&this._domain===e._domain&&this._resource===e._resource}setLocal(e,n){return n=n||Xo.detect(e),n&&(e=Xo.escape(e)),this._local=e&&e.toLowerCase(),this}getLocal(e=!1){let n=null;return n=e?Xo.unescape(this._local):this._local,n}setDomain(e){return this._domain=e.toLowerCase(),this}getDomain(){return this._domain}setResource(e){return this._resource=e,this}getResource(){return this._resource}};Object.defineProperty(kt.prototype,"local",{get:kt.prototype.getLocal,set:kt.prototype.setLocal});Object.defineProperty(kt.prototype,"domain",{get:kt.prototype.getDomain,set:kt.prototype.setDomain});Object.defineProperty(kt.prototype,"resource",{get:kt.prototype.getResource,set:kt.prototype.setResource});var Ap=kt;const Iv=Ap;var $v=function(e){let n,r;const s=e.indexOf("/");s!==-1&&(r=e.slice(s+1),e=e.slice(0,s));const i=e.indexOf("@");return i!==-1&&(n=e.slice(0,i),e=e.slice(i+1)),new Iv(n,e,r)};const Pp=Ap,_u=Ts,jp=$v;function Mp(...t){return!t[1]&&!t[2]?jp(...t):new Pp(...t)}Ht.exports=Mp.bind();Ht.exports.jid=Mp;Ht.exports.JID=Pp;Ht.exports.equal=function(e,n){return e.equals(n)};Ht.exports.detectEscape=_u.detect;Ht.exports.escapeLocal=_u.escape;Ht.exports.unescapeLocal=_u.unescape;Ht.exports.parse=jp;var po=Ht.exports,Ip={exports:{}},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const Dv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function $p(t){return Dv[t]}const ed={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"};function Dp(t){if(t[1]==="#"){const e=t[2]==="x"?parseInt(t.slice(3),16):parseInt(t.slice(2),10);if(e===9||e===10||e===13||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111)return String.fromCodePoint(e);throw new Error("Illegal XML character 0x"+e.toString(16))}if(ed[t])return ed[t]||t;throw new Error("Illegal XML entity "+t)}function Fv(t){return t.replace(/["&'<>]/g,$p)}function bv(t){let e="",n=-1,r=-1,s=0;for(;(n=t.indexOf("&",s))!==-1&&(r=t.indexOf(";",n+1))!==-1;)e=e+t.slice(s,n)+Dp(t.slice(n,r+1)),s=r+1;return s===0?t:(e=e+t.substring(s),e)}function zv(t){return t.replace(/[&<>]/g,$p)}function Hv(t){return t.replace(/&(amp|#38|lt|#60|gt|#62);/g,Dp)}Cn.escapeXML=Fv;Cn.escapeXMLText=zv;Cn.unescapeXML=bv;Cn.unescapeXMLText=Hv;var Ko=Cn;let ia=class oa{constructor(e,n){this.name=e,this.parent=null,this.children=[],this.attrs={},this.setAttrs(n)}is(e,n){return this.getName()===e&&(!n||this.getNS()===n)}getName(){const e=this.name.indexOf(":");return e>=0?this.name.slice(e+1):this.name}getNS(){const e=this.name.indexOf(":");if(e>=0){const n=this.name.slice(0,e);return this.findNS(n)}return this.findNS()}findNS(e){if(e){const n="xmlns:"+e;if(this.attrs[n])return this.attrs[n];if(this.parent)return this.parent.findNS(e)}else{if(this.attrs.xmlns)return this.attrs.xmlns;if(this.parent)return this.parent.findNS()}}getXmlns(){let e={};this.parent&&(e=this.parent.getXmlns());for(const n in this.attrs){const r=n.match("xmlns:?(.*)");this.attrs.hasOwnProperty(n)&&r&&(e[this.attrs[n]]=r[1])}return e}setAttrs(e){typeof e=="string"?this.attrs.xmlns=e:e&&Object.assign(this.attrs,e)}getAttr(e,n){if(!n)return this.attrs[e];const r=this.getXmlns();return r[n]?this.attrs[[r[n],e].join(":")]:null}getChild(e,n){return this.getChildren(e,n)[0]}getChildren(e,n){const r=[];for(const s of this.children)s.getName&&s.getName()===e&&(!n||s.getNS()===n)&&r.push(s);return r}getChildByAttr(e,n,r,s){return this.getChildrenByAttr(e,n,r,s)[0]}getChildrenByAttr(e,n,r,s){let i=[];for(const o of this.children)o.attrs&&o.attrs[e]===n&&(!r||o.getNS()===r)&&i.push(o),s&&o.getChildrenByAttr&&i.push(o.getChildrenByAttr(e,n,r,!0));return s&&(i=i.flat()),i}getChildrenByFilter(e,n){let r=[];for(const s of this.children)e(s)&&r.push(s),n&&s.getChildrenByFilter&&r.push(s.getChildrenByFilter(e,!0));return n&&(r=r.flat()),r}getText(){let e="";for(const n of this.children)(typeof n=="string"||typeof n=="number")&&(e+=n);return e}getChildText(e,n){const r=this.getChild(e,n);return r?r.getText():null}getChildElements(){return this.getChildrenByFilter(e=>e instanceof oa)}root(){return this.parent?this.parent.root():this}up(){return this.parent?this.parent:this}c(e,n){return this.cnode(new oa(e,n))}cnode(e){return this.children.push(e),typeof e=="object"&&(e.parent=this),e}append(...e){for(const n of e)this.children.push(n),typeof n=="object"&&(n.parent=this)}prepend(...e){for(const n of e)this.children.unshift(n),typeof n=="object"&&(n.parent=this)}t(e){return this.children.push(e),this}remove(e,n){const r=typeof e=="string"?s=>!(s.is&&s.is(e,n)):s=>s!==e;return this.children=this.children.filter(r),this}text(e){return e&&this.children.length===1?(this.children[0]=e,this):this.getText()}attr(e,n){return typeof n<"u"||n===null?(this.attrs||(this.attrs={}),this.attrs[e]=n,this):this.attrs[e]}toString(){let e="";return this.write(n=>{e+=n}),e}_addChildren(e){e(">");for(const n of this.children)n!=null&&(n.write?n.write(e):typeof n=="string"?e(Ko.escapeXMLText(n)):n.toString&&e(Ko.escapeXMLText(n.toString(10))));e("</"),e(this.name),e(">")}write(e){e("<"),e(this.name);for(const n in this.attrs){const r=this.attrs[n];r!=null&&(e(" "),e(n),e('="'),e(Ko.escapeXML(typeof r=="string"?r:r.toString(10))),e('"'))}this.children.length===0?e("/>"):this._addChildren(e)}};ia.prototype.tree=ia.prototype.root;var wu=ia,Bv=wu;function Fp(t,e){if(Array.isArray(e)){for(const n of e)Fp(t,n);return}e===""||e==null||e===!0||e===!1||t.cnode(e)}function Uv(t,e,...n){if(typeof e=="object"&&e!==null){delete e.__source,delete e.__self;for(const[s,i]of Object.entries(e))i==null?delete e[s]:e[s]=i.toString(10)}const r=new Bv(t,e);for(const s of n)Fp(r,s);return r}var qv=Uv,Vv=ho,td=Cn;const En=0,Go=1,nd=2,rd=3,Yo=4,sd=5,id=6,od=7,Jo=8,ld=9,Wv=10;class Qv extends Vv.EventEmitter{constructor(){super();let e=En,n,r,s,i,o,l,a,u,c=0,d;this._handleTagOpening=function(y,m,w){y?this.emit("endElement",m):(this.emit("startElement",m,w),l&&this.emit("endElement",m))},this.write=function(y){typeof y!="string"&&(y=y.toString());let m=0;n&&(y=n+y,m+=r?0:n.length,r=!1,n=null);function w(){if(typeof c=="number"){const _=y.slice(c,m);return c=void 0,_}}for(;m<y.length;m++){switch(e){case En:{const f=y.indexOf("<",m);f!==-1&&m!==f&&(m=f);break}case Jo:{const f=y.indexOf(u,m);f!==-1&&(m=f);break}case Go:{const f=y.indexOf("-->",m);f!==-1&&(m=f+2);break}case Wv:{const f=y.indexOf("]]>",m);f!==-1&&(m=f+2);break}}const _=y.charCodeAt(m);switch(e){case En:if(_===60){const f=w();f&&this.emit("text",td.unescapeXML(f)),e=rd,c=m+1,i={}}break;case ld:if(_===93)if(y.substr(m+1,2)==="]>"){const f=w();f&&this.emit("text",f),e=En}else y.length<m+2&&(r=!0,m=y.length);break;case rd:_===47&&c===m?(c=m+1,o=!0):_===33?y.substr(m+1,7)==="[CDATA["?(c=m+8,e=ld):y.length<m+8&&"[CDATA[".startsWith(y.slice(m+1))?(r=!0,m=y.length):(c=void 0,e=Go):_===63?(c=void 0,e=nd):(_<=32||_===47||_===62)&&(s=w(),m--,e=Yo);break;case Go:if(_===62){const f=y.charCodeAt(m-1),h=y.charCodeAt(m-2);(f===45&&h===45||f===93&&h===93)&&(e=En)}break;case nd:_===62&&y.charCodeAt(m-1)===63&&(e=En);break;case Yo:_===62?(this._handleTagOpening(o,s,i),s=void 0,i=void 0,o=void 0,l=void 0,e=En,c=m+1):_===47?l=!0:_>32&&(c=m,e=sd);break;case sd:(_<=32||_===61)&&(d=w(),m--,e=id);break;case id:_===61&&(e=od);break;case od:(_===34||_===39)&&(a=_,u=_===34?'"':"'",e=Jo,c=m+1);break;case Jo:if(_===a){const f=td.unescapeXML(w());i[d]=f,d=void 0,e=Yo}break}}typeof c=="number"&&c<=y.length&&(n=y.slice(c),c=0)}}end(e){e&&this.write(e),this.write=function(){}}}var Xv=Qv,bp=class extends Error{constructor(...e){super(...e),this.name="XMLError"}};const Kv=Xv,Gv=wu,Yv=ho,la=bp;let zp=class extends Yv{constructor(){super();const e=new Kv;this.root=null,this.cursor=null,e.on("startElement",this.onStartElement.bind(this)),e.on("endElement",this.onEndElement.bind(this)),e.on("text",this.onText.bind(this)),this.parser=e}onStartElement(e,n){const r=new Gv(e,n),{root:s,cursor:i}=this;s?i!==s&&i.append(r):(this.root=r,this.emit("start",r)),this.cursor=r}onEndElement(e){const{root:n,cursor:r}=this;if(e!==r.name){this.emit("error",new la(`${r.name} must be closed.`));return}if(r===n){this.emit("end",n);return}if(!r.parent){r.parent=n,this.emit("element",r),this.cursor=n;return}this.cursor=r.parent}onText(e){const{cursor:n}=this;if(!n){this.emit("error",new la(`${e} must be a child.`));return}n.t(e)}write(e){this.parser.write(e)}end(e){e&&this.parser.write(e)}};zp.XMLError=la;var Hp=zp;(function(t){const e=wu,n=qv,r=Hp,{escapeXML:s,unescapeXML:i,escapeXMLText:o,unescapeXMLText:l}=Cn,a=bp;function u(...c){return n(...c)}t.exports=u,Object.assign(t.exports,{Element:e,createElement:n,Parser:r,escapeXML:s,unescapeXML:i,escapeXMLText:o,unescapeXMLText:l,XMLError:a})})(Ip);var Tt=Ip.exports;let Jv=class extends Error{constructor(e,n,r){super(e+(n?` - ${n}`:"")),this.name="XMPPError",this.condition=e,this.text=n,this.application=r}static fromElement(e){const[n,r,s]=e.children;let i,o;r&&(r.is("text")?i=r:r&&(o=r),s&&(o=s));const l=new this(n.name,i?i.text():"",o);return l.element=e,l}};var Su=Jv;const Zv=Su;let ey=class extends Zv{constructor(...e){super(...e),this.name="StreamError"}};var ty=ey,Bp={exports:{}};(function(t){function e(s){let{port:i,hostname:o,protocol:l}=new URL(s);return o==="[::1]"&&(o="::1"),{port:i,hostname:o,protocol:l}}function n(s){const{port:i,hostname:o}=e(`http://${s}`);return{port:i,hostname:o}}function r(s){return s.includes("://")?e(s):n(s)}Object.assign(t.exports,{parseURI:e,parseHost:n,parseService:r})})(Bp);var ny=Bp.exports;const{EventEmitter:ry,promise:kn}=ht,sy=po,Zo=Tt,iy=ty,{parseHost:oy,parseService:ly}=ny,ay="urn:ietf:params:xml:ns:xmpp-streams",uy="http://etherx.jabber.org/streams";let mo=class extends ry{constructor(e={}){super(),this.jid=null,this.timeout=2e3,this.options=e,this.socketListeners=Object.create(null),this.parserListeners=Object.create(null),this.status="offline",this.socket=null,this.parser=null,this.root=null}_reset(){this.jid=null,this.status="offline",this._detachSocket(),this._detachParser()}async _streamError(e,n){try{await this.send(Zo("stream:error",{},[Zo(e,{xmlns:ay},n)]))}catch{}return this._end()}_onData(e){const n=e.toString("utf8");this.emit("input",n),this.parser.write(n)}_onParserError(e){this._streamError("bad-format"),this._detachParser(),this.emit("error",e)}_attachSocket(e){this.socket=e;const n=this.socketListeners;n.data=this._onData.bind(this),n.close=(r,s)=>{this._reset(),this._status("disconnect",{clean:!r,event:s})},n.connect=()=>{this._status("connect")},n.error=r=>{this.emit("error",r)},this.socket.on("close",n.close),this.socket.on("data",n.data),this.socket.on("error",n.error),this.socket.on("connect",n.connect)}_detachSocket(){const{socketListeners:e,socket:n}=this;for(const r of Object.getOwnPropertyNames(e))n.removeListener(r,e[r]),delete e[r];return this.socket=null,n}_onElement(e){const n=e.is("error",uy);n&&this._onStreamError(e),this.emit("element",e),this.emit(this.isStanza(e)?"stanza":"nonza",e),n&&this._end()}_onStreamError(e){const n=iy.fromElement(e);if(n.condition==="see-other-host")return this._onSeeOtherHost(n);this.emit("error",n)}async _onSeeOtherHost(e){const{protocol:n}=ly(this.options.service),r=e.element.getChildText("see-other-host"),{port:s}=oy(r);let i;i=s?`${n||"xmpp:"}//${r}`:(n?`${n}//`:"")+r;try{await kn(this,"disconnect");const{domain:o,lang:l}=this.options;await this.connect(i),await this.open({domain:o,lang:l})}catch(o){this.emit("error",o)}}_attachParser(e){this.parser=e;const n=this.parserListeners;n.element=this._onElement.bind(this),n.error=this._onParserError.bind(this),n.end=r=>{this._detachParser(),this._status("close",r)},n.start=r=>{this._status("open",r)},this.parser.on("error",n.error),this.parser.on("element",n.element),this.parser.on("end",n.end),this.parser.on("start",n.start)}_detachParser(){const e=this.parserListeners;for(const n of Object.getOwnPropertyNames(e))this.parser.removeListener(n,e[n]),delete e[n];this.parser=null}_jid(e){return this.jid=sy(e),this.jid}_status(e,...n){this.status=e,this.emit("status",e,...n),this.emit(e,...n)}async _end(){let e;try{e=await this.close()}catch{}try{await this.disconnect()}catch{}return e}async start(){if(this.status!=="offline")throw new Error("Connection is not offline");const{service:e,domain:n,lang:r}=this.options;await this.connect(e);const s=kn(this,"online");return await this.open({domain:n,lang:r}),s}async connect(e){this._status("connecting",e);const n=new this.Socket;return this._attachSocket(n),n.connect(this.socketParameters(e)),kn(n,"connect")}async disconnect(e=this.timeout){this.socket&&this._status("disconnecting"),this.socket.end(),await kn(this.socket,"close","error",e)}async open(e){this._status("opening"),typeof e=="string"&&(e={domain:e});const{domain:n,lang:r,timeout:s=this.timeout}=e,i=this.headerElement();return i.attrs.to=n,i.attrs["xml:lang"]=r,this.root=i,this._attachParser(new this.Parser),await this.write(this.header(i)),kn(this,"open","error",s)}async stop(){const e=await this._end();return this.status!=="offline"&&this._status("offline",e),e}async close(e=this.timeout){const n=this.footer(this.footerElement()),r=Promise.all([kn(this.parser,"end","error",e),this.write(n)]);this.parser&&this.socket&&this._status("closing");const[s]=await r;return this.root=null,s}async restart(){this._detachParser();const{domain:e,lang:n}=this.options;return this.open({domain:e,lang:n})}async send(e){e.parent=this.root,await this.write(e.toString()),this.emit("send",e)}sendReceive(e,n=this.timeout){return Promise.all([this.send(e),kn(this,"element","error",n)]).then(([,r])=>r)}write(e){return new Promise((n,r)=>{if(this.status==="closing"){r(new Error("Connection is closing"));return}this.socket.write(e,s=>{if(s)return r(s);this.emit("output",e),n()})})}isStanza(e){const{name:n}=e;return n==="iq"||n==="message"||n==="presence"}isNonza(e){return!this.isStanza(e)}header(e){return e.toString()}headerElement(){return new Zo.Element("",{version:"1.0",xmlns:this.NS})}footer(e){return e.toString()}footerElement(){}socketParameters(){}};mo.prototype.NS="";mo.prototype.Socket=null;mo.prototype.Parser=null;var Up=mo;const cy=Up;let qp=class extends cy{constructor(e){super(e),this.transports=[]}send(e,...n){return this.Transport.prototype.send.call(this,e,...n)}sendMany(...e){return this.Transport.prototype.sendMany.call(this,...e)}_findTransport(e){return this.transports.find(n=>{try{return n.prototype.socketParameters(e)!==void 0}catch{return!1}})}connect(e){const n=this._findTransport(e);if(!n)throw new Error("No compatible connection method found.");return this.Transport=n,this.Socket=n.prototype.Socket,this.Parser=n.prototype.Parser,super.connect(e)}socketParameters(...e){return this.Transport.prototype.socketParameters(...e)}header(...e){return this.Transport.prototype.header(...e)}headerElement(...e){return this.Transport.prototype.headerElement(...e)}footer(...e){return this.Transport.prototype.footer(...e)}footerElement(...e){return this.Transport.prototype.footerElement(...e)}};qp.prototype.NS="jabber:client";var dy=qp;const fy=dy,hy=Tt,py=po;co.Client=fy;co.xml=hy;co.jid=py;var my=function(e){return(e.split("://")[1]||e).split(":")[0].split("/")[0]};const{EventEmitter:gy}=ht;class vy extends gy{constructor(e){super(),this.delay=1e3,this.entity=e,this._timeout=null}scheduleReconnect(){const{entity:e,delay:n,_timeout:r}=this;clearTimeout(r),this._timeout=setTimeout(async()=>{if(e.status==="disconnect")try{await this.reconnect()}catch{}},n)}async reconnect(){const{entity:e}=this;this.emit("reconnecting");const{service:n,domain:r,lang:s}=e.options;await e.connect(n),await e.open({domain:r,lang:s}),this.emit("reconnected")}start(){const{entity:e}=this,n={};n.disconnect=()=>{this.scheduleReconnect()},this.listeners=n,e.on("disconnect",n.disconnect)}stop(){const{entity:e,listeners:n,_timeout:r}=this;e.removeListener("disconnect",n.disconnect),clearTimeout(r)}}var yy=function({entity:e}){const n=new vy(e);return n.start(),n};const _y={},wy=Object.freeze(Object.defineProperty({__proto__:null,default:_y},Symbol.toStringTag,{value:"Module"})),xu=mm(wy),Vp=xu,ad=window.WebSocket||Vp,Sy=ho,el="ECONNERROR";let xy=class extends Sy{constructor(){super(),this.listeners=Object.create(null)}connect(e){this.url=e,this._attachSocket(new ad(e,["xmpp"]))}_attachSocket(e){this.socket=e;const{listeners:n}=this;n.open=()=>{this.emit("connect")},n.message=({data:r})=>this.emit("data",r),n.error=r=>{const{url:s}=this;let{error:i}=r;i||(i=new Error(`WebSocket ${el} ${s}`),i.errno=el,i.code=el),i.event=r,i.url=s,this.emit("error",i)},n.close=r=>{this._detachSocket(),this.emit("close",!r.wasClean,r)},this.socket.addEventListener("open",n.open),this.socket.addEventListener("message",n.message),this.socket.addEventListener("error",n.error),this.socket.addEventListener("close",n.close)}_detachSocket(){delete this.url;const{socket:e,listeners:n}=this;for(const r of Object.getOwnPropertyNames(n))e.removeEventListener(r,n[r]),delete n[r];delete this.socket}end(){this.socket.close()}write(e,n){ad===Vp?this.socket.send(e,n):(this.socket.send(e),n())}};var Cy=xy;const{Parser:Ey,Element:ky,XMLError:Ny}=Tt;var Ty=class extends Ey{onStartElement(e,n){const r=new ky(e,n),{cursor:s}=this;s&&s.append(r),this.cursor=r}onEndElement(e){const{cursor:n}=this;if(e!==n.name){this.emit("error",new Ny(`${n.name} must be closed.`));return}if(n.parent){this.cursor=n.parent;return}n.is("open","urn:ietf:params:xml:ns:xmpp-framing")?this.emit("start",n):n.is("close","urn:ietf:params:xml:ns:xmpp-framing")?this.emit("end",n):this.emit("element",n),this.cursor=null}};const Oy=Cy,Ry=Up,Ly=Tt,Ay=Ty,ud="urn:ietf:params:xml:ns:xmpp-framing";let go=class extends Ry{send(e,...n){return!e.attrs.xmlns&&super.isStanza(e)&&(e.attrs.xmlns="jabber:client"),super.send(e,...n)}async sendMany(e){for(const n of e)await this.send(n)}footerElement(){return new Ly.Element("close",{xmlns:ud})}headerElement(){const e=super.headerElement();return e.name="open",e.attrs.xmlns=ud,e}socketParameters(e){return/^wss?:\/\//.test(e)?e:void 0}};go.prototype.Socket=Oy;go.prototype.NS="jabber:client";go.prototype.Parser=Ay;var Py=go;const jy=Py;var My=function({entity:e}){e.transports.push(jy)},Iy=$y;function $y(t){if(!Array.isArray(t))throw new TypeError("Middleware stack must be an array!");for(const e of t)if(typeof e!="function")throw new TypeError("Middleware must be composed of functions!");return function(e,n){let r=-1;return s(0);function s(i){if(i<=r)return Promise.reject(new Error("next() called multiple times"));r=i;let o=t[i];if(i===t.length&&(o=n),!o)return Promise.resolve();try{return Promise.resolve(o(e,s.bind(null,i+1)))}catch(l){return Promise.reject(l)}}}}var Wp=class{constructor(e,n){this.stanza=n,this.entity=e;const{name:r,attrs:s}=n,{type:i,id:o}=s;this.name=r,this.id=o||"",r==="message"?this.type=i||"normal":r==="presence"?this.type=i||"available":this.type=i||"",this.from=null,this.to=null,this.local="",this.domain="",this.resource=""}};const Dy=Wp,cd=po;var Fy=class extends Dy{constructor(e,n){super(e,n);const{jid:r,domain:s}=e,i=n.attrs.to||r&&r.toString(),o=n.attrs.from||s;i&&(this.to=new cd(i)),o&&(this.from=new cd(o),this.local=this.from.local,this.domain=this.from.domain,this.resource=this.from.resource)}};const by=Wp,dd=po;var zy=class extends by{constructor(e,n){super(e,n);const{jid:r,domain:s}=e,i=n.attrs.from||r&&r.toString(),o=n.attrs.to||s;i&&(this.from=new dd(i)),o&&(this.to=new dd(o),this.local=this.to.local,this.domain=this.to.domain,this.resource=this.to.resource)}};const Hy=Iy,By=Fy,Uy=zy;function fd(t,e,n){return r=>{const s=new n(t,r);return Hy(e)(s)}}function qy(t){return(e,n)=>{n().then(r=>r&&t.send(r)).catch(r=>t.emit("error",r))}}var Vy=function({entity:e}){const n=[qy(e)],r=[],s=fd(e,n,By),i=fd(e,r,Uy);return e.on("element",s),e.hookOutgoing=i,{use(o){return n.push(o),o},filter(o){return r.push(o),o}}},Wy=function(){return async({stanza:e,entity:n},r)=>{if(!e.is("features","http://etherx.jabber.org/streams"))return r();!await r()&&n.jid&&n._status("online",n.jid)}};const Qy=Wy;var Xy=function({middleware:e}){e.use(Qy());function n(r,s,i){return e.use((o,l)=>{const{stanza:a}=o;if(!a.is("features","http://etherx.jabber.org/streams"))return l();const u=a.getChild(r,s);return u?i(o,l,u):l()})}return{use:n}},Ky=function(){let e;for(;!e;)e=Math.random().toString(36).slice(2,12);return e};const Gy=Su;let Yy=class extends Gy{constructor(e,n,r,s){super(e,n,r),this.type=s,this.name="StanzaError"}static fromElement(e){const n=super.fromElement(e);return n.type=e.attrs.type,n}};var Jy=Yy;const Zy=Ky,e_=Jy,{Deferred:t_}=ht,n_=ht.timeout,r_=Tt;function s_({name:t,type:e}){return!(t!=="iq"||e!=="error"&&e!=="result")}class i_{constructor({entity:e,middleware:n}){this.handlers=new Map,this.entity=e,this.middleware=n}start(){this.middleware.use(this._route.bind(this))}_route({type:e,name:n,id:r,stanza:s},i){if(!s_({name:n,type:e}))return i();const o=this.handlers.get(r);if(!o)return i();e==="error"?o.reject(e_.fromElement(s.getChild("error"))):o.resolve(s),this.handlers.delete(r)}async request(e,n=30*1e3){e.attrs.id||(e.attrs.id=Zy());const r=new t_;this.handlers.set(e.attrs.id,r);try{await this.entity.send(e),await n_(r.promise,n)}catch(s){throw this.handlers.delete(e.attrs.id),s}return r.promise}_childRequest(e,n,r,...s){const{name:i,attrs:{xmlns:o}}=n;return this.request(r_("iq",{type:e,to:r},n),...s).then(l=>l.getChild(i,o))}async get(...e){return this._childRequest("get",...e)}async set(...e){return this._childRequest("set",...e)}}var o_=function(...e){const n=new i_(...e);return n.start(),n};const ws=Tt,l_="urn:ietf:params:xml:ns:xmpp-stanzas";function a_({name:t,type:e}){return!(t!=="iq"||e==="error"||e==="result")}function u_({type:t},e,n){return!(t!=="get"&&t!=="set"||e.length!==1||!n)}function Qp({stanza:t}){return ws("iq",{to:t.attrs.from,from:t.attrs.to,id:t.attrs.id})}function c_(t,e){const n=Qp(t);return n.attrs.type="result",e&&n.append(e),n}function hd(t,e,n){const r=Qp(t);return r.attrs.type="error",n&&r.append(n),r.append(e),r}function tl(t,e){return ws("error",{type:t},ws(e,l_))}function d_(t){return async function(n,r){if(!a_(n))return r();const{stanza:s}=n,i=s.getChildElements(),[o]=i;if(!u_(n,i,o))return hd(n,tl("modify","bad-request"),o);n.element=o;let l;try{l=await r()}catch(a){t.emit("error",a),l=tl("cancel","internal-server-error")}return l||(l=tl("cancel","service-unavailable")),l instanceof ws.Element&&l.is("error")?hd(n,l,o):c_(n,l instanceof ws.Element?l:void 0)}}function pd(t,e,n,r){return(s,i)=>s.type!==t|!s.element||!s.element.is(n,e)?i():r(s,i)}var f_=function({middleware:e,entity:n}){return e.use(d_(n)),{get(r,s,i){e.use(pd("get",r,s,i))},set(r,s,i){e.use(pd("set",r,s,i))}}},vo={exports:{}},Xp={};const h_=Hp;var p_=function(e){const n=new h_;let r=null,s=null;if(n.on("start",i=>{r=i}),n.on("element",i=>{r.append(i)}),n.on("error",i=>{s=i}),n.write(e),n.end(),s)throw s;return r},Kp={};function Ws(t){return t.startsWith("https")||t.startsWith("wss")}Kp.compare=function(e,n){let r;if(Ws(e.uri)&&!Ws(n.uri)?r=-1:!Ws(e.uri)&&Ws(n.uri)?r=1:r=0,r!==0)return r;let s;return e.method===n.method?s=0:e.method==="websocket"?s=-1:n.method==="websocket"?s=1:e.method==="xbosh"?s=-1:n.method==="xbosh"?s=1:e.method==="httppoll"?s=-1:n.method==="httppoll"?s=1:s=0,s!==0?s:0};var m_={};const g_=m_.fetch||xu,v_=p_,y_=Kp.compare;function __(t){return g_(`https://${t}/.well-known/host-meta`).then(e=>e.text()).then(e=>v_(e).getChildren("Link").filter(n=>["urn:xmpp:alt-connections:websocket","urn:xmpp:alt-connections:httppoll","urn:xmpp:alt-connections:xbosh"].includes(n.attrs.rel)).map(({attrs:n})=>({rel:n.rel,href:n.href,method:n.rel.split(":").pop(),uri:n.href})).sort(y_)).catch(()=>[])}Xp.resolve=__;const Ui=xu,Gp=Xp;vo.exports=function(...e){return Promise.all([Ui.resolve?Ui.resolve(...e):Promise.resolve([]),Gp.resolve(...e)]).then(([n,r])=>[...n,...r])};Ui.resolve&&(vo.exports.dns=Ui);vo.exports.http=Gp;var w_=vo.exports;const S_=w_,{promise:x_}=ht;async function C_(t){const e=await S_(t,{srv:[{service:"xmpps-client",protocol:"tcp"},{service:"xmpp-client",protocol:"tcp"}]});return[...new Set(e.map(n=>n.uri))]}function E_(t,e){return e.filter(n=>t._findTransport(n))}async function aa(t,e){if(e.length===0)throw new Error("Couldn't connect");const n=e.shift(),r=t._findTransport(n);if(!r)return aa(t,e);t._status("connecting",n);const s=r.prototype.socketParameters(n),i=new r.prototype.Socket;try{i.connect(s),await x_(i,"connect")}catch{return aa(t,e)}t._attachSocket(i),i.emit("connect"),t.Transport=r,t.Socket=r.prototype.Socket,t.Parser=r.prototype.Parser}var k_=function({entity:e}){const n=e.connect;e.connect=async function(s){if(!s||/:\/\//.test(s))return n.call(this,s);const i=E_(e,await C_(s));if(i.length===0)throw new Error("No compatible transport found.");try{await aa(e,i)}catch(o){throw e._reset(),e._status("disconnect"),o}}},Cu={},Yp={};Cu.encode=function(e){return Yp.btoa(e)};Cu.decode=function(e){return Yp.atob(e)};const N_=Su;let T_=class extends N_{constructor(...e){super(...e),this.name="SASLError"}};var O_=T_,ua={exports:{}},Qs={exports:{}},md;function R_(){return md||(md=1,function(t,e){(function(n,r){r(e,t)})(bn,function(n,r){function s(){this._mechs=[]}s.prototype.use=function(i,o){return o||(o=i,i=o.prototype.name),this._mechs.push({name:i,mech:o}),this},s.prototype.create=function(i){for(var o=0,l=this._mechs.length;o<l;o++)for(var a=0,u=i.length;a<u;a++){var c=this._mechs[o];if(c.name==i[a])return new c.mech}return null},r.exports=s})}(Qs,Qs.exports)),Qs.exports}(function(t,e){(function(n,r){r(e,t,R_())})(bn,function(n,r,s){n=r.exports=s,n.Factory=s})})(ua,ua.exports);var L_=ua.exports;const{encode:gd,decode:A_}=Cu,P_=O_,vd=Tt,j_=L_,Yr="urn:ietf:params:xml:ns:xmpp-sasl";function M_(t){return t.getChild("mechanisms",Yr).children.map(e=>e.text())}async function yd(t,e,n,r){const s=t.create([n]);if(!s)throw new Error("No compatible mechanism");const{domain:i}=e.options,o={username:null,password:null,server:i,host:i,realm:i,serviceType:"xmpp",serviceName:i,...r};return new Promise((l,a)=>{const u=c=>{if(c.attrs.xmlns===Yr){if(c.name==="challenge"){s.challenge(A_(c.text()));const d=s.response(o);e.send(vd("response",{xmlns:Yr,mechanism:s.name},typeof d=="string"?gd(d):""));return}c.name==="failure"?a(P_.fromElement(c)):c.name==="success"&&l(),e.removeListener("nonza",u)}};e.on("nonza",u),s.clientFirst&&e.send(vd("auth",{xmlns:Yr,mechanism:s.name},gd(s.response(o))))})}var I_=function({streamFeatures:e},n){const r=new j_;return e.use("mechanisms",Yr,async({stanza:s,entity:i})=>{const o=M_(s);let u=r._mechs.map(({name:c})=>c).filter(c=>o.includes(c))[0];typeof n=="function"?await n(c=>yd(r,i,u,c),u):(!n.username&&!n.password&&(u="ANONYMOUS"),await yd(r,i,u,n)),await i.restart()}),{use(...s){return r.use(...s)}}};const _d=Tt,Jp="urn:ietf:params:xml:ns:xmpp-bind";function $_(t){return _d("bind",{xmlns:Jp},t&&_d("resource",{},t))}async function wd(t,e,n){const s=(await e.set($_(n))).getChildText("jid");return t._jid(s),s}function D_({iqCaller:t},e){return async({entity:n},r)=>{await(typeof e=="function"?e(s=>wd(n,t,s)):wd(n,t,e)),r()}}var F_=function({streamFeatures:e,iqCaller:n},r){e.use("bind",Jp,D_({iqCaller:n},r))};const b_=Tt,Sd="urn:ietf:params:xml:ns:xmpp-session";var z_=function({iqCaller:e,streamFeatures:n}){n.use("session",Sd,async(r,s,i)=>(i.getChild("optional")||await e.set(b_("session",Sd)),s()))};const Eu=Tt,Mt="urn:xmpp:sm:3";async function H_(t,e,n){return t.send(Eu("enable",{xmlns:Mt,max:n,resume:e?"true":void 0})),new Promise((r,s)=>{function i(o){if(o.is("enabled",Mt))r(o);else if(o.is("failed",Mt))s(o);else return;t.removeListener("nonza",i)}t.on("nonza",i)})}async function B_(t,e,n){const r=await t.sendReceive(Eu("resume",{xmlns:Mt,h:e,previd:n}));if(!r.is("resumed",Mt))throw r;return r}var U_=function({streamFeatures:e,entity:n,middleware:r}){let s=null;const i={allowResume:!0,preferredMaximum:null,enabled:!1,id:"",outbound:0,inbound:0,max:null};return n.on("online",o=>{s=o,i.outbound=0,i.inbound=0}),n.on("offline",()=>{i.outbound=0,i.inbound=0,i.enabled=!1,i.id=""}),r.use((o,l)=>{const{stanza:a}=o;return["presence","message","iq"].includes(a.name)?i.inbound+=1:a.is("r",Mt)?n.send(Eu("a",{xmlns:Mt,h:i.inbound})).catch(()=>{}):a.is("a",Mt)&&(i.outbound=a.attrs.h),l()}),e.use("sm",Mt,async(o,l)=>{if(i.id)try{return await B_(n,i.inbound,i.id),i.enabled=!0,n.jid=s,n.status="online",!0}catch{i.id="",i.enabled=!1,i.outbound=0}await l();const a=H_(n,i.allowResume,i.preferredMaximum);i.outbound=0;try{const u=await a;i.enabled=!0,i.id=u.attrs.id,i.max=u.attrs.max}catch{i.enabled=!1}i.inbound=0}),i},ca={exports:{}},Xs={exports:{}},xd;function q_(){return xd||(xd=1,function(t,e){(function(n,r){r(e,t)})(bn,function(n,r){function s(){}s.prototype.name="ANONYMOUS",s.prototype.clientFirst=!0,s.prototype.response=function(i){return i.trace||""},s.prototype.challenge=function(i){},r.exports=s})}(Xs,Xs.exports)),Xs.exports}(function(t,e){(function(n,r){r(e,t,q_())})(bn,function(n,r,s){n=r.exports=s,n.Mechanism=s})})(ca,ca.exports);var V_=ca.exports;const W_=V_;var Q_=function(e){e.use(W_)},da={exports:{}},Ks={exports:{}},Cd;function X_(){return Cd||(Cd=1,function(t,e){(function(n,r){r(e,t)})(bn,function(n,r){function s(){}s.prototype.name="PLAIN",s.prototype.clientFirst=!0,s.prototype.response=function(i){var o="";return o+=i.authzid||"",o+="\0",o+=i.username,o+="\0",o+=i.password,o},s.prototype.challenge=function(i){return this},r.exports=s})}(Ks,Ks.exports)),Ks.exports}(function(t,e){(function(n,r){r(e,t,X_())})(bn,function(n,r,s){n=r.exports=s,n.Mechanism=s})})(da,da.exports);var K_=da.exports;const G_=K_;var Y_=function(e){e.use(G_)};const{xml:J_,jid:XS,Client:Z_}=co,e2=my,t2=yy,n2=My,r2=Vy,s2=Xy,i2=o_,o2=f_,l2=k_,a2=I_,u2=F_,c2=z_,d2=U_,f2=Q_,h2=Y_;function p2(t={}){const{resource:e,credentials:n,username:r,password:s,...i}=t,{domain:o,service:l}=i;!o&&l&&(i.domain=e2(l));const a=new Z_(i),u=t2({entity:a}),c=n2({entity:a}),d=r2({entity:a}),p=s2({middleware:d}),y=i2({middleware:d,entity:a}),m=o2({middleware:d,entity:a}),w=l2({entity:a}),_=a2({streamFeatures:p},n||{username:r,password:s}),f=d2({streamFeatures:p,entity:a,middleware:d}),h=u2({iqCaller:y,streamFeatures:p},e),g=c2({iqCaller:y,streamFeatures:p}),C=Object.entries({plain:h2,anonymous:f2}).map(([T,A])=>({[T]:A(_)}));return Object.assign(a,{entity:a,reconnect:u,websocket:c,middleware:d,streamFeatures:p,iqCaller:y,iqCallee:m,resolve:w,sasl:_,resourceBinding:h,sessionEstablishment:g,streamManagement:f,mechanisms:C})}var Gs=J_,m2=p2;const Bt=()=>{const{connection:t,subscriptionRequests:e,rooms:n,messages:r,roster:s,userStatus:i,userStates:o,setSubscriptionRequests:l,setUserStates:a,setRooms:u,setMessages:c,setRoster:d,setUserStatus:p}=x.useContext(_p),y={CONNECTING:ye.Status.CONNECTING,CONNECTED:ye.Status.CONNECTED,DISCONNECTED:ye.Status.DISCONNECTED,DISCONNECTING:ye.Status.DISCONNECTING,ATTACHED:ye.Status.ATTACHED,AUTHFAIL:ye.Status.AUTHFAIL,ERROR:ye.Status.ERROR,CONNFAIL:ye.Status.CONNFAIL,REDIRECT:ye.Status.REDIRECT},m={AVAILABLE:"chat",AWAY:"away",DND:"dnd",XA:"xa"},w=E=>{const R=E.getAttribute("from"),j=E.getElementsByTagName("body")[0].textContent,$=R.split("@")[0],M={user:$,message:j,date:new Date,viewed:!1,sent:!1};return c(V=>{if(!V[$]&&j==="")return V;if(!V[$])return{...V,[$]:[M]};if(j!=="")return{...V,[$]:[...V[$],M]};const K={...V};return K[$]=K[$].map(J=>J.sent?{...J,viewed:!0}:J),K}),!0},_=(E,R,j)=>{t.connect(`${E}@${Ee.serverDomain}/${Ee.connectionResource}`,R,$=>{$===y.CONNECTED&&(t.addHandler(w,null,"message","chat",null),t.addHandler(D,null,"presence","subscribe"),t.addHandler(b,null,"presence","subscribed"),t.addHandler(W,null,"presence"),t.addHandler(z,null,"message","groupchat"),t.send(wt({})),g(),Be({show:m.AVAILABLE})),j&&j($)})},f=()=>{t.send(wt({type:"unavailable"})),t.disconnect(),l([]),c({}),u({}),d({}),a({})},h=(E,R)=>{const j=na({to:`${E}@${Ee.serverDomain}/${Ee.connectionResource}`,from:t.jid,type:"chat"}).c("body").t(R);if(t.send(j),R==="")return;const $={user:E,message:R,date:new Date,viewed:!1,sent:!0};c(M=>M[E]?{...M,[E]:[...M[E],$]}:{...M,[E]:[$]})},g=()=>new Promise((E,R)=>{const j=Ze({type:"get",xmlns:"jabber:client"}).c("query",{xmlns:"jabber:iq:roster"});t.sendIQ(j,$=>{const M=$.getElementsByTagName("item"),V={};for(let K=0;K<M.length;K++){const ne=M[K].getAttribute("jid").split("@")[0],ve=M[K].getAttribute("name"),Ue=M[K].getAttribute("subscription");V[ne]={user:ne,alias:ve,subscription:Ue},N(ne)}d(V),E(V)},R)}),C=(E,R)=>new Promise((j,$)=>{const M=Ze({type:"set",xmlns:"jabber:client"}).c("query",{xmlns:"jabber:iq:roster"}).c("item",{jid:E,name:R,subscription:"both"});t.sendIQ(M,()=>{g().then(j())},$)}),T=(E,R)=>{const j=`${E}@${Ee.serverDomain}`;C(j,R).then(()=>{t.send(wt({to:j,type:"subscribe"}))})},A=(E,R)=>{const j=`${E}@${Ee.serverDomain}`;C(j,R).then(()=>{t.send(wt({to:j,type:"subscribed"})),t.send(wt({to:j,type:"subscribe"})),l($=>$.filter(M=>E!==M))})};function D(E){g().then(R=>{const j=ye.getBareJidFromJid(E.getAttribute("from")),$=j.split("@")[0];return R[$]?(t.send(wt({to:j,type:"subscribed"})),!0):(l(M=>[...M,$]),!0)})}const b=()=>{g(),setTimeout(g,3e3)},ee=E=>{const R=E.getAttribute("from"),j=E.getAttribute("type"),$=R.split("@")[0],M={available:j!=="unavailable"};a(V=>{const K=V[$]??{};return M.available&&(M.show=ye.getText(E.getElementsByTagName("show")[0])??K.show,M.status=ye.getText(E.getElementsByTagName("status")[0])??K.status),{...V,[$]:M}})},B=E=>{const R=E.getAttribute("from"),j=E.getAttribute("type"),M=ye.getBareJidFromJid(R).split("@")[0],V=ye.getResourceFromJid(R),K={available:j!=="unavailable",nickname:V};u(J=>{const ne={...J};return ne[M]?(ne[M][V],ne[M].users[V]=K):ne[M]={users:{[V]:K},messages:[]},ne})},W=E=>(E.getAttribute("from").includes("conference")?B(E):ee(E),!0),Be=({show:E,status:R})=>{const j=wt();E&&j.c("show").t(E),R&&!E?j.c("status").t(R):R&&j.up().c("status").t(R),t.send(j),p($=>{const M=E??$.show,V=R??$.status;return{show:M,status:V}})},mt=()=>new Promise((E,R)=>{const j=Ze({type:"set",to:t.domain}).c("query",{xmlns:"jabber:iq:register"}).c("remove");t.sendIQ(j,E,R)}),U=E=>{const R=Ze({to:`${E}@conference.${Ee.serverDomain}`,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}).c("x",{xmlns:"jabber:x:data",type:"submit"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t("http://jabber.org/protocol/muc#roomconfig");R.c("field",{var:"muc#room_persistent",type:"boolean"}).c("value").t("1"),t.sendIQ(R,null,null)},P=(E,R)=>new Promise((j,$)=>{const M=wt({from:t.jid,to:`${E}@conference.${Ee.serverDomain}/${R}`}).c("x",{xmlns:"http://jabber.org/protocol/muc"});t.send(M),t.addHandler(V=>{var J,ne;const K=V.getAttribute("type");if(!K||K==="available"){const ve=(J=V.getElementsByTagName("x"))==null?void 0:J[0],Ue=(ne=ve==null?void 0:ve.getElementsByTagName("item"))==null?void 0:ne[0];(Ue==null?void 0:Ue.getAttribute("role"))==="moderator"&&U(E),j()}else K==="error"&&$(V);return!1},null,"presence",null,null,`${E}@conference.${Ee.serverDomain}/${R}`)}),L=(E,R)=>{const j=na({to:`${E}@conference.${Ee.serverDomain}`,type:"groupchat"}).c("body").t(R);t.send(j)},z=E=>{const R=E.getAttribute("from"),$=ye.getBareJidFromJid(R).split("@")[0],M=E.getElementsByTagName("body")[0];if(M){const V=ye.getText(M),K=R.split("/"),J=K.length>1?K[1]:K[0];u(ne=>{const ve={...ne},Ue={nickname:J,message:V,date:new Date,viewed:!1};return ve[$]?ve[$].messages.push(Ue):ve[$]={users:{},messages:[Ue]},ve})}return!0},S=({filename:E,size:R,contentType:j})=>new Promise(($,M)=>{const V=Ze({type:"get",to:`${Ee.uploadFilesSubdomain}.${Ee.serverDomain}`}).c("request",{xmlns:"urn:xmpp:http:upload:0",filename:E,size:R,contentType:j});t.sendIQ(V,K=>{var ve;const J=K.querySelector("slot"),ne=(ve=J==null?void 0:J.querySelector("put"))==null?void 0:ve.getAttribute("url");ne||M("No se pudo obtener la URL de subida."),$(ne)},K=>M(K))}),N=E=>c(R=>R[E]?R:{...R,[E]:[]});return{status:y,connection:t,subscriptionRequests:e,presenceShowValues:m,rooms:n,messages:r,roster:s,userStates:o,userStatus:i,connect:_,disconnect:f,sendMessage:h,getRoster:g,addContact:T,acceptSubscription:A,changeState:Be,deleteAccount:mt,joinRoom:P,sendRoomMessage:L,getUploadUrl:S,createEmptyChat:N,sendViewedConfirmation:E=>{!r[E]||!r[E].some(j=>!j.viewed&&!j.sent)||(h(E,""),c(j=>{const $={...j};return $[E]=$[E].map(M=>M.sent?M:{...M,viewed:!0}),$}))},markAllRoomMessagesAsViewed:E=>{n[E]&&u(R=>{const j={...R};return j[E].messages=j[E].messages.map($=>({...$,viewed:!0})),j})},register:(E,R)=>new Promise((j,$)=>{try{const M=m2({service:`ws://${Ee.serverDomain}:${Ee.serverPort}/ws`,resource:Ee.connectionResource});M.on("error",V=>{V.code==="ECONERROR"&&(M.stop(),M.removeAllListeners(),$({status:!1,message:"Error en el cliente XMPP"}))}),M.on("open",()=>{const V=Gs("iq",{type:"set",to:"alumchat.lol",id:"register"},Gs("query",{xmlns:"jabber:iq:register"},Gs("username",{},E),Gs("password",{},R)));M.send(V)}),M.on("stanza",async V=>{if(V.is("iq")&&V.getAttr("id")==="register"){if(await M.stop(),M.removeAllListeners(),V.getAttr("type")==="result")j({status:!0,message:"Registro exitoso."});else if(V.getAttr("type")==="error"){const K=V.getChild("error");K!=null&&K.getChild("conflict")&&$({status:!1,message:"El nombre de usuario no está disponible."}),$({status:!1,message:"Ocurrió un error en tu registro. Intenta nuevamente."})}}}),M.start().catch(V=>{V.toString().includes("invalid-mechanism")||$({status:!1,message:"Ocurrió un error en la conexión."})})}catch{$({status:!1,message:"Ocurrió un error en el registro."})}})}};function qn(){const{session:t,setSession:e}=x.useContext(Bh),{connection:n,status:r,connect:s,disconnect:i}=Bt(),o=async({user:a,password:u,callback:c})=>{const d={user:a,password:u};s(a,u,p=>{p===r.CONNECTED&&(window.localStorage.setItem("session",JSON.stringify(d)),e(d)),c&&(p===r.CONNECTED||p===r.AUTHFAIL)&&c(p===r.CONNECTED)})},l=()=>{window.localStorage.removeItem("session"),e(null),i()};return x.useEffect(()=>{if(!n||t)return;const a=window.localStorage.getItem("session");if(!a){e(null);return}const u=JSON.parse(a);o({user:u.user,password:u.password,callback:c=>{c||(window.localStorage.removeItem("session"),e(null))}})},[n]),{session:t,login:o,logout:l}}const g2="_loginPage_1vcwh_1",v2="_title_1vcwh_21",y2="_loginBody_1vcwh_39",_2="_instructions_1vcwh_53",w2="_input_1vcwh_63",S2="_button_1vcwh_85",x2="_registerLink_1vcwh_119",C2="_spinner_1vcwh_147",E2="_error_1vcwh_155",vt={loginPage:g2,title:v2,loginBody:y2,instructions:_2,input:w2,button:S2,registerLink:x2,spinner:C2,error:E2};function ku({className:t}){return v.jsx("div",{className:`spinner ${t}`,children:v.jsx("div",{})})}ku.propTypes={className:H.string};function Zp(){const{login:t}=qn(),[e,n]=x.useState(null),[r,s]=x.useState(!1),[i,o]=x.useState(""),[l,a]=x.useState(""),u=c=>{if(c.preventDefault(),i.trim().length===0||l.trim().length===0){n("Debes completar los campos para iniciar sesión.");return}s(!0),n(!1),t({user:i,password:l,callback:d=>{d||n("Usuario o contraseña incorrectos."),s(!1)}})};return v.jsxs("div",{className:vt.loginPage,children:[v.jsx("h1",{className:vt.title,children:"XMPP CHAT"}),v.jsxs("form",{className:vt.loginBody,onSubmit:u,children:[v.jsx("p",{className:vt.instructions,children:"Ingresa tus credenciales para iniciar sesión"}),v.jsx("input",{type:"text",className:vt.input,placeholder:"Usuario",value:i,onChange:c=>o(c.target.value)}),v.jsx("input",{type:"password",className:vt.input,placeholder:"Contraseña",value:l,onChange:c=>a(c.target.value)}),r?v.jsx(ku,{className:vt.spinner}):v.jsx("button",{type:"submit",className:vt.button,children:"Iniciar sesión"}),e&&v.jsx("p",{className:vt.error,children:e})]}),v.jsx(tp,{to:"/register",className:vt.registerLink,children:"Registrarse"})]})}Zp.propTypes={};const k2="_chatPage_17ecg_1",N2={chatPage:k2},T2="_navBar_9tgn0_1",O2="_icon_9tgn0_51",R2="_groupChatIcon_9tgn0_63",Qn={navBar:T2,icon:O2,groupChatIcon:R2};var em={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ed=rn.createContext&&rn.createContext(em),L2=["attr","size","title"];function A2(t,e){if(t==null)return{};var n=P2(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P2(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qi(){return qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qi.apply(this,arguments)}function kd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kd(Object(n),!0).forEach(function(r){j2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j2(t,e,n){return e=M2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M2(t){var e=I2(t,"string");return typeof e=="symbol"?e:e+""}function I2(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tm(t){return t&&t.map((e,n)=>rn.createElement(e.tag,Vi({key:n},e.attr),tm(e.child)))}function pt(t){return e=>rn.createElement($2,qi({attr:Vi({},t.attr)},e),tm(t.child))}function $2(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=A2(t,L2),l=s||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),rn.createElement("svg",qi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:a,style:Vi(Vi({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&rn.createElement("title",null,i),t.children)};return Ed!==void 0?rn.createElement(Ed.Consumer,null,n=>e(n)):e(em)}function D2(t){return pt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M60.44 389.17c0 .07 0 .2-.08.38.03-.12.05-.25.08-.38zM439.9 405.6a26.77 26.77 0 0 1-9.59-2l-56.78-20.13-.42-.17a9.88 9.88 0 0 0-3.91-.76 10.32 10.32 0 0 0-3.62.66c-1.38.52-13.81 5.19-26.85 8.77-7.07 1.94-31.68 8.27-51.43 8.27-50.48 0-97.68-19.4-132.89-54.63A183.38 183.38 0 0 1 100.3 215.1a175.9 175.9 0 0 1 4.06-37.58c8.79-40.62 32.07-77.57 65.55-104A194.76 194.76 0 0 1 290.3 32c52.21 0 100.86 20 137 56.18 34.16 34.27 52.88 79.33 52.73 126.87a177.86 177.86 0 0 1-30.3 99.15l-.19.28-.74 1c-.17.23-.34.45-.5.68l-.15.27a21.63 21.63 0 0 0-1.08 2.09l15.74 55.94a26.42 26.42 0 0 1 1.12 7.11 24 24 0 0 1-24.03 24.03z"},child:[]},{tag:"path",attr:{d:"M299.87 425.39a15.74 15.74 0 0 0-10.29-8.1c-5.78-1.53-12.52-1.27-17.67-1.65a201.78 201.78 0 0 1-128.82-58.75A199.21 199.21 0 0 1 86.4 244.16C85 234.42 85 232 85 232a16 16 0 0 0-28-10.58s-7.88 8.58-11.6 17.19a162.09 162.09 0 0 0 11 150.06C59 393 59 395 58.42 399.5c-2.73 14.11-7.51 39-10 51.91a24 24 0 0 0 8 22.92l.46.39A24.34 24.34 0 0 0 72 480a23.42 23.42 0 0 0 9-1.79l53.51-20.65a8.05 8.05 0 0 1 5.72 0c21.07 7.84 43 12 63.78 12a176 176 0 0 0 74.91-16.66c5.46-2.56 14-5.34 19-11.12a15 15 0 0 0 1.95-16.39z"},child:[]}]})(t)}function F2(t){return pt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M464 128 240 384l-96-96m0 96-96-96m320-160L232 284"},child:[]}]})(t)}function b2(t){return pt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function z2(t){return pt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M335.69 272h-161v-32h161V92a12 12 0 0 0-12-12h-280a12 12 0 0 0-12 12v328a12 12 0 0 0 12 12h280a12 12 0 0 0 12-12zm83.37 0-64 64 22.63 22.63L480.31 256 377.69 153.37 355.06 176l64 64h-83.37v32h83.37z"},child:[]}]})(t)}function H2(t){return pt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}const B2="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20class=''%20enable-background='new%200%200%20512%20512'%20version='1.1'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='%23fff'%3e%3cpath%20class=''%20d='m203.54%20288.6c0%2030.076%2024.47%2054.545%2054.545%2054.545%2030.067%200%2054.536-24.47%2054.536-54.545%200-30.076-24.47-54.536-54.536-54.536-30.075%200-54.545%2024.46-54.545%2054.536zm156.52%2085.951c21.988%200%2039.875-17.887%2039.875-39.866%200-21.987-17.887-39.875-39.875-39.875-21.987%200-39.875%2017.887-39.875%2039.875%201e-3%2021.979%2017.888%2039.866%2039.875%2039.866z'%20data-original='%23000000'/%3e%3cpath%20class=''%20d='m407.11%20395.43c-3.858-10.738-10.905-16.186-20.965-16.186h-57.725a13.99%2013.99%200%200%200-5.16%200.995l-4.119-9.929c-1.813-5.197-7.112-19.198-24.246-19.198h-77.565c-11.872%200-20.072%206.582-24.386%2019.57l-3.616%209.817a13.855%2013.855%200%200%200-5.755-1.255h-57.725c-10.059%200-17.107%205.448-20.965%2016.186l-25.223%2060.812a13.956%2013.956%200%200%200%201.283%2013.09%2013.981%2013.981%200%200%200%2011.603%206.201h326.9c4.658%200%209.009-2.333%2011.603-6.201a13.956%2013.956%200%200%200%201.283-13.09z'%20data-original='%23000000'/%3e%3cpath%20class=''%20d='M112.064%20334.68c0%2021.978%2017.887%2039.866%2039.875%2039.866%2021.987%200%2039.875-17.887%2039.875-39.866%200-21.987-17.887-39.875-39.875-39.875-21.988.001-39.875%2017.888-39.875%2039.875zM193.812%20159.683h35.422l13.955%2032.428A13.941%2013.941%200%200%200%20256%20200.543h.149a13.949%2013.949%200%200%200%2012.774-8.711l13.034-32.149h36.231c13.183%200%2023.903-10.719%2023.903-23.903V60.382c0-13.183-10.719-23.912-23.903-23.912H193.812c-13.183%200-23.903%2010.729-23.903%2023.912v75.399c.001%2013.183%2010.72%2023.902%2023.903%2023.902zM117.261%20285.248a13.989%2013.989%200%200%200%208.953%203.254c1.962%200%203.942-.418%205.792-1.264a13.921%2013.921%200%200%200%208.153-12.439l.251-14.243h10.998c11.723%200%2021.262-9.539%2021.262-21.262v-65.116c0-11.724-9.539-21.262-21.262-21.262H60.066c-11.723%200-21.262%209.539-21.262%2021.262v65.116c0%2011.723%209.539%2021.262%2021.262%2021.262h27.696zM451.934%20149.01h-91.343c-11.723%200-21.262%209.539-21.262%2021.262v65.107c0%2011.723%209.539%2021.262%2021.262%2021.262h10.998l.251%2014.252a13.943%2013.943%200%200%200%2013.946%2013.694c3.207%200%206.387-1.106%208.953-3.245l29.499-24.702h27.696c11.723%200%2021.262-9.539%2021.262-21.262v-65.107c.001-11.722-9.538-21.261-21.262-21.261z'%20data-original='%23000000'/%3e%3c/g%3e%3c/svg%3e";function U2(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 2C3.44772 2 3 2.44772 3 3V5H5V7H2V9H5V11H2V13H5V15H2V17H5V19H3V21C3 21.5523 3.44772 22 4 22H20C20.5523 22 21 21.5523 21 21V3C21 2.44772 20.5523 2 20 2H4ZM9 16C9 14.3431 10.3431 13 12 13C13.6569 13 15 14.3431 15 16H9ZM12 12C10.8954 12 10 11.1046 10 10C10 8.89543 10.8954 8 12 8C13.1046 8 14 8.89543 14 10C14 11.1046 13.1046 12 12 12Z"},child:[]}]})(t)}function q2(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"},child:[]}]})(t)}function V2(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"},child:[]}]})(t)}function nm({onChatOptionClick:t,onGroupChatOptionClick:e,onContactsOptionClick:n,onExitOptionClick:r,onProfileOptionClick:s}){return v.jsx("nav",{className:Qn.navBar,children:v.jsxs("ul",{children:[v.jsxs("li",{onClick:t,onKeyUp:t,tabIndex:0,role:"button",children:[v.jsx(D2,{className:Qn.icon}),v.jsx("span",{children:"Chats activos"})]}),v.jsxs("li",{onClick:e,onKeyUp:e,tabIndex:1,role:"button",children:[v.jsx("img",{src:B2,alt:"Group chat",className:Qn.groupChatIcon}),v.jsx("span",{children:"Grupos"})]}),v.jsxs("li",{onClick:n,onKeyUp:n,tabIndex:2,role:"button",children:[v.jsx(U2,{className:Qn.icon}),v.jsx("span",{children:"Contactos"})]}),v.jsxs("li",{onClick:s,onKeyUp:s,tabIndex:3,role:"button",children:[v.jsx(q2,{className:Qn.icon}),v.jsx("span",{children:"Perfil"})]}),v.jsxs("li",{onClick:r,onKeyUp:r,tabIndex:4,role:"button",children:[v.jsx(z2,{className:Qn.icon}),v.jsx("span",{children:"Salir"})]})]})})}nm.propTypes={onChatOptionClick:H.func.isRequired,onGroupChatOptionClick:H.func.isRequired,onContactsOptionClick:H.func.isRequired,onExitOptionClick:H.func.isRequired,onProfileOptionClick:H.func.isRequired};const W2="_addButton_1l84c_1",Q2={addButton:W2};function X2(t){return pt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function K2(t){return pt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function yo({onClick:t,title:e="Nuevo"}){return v.jsx("button",{type:"button",className:Q2.addButton,onClick:t,title:e,children:v.jsx(X2,{})})}yo.propTypes={onClick:H.func,title:H.string};const G2="_chatItem_milw8_1",Y2="_selected_milw8_27",J2="_photo_milw8_35",Z2="_name_milw8_47",ew="_secondaryUser_milw8_67",tw="_date_milw8_79",nw="_lastMessage_milw8_95",rw="_notViewed_milw8_115",Vt={chatItem:G2,selected:Y2,photo:J2,name:Z2,secondaryUser:ew,date:tw,lastMessage:nw,notViewed:rw},sw="_userPicture_hq3os_1",iw="_nameCircle_hq3os_19",ow="_showStatus_hq3os_49",lw="_active_hq3os_71",Ys={userPicture:sw,nameCircle:iw,showStatus:ow,active:lw};function Nu({name:t="Usuario",className:e=null,onClick:n=null,showStatus:r=!1,isActive:s=!1}){return v.jsx("div",{className:`${Ys.userPicture} ${e}`,title:t,onClick:n,children:v.jsx("div",{className:`${Ys.nameCircle} ${r?Ys.showStatus:""} ${s?Ys.active:""}`,children:t?t.charAt(0):"X"})})}Nu.propTypes={className:H.string,name:H.string.isRequired,onClick:H.func,isActive:H.bool,showStatus:H.bool};var rm={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bn,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",o="second",l="minute",a="hour",u="day",c="week",d="month",p="quarter",y="year",m="date",w="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var P=["th","st","nd","rd"],L=U%100;return"["+U+(P[(L-20)%10]||P[L]||P[0])+"]"}},g=function(U,P,L){var z=String(U);return!z||z.length>=P?U:""+Array(P+1-z.length).join(L)+U},C={s:g,z:function(U){var P=-U.utcOffset(),L=Math.abs(P),z=Math.floor(L/60),S=L%60;return(P<=0?"+":"-")+g(z,2,"0")+":"+g(S,2,"0")},m:function U(P,L){if(P.date()<L.date())return-U(L,P);var z=12*(L.year()-P.year())+(L.month()-P.month()),S=P.clone().add(z,d),N=L-S<0,O=P.clone().add(z+(N?-1:1),d);return+(-(z+(L-S)/(N?S-O:O-S))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y,w:c,d:u,D:m,h:a,m:l,s:o,ms:i,Q:p}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},T="en",A={};A[T]=h;var D="$isDayjsObject",b=function(U){return U instanceof Be||!(!U||!U[D])},ee=function U(P,L,z){var S;if(!P)return T;if(typeof P=="string"){var N=P.toLowerCase();A[N]&&(S=N),L&&(A[N]=L,S=N);var O=P.split("-");if(!S&&O.length>1)return U(O[0])}else{var q=P.name;A[q]=P,S=q}return!z&&S&&(T=S),S||!z&&T},B=function(U,P){if(b(U))return U.clone();var L=typeof P=="object"?P:{};return L.date=U,L.args=arguments,new Be(L)},W=C;W.l=ee,W.i=b,W.w=function(U,P){return B(U,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var Be=function(){function U(L){this.$L=ee(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[D]=!0}var P=U.prototype;return P.parse=function(L){this.$d=function(z){var S=z.date,N=z.utc;if(S===null)return new Date(NaN);if(W.u(S))return new Date;if(S instanceof Date)return new Date(S);if(typeof S=="string"&&!/Z$/i.test(S)){var O=S.match(_);if(O){var q=O[2]-1||0,Q=(O[7]||"0").substring(0,3);return N?new Date(Date.UTC(O[1],q,O[3]||1,O[4]||0,O[5]||0,O[6]||0,Q)):new Date(O[1],q,O[3]||1,O[4]||0,O[5]||0,O[6]||0,Q)}}return new Date(S)}(L),this.init()},P.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},P.$utils=function(){return W},P.isValid=function(){return this.$d.toString()!==w},P.isSame=function(L,z){var S=B(L);return this.startOf(z)<=S&&S<=this.endOf(z)},P.isAfter=function(L,z){return B(L)<this.startOf(z)},P.isBefore=function(L,z){return this.endOf(z)<B(L)},P.$g=function(L,z,S){return W.u(L)?this[z]:this.set(S,L)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(L,z){var S=this,N=!!W.u(z)||z,O=W.p(L),q=function(K,J){var ne=W.w(S.$u?Date.UTC(S.$y,J,K):new Date(S.$y,J,K),S);return N?ne:ne.endOf(u)},Q=function(K,J){return W.w(S.toDate()[K].apply(S.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(J)),S)},E=this.$W,R=this.$M,j=this.$D,$="set"+(this.$u?"UTC":"");switch(O){case y:return N?q(1,0):q(31,11);case d:return N?q(1,R):q(0,R+1);case c:var M=this.$locale().weekStart||0,V=(E<M?E+7:E)-M;return q(N?j-V:j+(6-V),R);case u:case m:return Q($+"Hours",0);case a:return Q($+"Minutes",1);case l:return Q($+"Seconds",2);case o:return Q($+"Milliseconds",3);default:return this.clone()}},P.endOf=function(L){return this.startOf(L,!1)},P.$set=function(L,z){var S,N=W.p(L),O="set"+(this.$u?"UTC":""),q=(S={},S[u]=O+"Date",S[m]=O+"Date",S[d]=O+"Month",S[y]=O+"FullYear",S[a]=O+"Hours",S[l]=O+"Minutes",S[o]=O+"Seconds",S[i]=O+"Milliseconds",S)[N],Q=N===u?this.$D+(z-this.$W):z;if(N===d||N===y){var E=this.clone().set(m,1);E.$d[q](Q),E.init(),this.$d=E.set(m,Math.min(this.$D,E.daysInMonth())).$d}else q&&this.$d[q](Q);return this.init(),this},P.set=function(L,z){return this.clone().$set(L,z)},P.get=function(L){return this[W.p(L)]()},P.add=function(L,z){var S,N=this;L=Number(L);var O=W.p(z),q=function(R){var j=B(N);return W.w(j.date(j.date()+Math.round(R*L)),N)};if(O===d)return this.set(d,this.$M+L);if(O===y)return this.set(y,this.$y+L);if(O===u)return q(1);if(O===c)return q(7);var Q=(S={},S[l]=r,S[a]=s,S[o]=n,S)[O]||1,E=this.$d.getTime()+L*Q;return W.w(E,this)},P.subtract=function(L,z){return this.add(-1*L,z)},P.format=function(L){var z=this,S=this.$locale();if(!this.isValid())return S.invalidDate||w;var N=L||"YYYY-MM-DDTHH:mm:ssZ",O=W.z(this),q=this.$H,Q=this.$m,E=this.$M,R=S.weekdays,j=S.months,$=S.meridiem,M=function(J,ne,ve,Ue){return J&&(J[ne]||J(z,N))||ve[ne].slice(0,Ue)},V=function(J){return W.s(q%12||12,J,"0")},K=$||function(J,ne,ve){var Ue=J<12?"AM":"PM";return ve?Ue.toLowerCase():Ue};return N.replace(f,function(J,ne){return ne||function(ve){switch(ve){case"YY":return String(z.$y).slice(-2);case"YYYY":return W.s(z.$y,4,"0");case"M":return E+1;case"MM":return W.s(E+1,2,"0");case"MMM":return M(S.monthsShort,E,j,3);case"MMMM":return M(j,E);case"D":return z.$D;case"DD":return W.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return M(S.weekdaysMin,z.$W,R,2);case"ddd":return M(S.weekdaysShort,z.$W,R,3);case"dddd":return R[z.$W];case"H":return String(q);case"HH":return W.s(q,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return K(q,Q,!0);case"A":return K(q,Q,!1);case"m":return String(Q);case"mm":return W.s(Q,2,"0");case"s":return String(z.$s);case"ss":return W.s(z.$s,2,"0");case"SSS":return W.s(z.$ms,3,"0");case"Z":return O}return null}(J)||O.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(L,z,S){var N,O=this,q=W.p(z),Q=B(L),E=(Q.utcOffset()-this.utcOffset())*r,R=this-Q,j=function(){return W.m(O,Q)};switch(q){case y:N=j()/12;break;case d:N=j();break;case p:N=j()/3;break;case c:N=(R-E)/6048e5;break;case u:N=(R-E)/864e5;break;case a:N=R/s;break;case l:N=R/r;break;case o:N=R/n;break;default:N=R}return S?N:W.a(N)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return A[this.$L]},P.locale=function(L,z){if(!L)return this.$L;var S=this.clone(),N=ee(L,z,!0);return N&&(S.$L=N),S},P.clone=function(){return W.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},U}(),mt=Be.prototype;return B.prototype=mt,[["$ms",i],["$s",o],["$m",l],["$H",a],["$W",u],["$M",d],["$y",y],["$D",m]].forEach(function(U){mt[U[1]]=function(P){return this.$g(P,U[0],U[1])}}),B.extend=function(U,P){return U.$i||(U(P,Be,B),U.$i=!0),B},B.locale=ee,B.isDayjs=b,B.unix=function(U){return B(1e3*U)},B.en=A[T],B.Ls=A,B.p={},B})})(rm);var aw=rm.exports;const fa=ha(aw);function Tu({user:t="",alias:e=null,message:n="",date:r="",active:s=!1,notViewed:i=0,selected:o=!1,showStatus:l=!1,onClick:a=null}){const u=d=>{if(!d)return"";const p=fa(),y=fa(d);return y.isSame(p,"day")?y.format("HH:mm"):y.format("DD-MM-YYYY")},c=()=>{a&&a(t)};return v.jsxs("li",{className:`${Vt.chatItem} ${o?Vt.selected:""}`,onClick:c,tabIndex:0,onKeyUp:c,role:"button",children:[v.jsx(Nu,{name:t,className:Vt.photo,isActive:s,showStatus:l}),v.jsx("span",{className:Vt.name,children:e?v.jsxs(v.Fragment,{children:[e," ",v.jsx("span",{className:Vt.secondaryUser,children:`(${t})`})]}):t}),v.jsx("span",{className:Vt.date,children:u(r)}),v.jsx("p",{className:Vt.lastMessage,children:n}),i>0&&v.jsx("span",{className:Vt.notViewed,children:i})]})}Tu.propTypes={user:H.string.isRequired,alias:H.string,message:H.string,date:H.string,active:H.bool,notViewed:H.number,selected:H.bool,showStatus:H.bool,onClick:H.func};const uw="_chatsList_18r96_1",cw="_title_18r96_39",dw="_listContainer_18r96_49",nl={chatsList:uw,title:cw,listContainer:dw},Er="_scrollbarGray_58cau_1";function sm({onSelectedUserChange:t=null}){const{messages:e,roster:n,userStates:r,createEmptyChat:s}=Bt(),[i,o]=x.useState(null);x.useEffect(()=>{t&&t(i)},[i]);const l=()=>{const a=prompt("Ingrese el nombre del usuario:");a&&s(a)};return v.jsxs("div",{className:nl.chatsList,children:[v.jsxs("header",{children:[v.jsx("h1",{className:nl.title,children:"Chats"}),v.jsx(yo,{onClick:l})]}),v.jsx("ul",{className:`${nl.listContainer} ${Er}`,children:Object.keys(e).sort((a,u)=>{const c=e[a].slice(-1)[0],d=e[u].slice(-1)[0];return c===void 0&&d===void 0?a<u?-1:1:c===void 0||d===void 0?-1:d.date-c.date}).map(a=>{var y,m,w,_;const u=e[a].slice(-1)[0],c=e[a].filter(f=>!f.viewed&&!f.sent).length,d=((y=r[a])==null?void 0:y.available)===!0,p=((m=n[a])==null?void 0:m.subscription)==="both";return v.jsx(Tu,{user:a,alias:(w=n[a])==null?void 0:w.alias,message:u==null?void 0:u.message,notViewed:c,active:d,showStatus:p,date:(_=u==null?void 0:u.date)==null?void 0:_.toString(),onClick:o,selected:i===a},a)})})]})}sm.propTypes={onSelectedUserChange:H.func};const fw="_inputContainer_1vhus_3",hw="_button_1vhus_27",pw="_input_1vhus_3",mw="_inputFile_1vhus_83",gw="_fileTypeIcon_1vhus_91",vw="_fileName_1vhus_103",yw="_cancelFileButton_1vhus_111",Wt={inputContainer:fw,button:hw,input:pw,inputFile:mw,fileTypeIcon:gw,fileName:vw,cancelFileButton:yw};function Ou({onSend:t=null,onFileSend:e=null,onKeyUp:n=null}){const[r,s]=x.useState(""),[i,o]=x.useState(),l=x.useRef(null),a=x.useRef(null),u=()=>{i&&(e&&e(i),p()),r.trim().length>0&&(t&&t(r),s(""))},c=y=>{y.key==="Enter"&&u(),n&&n(y)},d=y=>{o(y.target.files[0]),s("")},p=()=>{o(null),s(""),l.current.value=""};return x.useEffect(()=>{a.current.focus()},[]),v.jsxs("div",{className:Wt.inputContainer,children:[v.jsxs("label",{className:Wt.button,onClick:u,htmlFor:"fileInput",children:[v.jsx(V2,{}),v.jsx("input",{id:"fileInput",type:"file",className:Wt.inputFile,onChange:d,ref:l})]}),!i&&v.jsx(v.Fragment,{children:v.jsx("input",{type:"text",className:Wt.input,placeholder:"Escribe un mensaje",value:r,onChange:y=>s(y.target.value),onKeyUp:c,ref:a})}),i&&v.jsxs(v.Fragment,{children:[v.jsx("button",{className:`${Wt.button} ${Wt.cancelFileButton}`,onClick:p,children:v.jsx(b2,{})}),v.jsx("span",{className:Wt.fileName,children:i.name})]}),v.jsx("button",{className:Wt.button,onClick:u,children:v.jsx(H2,{})})]})}Ou.propTypes={onSend:H.func,onKeyUp:H.func,onFileSend:H.func};const _w="_message_kk564_1",ww="_left_kk564_15",Sw="_right_kk564_23",xw="_bubble_kk564_31",Cw="_triangle_kk564_69",Ew="_messageText_kk564_111",kw="_imageMessage_kk564_123",Nw="_user_kk564_131",Tw="_messageFooter_kk564_141",Ow="_time_kk564_157",Rw="_checkIcon_kk564_167",Lw="_viewed_kk564_175",Ge={message:_w,left:ww,right:Sw,bubble:xw,triangle:Cw,messageText:Ew,imageMessage:kw,user:Nw,messageFooter:Tw,time:Ow,checkIcon:Rw,viewed:Lw},rl=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/.test(t);function Ru({left:t=!0,user:e=null,message:n,date:r,showTriangle:s=!1,viewed:i=!1,refObj:o=null,showViewed:l=!0}){const a=fa(r).format("HH:mm"),u=c=>/(httpfileupload.*\.(jpg|jpeg|png|gif|bmp|webp|svg))$/i.test(c);return v.jsx("li",{className:`${Ge.message} ${t?Ge.left:Ge.right} ${s?Ge.triangle:""}`,ref:o,children:v.jsxs("div",{className:Ge.bubble,children:[e&&t&&v.jsx("span",{className:Ge.user,children:e}),v.jsx("span",{className:Ge.messageText,children:rl(n)&&u(n)?v.jsx("img",{src:n,alt:n,className:Ge.imageMessage}):rl(n)&&n.includes("httpfileupload")?v.jsxs(v.Fragment,{children:[v.jsx("span",{children:"Documento adjunto: "}),v.jsx("a",{href:n,target:"_blank",rel:"noreferrer",children:n})]}):rl(n)?v.jsx("a",{href:n,target:"_blank",rel:"noreferrer",children:n}):n}),v.jsxs("div",{className:Ge.messageFooter,children:[v.jsx("span",{className:Ge.time,children:a}),!t&&l&&v.jsx(F2,{className:`${Ge.checkIcon} ${i?Ge.viewed:""}`})]})]})})}Ru.propTypes={left:H.bool,user:H.string,message:H.string.isRequired,date:H.string.isRequired,showTriangle:H.bool,viewed:H.bool,refObj:H.any,showViewed:H.bool};const Aw="_chat_1x3c0_1",Pw="_chatHeader_1x3c0_13",jw="_title_1x3c0_31",Mw="_chatsContainer_1x3c0_49",Iw="_messagesList_1x3c0_63",Xn={chat:Aw,chatHeader:Pw,title:jw,chatsContainer:Mw,messagesList:Iw},$w="_addButton_je9s0_1",Dw={addButton:$w};function Fw(t){return pt({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 14c1.381 0 2.631-.56 3.536-1.465.904-.904 1.464-2.154 1.464-3.535s-.56-2.631-1.464-3.535c-.905-.905-2.155-1.465-3.536-1.465s-2.631.56-3.536 1.465c-.904.904-1.464 2.154-1.464 3.535s.56 2.631 1.464 3.535c.905.905 2.155 1.465 3.536 1.465zM9 21c3.518 0 6-1 6-2 0-2-2.354-4-6-4-3.75 0-6 2-6 4 0 1 2.25 2 6 2zM21 12h-2v-2c0-.553-.447-1-1-1s-1 .447-1 1v2h-2c-.553 0-1 .447-1 1s.447 1 1 1h2v2c0 .553.447 1 1 1s1-.447 1-1v-2h2c.553 0 1-.447 1-1s-.447-1-1-1z"},child:[]}]})(t)}function im({onClick:t,className:e="",title:n="Añadir a contactos"}){return v.jsx("button",{type:"button",className:`${Dw.addButton} ${e}`,onClick:t,title:n,children:v.jsx(Fw,{})})}im.propTypes={onClick:H.func,title:H.string,className:H.string};function om({user:t}){const{messages:e,roster:n,subscriptionRequests:r,sendMessage:s,sendViewedConfirmation:i,addContact:o,getUploadUrl:l}=Bt(),[a,u]=x.useState(!0),c=x.useRef(),d=x.useRef(),p=()=>{c.current.scrollTop=c.current.scrollHeight},y=_=>{p(),s(t,_)},m=_=>{_&&l({filename:_.name,size:_.size,contentType:_.type}).then(f=>{fetch(f,{method:"PUT",body:_}).then(()=>{y(f)})})},w=()=>{if(confirm(`¿Desea agregar a ${t} a tus contactos?`)){const f=prompt("Ingrese un apodo para este contacto");f&&o(t,f)}};return x.useEffect(()=>{i(t)},[]),x.useEffect(()=>{if(c.current&&d.current){a&&(p(),u(!1));const{scrollTop:_,clientHeight:f}=c.current,h=d.current.offsetTop;_+f>=h-100&&p()}},[e[t]]),v.jsxs("div",{className:Xn.chat,onClick:()=>i(t),onFocus:()=>i(t),children:[v.jsxs("header",{className:Xn.chatHeader,children:[v.jsx("h3",{className:Xn.title,children:t}),!n[t]&&!r.includes(t)&&v.jsx(im,{className:Xn.addContactButton,title:`Agregar a ${t} a contactos`,onClick:w})]}),v.jsx("div",{className:`${Xn.chatsContainer} ${Er}`,ref:c,children:v.jsx("ul",{className:Xn.messagesList,children:e[t]&&e[t].map((_,f)=>{const h=f===0||e[t][f-1].sent!==_.sent;return v.jsx(Ru,{left:!_.sent,message:_.message,date:_.date.toString(),viewed:_.viewed,showTriangle:h,refObj:f===e[t].length-1?d:null},f)})})}),v.jsx(Ou,{onSend:y,onKeyUp:()=>i(t),onFileSend:m})]})}om.propTypes={user:H.string.isRequired};const bw="_contactsList_12sth_1",zw="_title_12sth_39",Hw="_subtitle_12sth_49",Bw="_listsContainer_12sth_65",Uw="_list_12sth_65",Qt={contactsList:bw,title:zw,subtitle:Hw,listsContainer:Bw,list:Uw},qw="_contactItem_564n2_1",Vw="_selected_564n2_25",Ww="_data_564n2_33",Qw="_photo_564n2_47",Xw="_name_564n2_61",Kw="_secondaryUser_564n2_81",Gw="_show_564n2_93",Yw="_status_564n2_93",Jw="_acceptButton_564n2_113",Ot={contactItem:qw,selected:Vw,data:Ww,photo:Qw,name:Xw,secondaryUser:Kw,show:Gw,status:Yw,acceptButton:Jw};function Jr({user:t="",alias:e=null,show:n="",status:r="",active:s=!1,selected:i=!1,showActiveStatus:o=!1,showAcceptButton:l=!1,onClick:a=null,onAcceptButtonClick:u=null}){const{presenceShowValues:c}=Bt(),d=()=>{a&&a(t)},p=m=>m===c.AVAILABLE?"Disponible para chatear":m===c.AWAY?"Ausente":m===c.DND?"No molestar":m===c.XA?"No disponible":"Sin estado",y=m=>{m.stopPropagation(),u&&u()};return v.jsxs("li",{className:`${Ot.contactItem} ${i?Ot.selected:""}`,onClick:d,tabIndex:0,onKeyUp:d,role:"button",children:[v.jsx(Nu,{name:t,className:Ot.photo,isActive:s,showStatus:o}),v.jsxs("div",{className:Ot.data,children:[v.jsx("span",{className:Ot.name,children:e?v.jsxs(v.Fragment,{children:[e," ",v.jsx("span",{className:Ot.secondaryUser,children:`(${t})`})]}):t}),n&&v.jsx("span",{className:Ot.show,children:p(n)}),r&&v.jsx("span",{className:Ot.status,children:r}),l&&v.jsx("button",{type:"button",className:Ot.acceptButton,onClick:y,children:"Aceptar solicitud"})]})]})}Jr.propTypes={user:H.string.isRequired,alias:H.string,show:H.string,status:H.string,message:H.string,date:H.string,active:H.bool,notViewed:H.number,selected:H.bool,showActiveStatus:H.bool,onClick:H.func,showAcceptButton:H.bool,onAcceptButtonClick:H.func};function lm({onSelectedUserChange:t=null}){const{roster:e,userStates:n,subscriptionRequests:r,acceptSubscription:s,addContact:i,getRoster:o}=Bt(),[l,a]=x.useState(null),u=m=>{if(!confirm(`¿Desea agregar a ${m} a tus contactos?`))return;const _=prompt("Ingrese un apodo para este contacto");_&&s(m,_)},c=()=>{const m=prompt("Ingrese el nombre del usuario");if(!m)return;const w=prompt("Ingrese un apodo para este contacto");w&&i(m,w)};x.useEffect(()=>{o()},[]),x.useEffect(()=>{t&&t(l)},[l]);const d=Object.values(e),p=d.filter(m=>m.subscription!=="both"),y=d.filter(m=>m.subscription==="both");return v.jsxs("div",{className:Qt.contactsList,children:[v.jsxs("header",{children:[v.jsx("h1",{className:Qt.title,children:"Contactos"}),v.jsx(yo,{onClick:c,title:"Agregar nuevo contacto"})]}),v.jsxs("div",{className:`${Qt.listsContainer} ${Er}`,children:[v.jsx("ul",{className:Qt.list,children:y.map(m=>{const w=!!n[m.user],_=w&&n[m.user].available,f=w?n[m.user].show:null,h=w?n[m.user].status:null;return v.jsx(Jr,{user:m.user,alias:m.alias,active:_,showActiveStatus:w,show:f??"Sin estado",status:h,onClick:a},m.user)})}),(r==null?void 0:r.length)>0&&v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:Qt.subtitle,children:"Solicitudes recibidas"}),v.jsx("ul",{className:Qt.list,children:r.map(m=>v.jsx(Jr,{user:m,showAcceptButton:!0,onClick:a,onAcceptButtonClick:()=>u(m)},m))})]}),(p==null?void 0:p.length)>0&&v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:Qt.subtitle,children:"Solicitudes pendientes"}),v.jsx("ul",{className:Qt.list,children:p.map(m=>v.jsx(Jr,{user:m.user,alias:m.alias,onClick:a},m.user))})]})]})]})}lm.propTypes={onSelectedUserChange:H.func};const Zw="_profileBody_pj24w_1",eS="_title_pj24w_41",tS="_user_pj24w_49",nS="_form_pj24w_57",rS="_inputContainer_pj24w_69",sS="_statusInput_pj24w_91",iS="_showStatusSelect_pj24w_91",oS="_updateButton_pj24w_121",lS="_deleteButton_pj24w_147",ot={profileBody:Zw,title:eS,user:tS,form:nS,inputContainer:rS,statusInput:sS,showStatusSelect:iS,updateButton:oS,deleteButton:lS};function am(){const{logout:t,session:e}=qn(),{presenceShowValues:n,userStatus:r,deleteAccount:s,changeState:i}=Bt(),[o,l]=x.useState(""),[a,u]=x.useState(""),c=w=>{l(w.target.value)},d=w=>{u(w.target.value)},p=()=>{i({show:o}),alert("Estado actualizado")},y=()=>{i({status:a}),alert("Estado actualizado")},m=()=>{confirm("¿Estás seguro de que deseas eliminar tu cuenta?")&&s().then(()=>{alert("Cuenta eliminada"),t()})};return v.jsxs("div",{className:ot.profileBody,children:[v.jsx("header",{children:v.jsx("h1",{className:ot.title,children:"Perfil"})}),v.jsx("h3",{className:ot.user,children:e==null?void 0:e.user}),v.jsxs("form",{className:ot.form,children:[v.jsxs("div",{className:ot.inputContainer,children:[v.jsx("label",{htmlFor:"name",children:"Estado"}),v.jsxs("select",{className:ot.showStatusSelect,defaultValue:r.show,onChange:c,children:[v.jsx("option",{value:n.AVAILABLE,children:"Disponible"}),v.jsx("option",{value:n.AWAY,children:"Ausente"}),v.jsx("option",{value:n.DND,children:"No molestar"}),v.jsx("option",{value:n.XA,children:"No disponible"})]})]}),v.jsx("button",{type:"button",className:ot.updateButton,onClick:p,children:"Actualizar"}),v.jsxs("div",{className:ot.inputContainer,children:[v.jsx("label",{htmlFor:"name",children:"Estado personalizado"}),v.jsx("input",{className:ot.statusInput,placeholder:"Escribe un estado",defaultValue:r.status,onChange:d})]}),v.jsx("button",{type:"button",className:ot.updateButton,onClick:y,children:"Actualizar"}),v.jsx("button",{type:"button",className:ot.deleteButton,onClick:m,children:"Eliminar cuenta"})]})]})}am.propTypes={};const aS="_roomsList_sr74z_1",uS="_title_sr74z_39",cS="_listContainer_sr74z_49",sl={roomsList:aS,title:uS,listContainer:cS};function um({onSelectedRoomChange:t=null}){const{session:e}=qn(),{rooms:n,joinRoom:r}=Bt(),[s,i]=x.useState(null);x.useEffect(()=>{t&&t(s)},[s]);const o=()=>{const l=prompt("Ingrese el nombre del grupo al que desea unirse:");l&&r(l,e.user)};return v.jsxs("div",{className:sl.roomsList,children:[v.jsxs("header",{children:[v.jsx("h1",{className:sl.title,children:"Grupos"}),v.jsx(yo,{onClick:o})]}),v.jsx("ul",{className:`${sl.listContainer} ${Er}`,children:Object.entries(n).sort((l,a)=>{const[u,c]=l,[d,p]=a,y=c.messages.slice(-1)[0],m=p.messages.slice(-1)[0];return!y&&!m?u<d?-1:1:!y||!m?-1:m.date-y.date}).map(l=>{var y;const[a,{messages:u}]=l,c=u.slice(-1)[0],d=c?`${c.nickname===e.user?"Tú":c.nickname}: ${c.message}`:null,p=u.filter(m=>!m.viewed&&m.nickname!==e.user).length;return v.jsx(Tu,{user:a,message:d,date:(y=c==null?void 0:c.date)==null?void 0:y.toString(),onClick:i,selected:s===a,notViewed:p},a)})})]})}um.propTypes={onSelectedRoomChange:H.func};const dS="_chat_1jas1_1",fS="_chatHeader_1jas1_13",hS="_title_1jas1_31",pS="_chatBody_1jas1_49",mS="_chatsContainer_1jas1_61",gS="_messagesList_1jas1_75",vS="_members_1jas1_95",yS="_membersTitle_1jas1_109",Xt={chat:dS,chatHeader:fS,title:hS,chatBody:pS,chatsContainer:mS,messagesList:gS,members:vS,membersTitle:yS},_S="_button_5wdxi_1",wS={button:_S};function cm({onClick:t,className:e="",title:n=""}){return v.jsx("button",{type:"button",className:`${wS.button} ${e}`,onClick:t,title:n,children:v.jsx(K2,{})})}cm.propTypes={onClick:H.func,title:H.string,className:H.string};function dm({room:t}){const{rooms:e,sendRoomMessage:n,markAllRoomMessagesAsViewed:r,getUploadUrl:s}=Bt(),{messages:i,users:o}=e[t],{session:l}=qn(),a=x.useRef(),u=x.useRef(),c=x.useRef(!0),[d,p]=x.useState(!1),y=()=>{a.current.scrollTop=a.current.scrollHeight},m=_=>{n(t,_),c.current=!0},w=_=>{_&&s({filename:_.name,size:_.size,contentType:_.type}).then(f=>{fetch(f,{method:"PUT",body:_}).then(()=>{m(f)})})};return x.useEffect(()=>{r(t)},[]),x.useEffect(()=>{if(a.current&&u.current){c.current&&(y(),c.current=!1);const{scrollTop:_,clientHeight:f}=a.current,h=u.current.offsetTop;_+f>=h-100&&y()}},[e]),v.jsxs("div",{className:Xt.chat,onClick:()=>r(t),onFocus:()=>r(t),children:[v.jsxs("header",{className:Xt.chatHeader,children:[v.jsx("h3",{className:Xt.title,children:t}),v.jsx(cm,{title:"Ver miembros",onClick:()=>p(_=>!_)})]}),v.jsxs("div",{className:Xt.chatBody,children:[v.jsx("div",{className:`${Xt.chatsContainer} ${Er}`,ref:a,children:v.jsx("ul",{className:Xt.messagesList,children:i.map((_,f)=>{const h=f===0||i[f-1].nickname!==_.nickname;return v.jsx(Ru,{left:_.nickname!==l.user,message:_.message,date:_.date.toString(),showTriangle:h,user:h?_.nickname:null,refObj:f===i.length-1?u:null,showViewed:!1},f)})})}),d&&v.jsxs("div",{className:`${Xt.members} ${Er}`,children:[v.jsx("h3",{className:Xt.membersTitle,children:"Miembros"}),v.jsx("ul",{children:Object.values(o).map(_=>v.jsx(v.Fragment,{children:v.jsx(Jr,{user:_.nickname,active:_.available,showActiveStatus:_.available===!0||_.available===!1},`${t}-${_.nickname}`)}))})]})]}),v.jsx(Ou,{onSend:m,onKeyUp:()=>r(t),onFileSend:w})]})}dm.propTypes={room:H.string.isRequired};const Rt={CHATS:"CHATS",GROUPS:"GROUPS",CONTACTS:"CONTACTS",PROFILE:"PROFILE"};function fm(){const[t,e]=x.useState(Rt.CHATS),[n,r]=x.useState(null),[s,i]=x.useState(null),{logout:o}=qn(),l=u=>{r(u),i(null)},a=u=>{i(u),r(null)};return v.jsxs("div",{className:N2.chatPage,children:[v.jsx(nm,{onChatOptionClick:()=>e(Rt.CHATS),onGroupChatOptionClick:()=>e(Rt.GROUPS),onContactsOptionClick:()=>e(Rt.CONTACTS),onProfileOptionClick:()=>e(Rt.PROFILE),onExitOptionClick:o}),t===Rt.CHATS&&v.jsx(sm,{onSelectedUserChange:l}),t===Rt.CONTACTS&&v.jsx(lm,{onSelectedUserChange:r}),t===Rt.PROFILE&&v.jsx(am,{}),t===Rt.GROUPS&&v.jsx(um,{onSelectedRoomChange:a}),n&&v.jsx(om,{user:n}),s&&v.jsx(dm,{room:s})]})}fm.propTypes={};const SS="_registerPage_1bb4h_1",xS="_title_1bb4h_21",CS="_registerBody_1bb4h_39",ES="_instructions_1bb4h_53",kS="_input_1bb4h_63",NS="_button_1bb4h_85",TS="_registerLink_1bb4h_119",OS="_spinner_1bb4h_147",RS="_error_1bb4h_155",yt={registerPage:SS,title:xS,registerBody:CS,instructions:ES,input:kS,button:NS,registerLink:TS,spinner:OS,error:RS};function hm(){const{login:t}=qn(),{register:e}=Bt(),[n,r]=x.useState(null),[s,i]=x.useState(!1),[o,l]=x.useState(""),[a,u]=x.useState(""),c=d=>{if(d.preventDefault(),o.trim().length===0||a.trim().length===0){r("Debes completar los campos para iniciar sesión.");return}i(!0),r(!1),e(o,a).then(()=>{t({user:o,password:a,callback:p=>{p||r("No se pudo iniciar sesión con el nuevo usuario."),i(!1)}})}).catch(p=>{i(!1),r(p==null?void 0:p.message)})};return v.jsxs("div",{className:yt.registerPage,children:[v.jsx("h1",{className:yt.title,children:"XMPP CHAT"}),v.jsxs("form",{className:yt.registerBody,onSubmit:c,children:[v.jsx("p",{className:yt.instructions,children:"Crea una nueva cuenta"}),v.jsx("input",{type:"text",className:yt.input,placeholder:"Usuario",value:o,onChange:d=>l(d.target.value)}),v.jsx("input",{type:"password",className:yt.input,placeholder:"Contraseña",value:a,onChange:d=>u(d.target.value)}),s?v.jsx(ku,{className:yt.spinner}):v.jsx("button",{type:"submit",className:yt.button,children:"Registrate"}),n&&v.jsx("p",{className:yt.error,children:n})]}),v.jsx(tp,{to:"/",className:yt.registerLink,children:"Iniciar sesión"})]})}hm.propTypes={};function LS(){const{session:t}=qn();let e=null;return t===null?e=v.jsxs(Vc,{children:[v.jsx(ci,{path:"/register",element:v.jsx(hm,{})}),v.jsx(ci,{path:"*",element:v.jsx(Zp,{})})]}):t!==void 0&&(e=v.jsx(Vc,{children:v.jsx(ci,{path:"*",element:v.jsx(fm,{})})})),e}function AS(){return v.jsx(wp,{children:v.jsx(Uh,{children:v.jsx(B1,{children:v.jsx(LS,{})})})})}il.createRoot(document.getElementById("root")).render(v.jsx(AS,{}));
